{"version":3,"sources":["../js/abilities.js","../js/board.js","../js/browser.js","../js/b_____.js","../js/canvas.js","../js/config.js","../js/flag.js","../js/game.js","../js/index.js","../js/items.js","../js/menus.js","../js/messages.js","../js/org.js","../js/run.js","../js/thesocket.js","../js/title.js","../js/tutorial.js","../js/world.js"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"bundle.js","sourcesContent":["var ability;\r\nvar Ability = function(datA) { // datA: { player: }\r\n   let data = datA;\r\n   this.player = data.player;\r\n   this.auto = false;\r\n   this.extend = {\r\n      value: false,\r\n      activated: false,\r\n      can: false,\r\n      i: 0,\r\n      j: 0,\r\n      start: undefined,\r\n      end: undefined,\r\n      cooling: false,\r\n      time: 4500,\r\n      cooldown: 4000\r\n   };\r\n   this.compress = {\r\n      value: false,\r\n      applied: false,\r\n      activated: false,\r\n      can: false,\r\n      i: 0,\r\n      j: 1,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      cooling: false,\r\n      time: 3500,\r\n      cooldown: 4000\r\n   };\r\n   // speed: { // Not updated\r\n   // \tvalue: false, \r\n   // \tactivated: false, \r\n   // \ti: 0, \r\n   // \tj: 0, \r\n   // \tfactor: 2, \r\n   // \ttimeout: undefined, \r\n   // \ttime: 5000\r\n   // };\r\n   // slow: { // Not updated\r\n   // \tvalue: false, \r\n   // \tactivated: false, \r\n   // \ti: 0, \r\n   // \tj: 1, \r\n   // \tfactor: 2, \r\n   // \ttimeout: undefined, \r\n   // \ttime: 5000\r\n   // };\r\n   this.immortality = {\r\n      value: false,\r\n      activated: false,\r\n      can: false,\r\n      i: 1,\r\n      j: 0,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      cooling: false,\r\n      time: 3500,\r\n      cooldown: 6000\r\n   };\r\n   this.freeze = {\r\n      value: false,\r\n      applied: false,\r\n      activated: false,\r\n      can: false,\r\n      i: 1,\r\n      j: 1,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      cooling: false,\r\n      time: 4000,\r\n      cooldown: 6000\r\n   };\r\n   // stimulate: {\r\n   // \tvalue: false, \r\n   // \tactivated: false, \r\n   // \tcan: false, \r\n   // \ti: 2, \r\n   // \tj: 0, \r\n   // \tfactor: 9, // Factor must be equal to that of poison\r\n   // \ttimeout: undefined, \r\n   // \tstart: undefined, \r\n   // \tend: undefined, \r\n   // \tcooling: false, \r\n   // \ttime: 3000, \r\n   // \tcooldown: 5000\r\n   // }, \r\n   // poison: {\r\n   // \tvalue: false, \r\n   // \tactivated: false, \r\n   // \tcan: false, \r\n   // \ti: 2, \r\n   // \tj: 1, \r\n   // \tfactor: 9, // Factor must be equal to that of stimulate\r\n   // \ttimeout: undefined, \r\n   // \tstart: undefined, \r\n   // \tend: undefined, \r\n   // \tcooling: false, \r\n   // \ttime: 3000, \r\n   // \tcooldown: 5000\r\n   // }, \r\n   this.neutralize = {\r\n      value: false,\r\n      activated: false,\r\n      can: false,\r\n      i: 2,\r\n      j: 0,\r\n      radius: 60,\r\n      color: { r: 0, g: 179, b: 12 },\r\n      weight: 3,\r\n      x: undefined,\r\n      y: undefined,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      cooling: false,\r\n      time: 3500,\r\n      cooldown: 6500\r\n   };\r\n   this.toxin = {\r\n      value: false,\r\n      activated: false,\r\n      can: false,\r\n      i: 2,\r\n      j: 1,\r\n      radius: 60,\r\n      color: { r: 255, g: 111, b: 92 },\r\n      weight: 3,\r\n      x: undefined,\r\n      y: undefined,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      cooling: false,\r\n      time: 4000,\r\n      cooldown: 6000\r\n   };\r\n   this.spore = {\r\n      value: false,\r\n      activated: false,\r\n      i: 3,\r\n      j: 0,\r\n      interval: undefined,\r\n      speed: 6,\r\n      spores: [],\r\n      count: 0,\r\n      can: false,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      cooling: false,\r\n      time: 1700,\r\n      cooldown: 7500 // 7500 default\r\n   };\r\n   this.secrete = {\r\n      value: false,\r\n      activated: false,\r\n      i: 3,\r\n      j: 1,\r\n      color: { r: undefined, g: undefined, b: undefined },\r\n      radius: _cellwidth / cos45 * 2.9,\r\n      can: false,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      time: 800\r\n   };\r\n   this.shoot = {\r\n      value: [false, false, false],\r\n      can: [true, true, true],\r\n      secrete: [{}, {}, {}\r\n         // { // Sets values on use\r\n         // \tvalue: false, \r\n         // \tcolor: undefined, \r\n         // \tradius: _cellwidth / cos45 * 2.7 / 2, // Half 'secrete'\r\n         // \thit: false, \r\n         // \ttimeout: undefined, \r\n         // \tstart: undefined, \r\n         // \tend: undefined, \r\n         // \ttime: 800 // Same as 'secrete'\r\n         // }\r\n      ],\r\n      spore: [undefined, undefined, undefined],\r\n      speed: 5,\r\n      interval: [undefined, undefined, undefined],\r\n      timeout: [undefined, undefined, undefined],\r\n      start: [undefined, undefined, undefined],\r\n      end: [undefined, undefined, undefined],\r\n      time: 1500,\r\n      cooling: [false, false, false],\r\n      cooldown: [2000, 2000, 2000]\r\n   };\r\n   this.tag = {\r\n      value: false,\r\n      activated: false,\r\n      i: 0,\r\n      j: 1,\r\n      can: false,\r\n      timeout: undefined,\r\n      start: undefined,\r\n      end: undefined,\r\n      time: 0,\r\n      cooldown: 5000\r\n   };\r\n};\r\n\r\nfunction shoot(I, J) { // Both parameters are required\r\n   if (ability.shoot.value[I] == false && ability.shoot.can[I] == true) { // If not currently shooting and if can shoot specified ability (Should have been checked before this point)\r\n      ability.shoot.value[I] = true;\r\n      ability.shoot.can[I] = false;\r\n      ability.shoot.secrete[I].value = false;\r\n      clearTimeout(ability.shoot.timeout[I]); // Reset timeout\r\n      ability.shoot.start[I] = new Date(); // Set start time\r\n\r\n      // Get Spore\r\n      let regions = getRegionInfo(org); // Get region data\r\n      let theta;\r\n      if (mouseX == Infinity || mouseY == Infinity) {\r\n         let mpos = getMpos();\r\n         mouseX = mpos.x;\r\n         mouseY = mpos.y;\r\n      }\r\n      if (state != 'tutorial') {\r\n         theta = atan((mouseY - center.y) / (mouseX - center.x)); // Get angle (theta) from mouse pointer\r\n         if (mouseX < center.x) { // If mouse is in second or third quadrants\r\n            theta += 180; // Correct theta for negative x\r\n         }\r\n      } else {\r\n         theta = atan((mouseY - org.pos.y) / (mouseX - org.pos.x));\r\n         if (mouseX < org.pos.x) { // If mouse is in second or third quadrants\r\n            theta += 180; // Correct theta for negative x\r\n         }\r\n      }\r\n      let deltas = [];\r\n      for (let i = 0; i < regions.exposed.length; i++) { // Loop through exposed cells\r\n         let phi = atan((regions.exposed[i].y - org.y()) / (regions.exposed[i].x - org.x())); // Get angle (phi) of each exposed cell\r\n         if (regions.exposed[i].x - org.x() < 0) {\r\n            phi += 180;\r\n         }\r\n         deltas.push(abs(theta - phi)); // Calculate difference between theta and phi and collect in 'deltas' array\r\n      }\r\n      let min;\r\n      for (let i = 0; i < deltas.length; i++) {\r\n         if (i == 0) {\r\n            min = deltas[i]; // Set first delta as min for comparison value\r\n            continue;\r\n         } else if (min > deltas[i]) { // Calculate minimum delta\r\n            min = deltas[i];\r\n         }\r\n      }\r\n      ability.shoot.spore[I] = regions.exposed[deltas.indexOf(min)]; // Set spore as the cell with angle phi closest to mouse angle theta\r\n      for (let i = 0; i < org.count; i++) {\r\n         if (ability.shoot.spore[I].x == org.cells[i].x && ability.shoot.spore[I].y == org.cells[i].y) { // Find spore in org\r\n            org.cells.splice(i, 1); // Remove spore cell from org\r\n            org.count--;\r\n            i--;\r\n            break;\r\n         }\r\n      }\r\n      ability.shoot.spore[I].speed = ability.shoot.speed;\r\n      ability.shoot.spore[I].theta = theta;\r\n\r\n      // Interval\r\n      ability.shoot.interval[I] = () => {\r\n         ability.shoot.spore[I].x += ability.shoot.spore[I].speed * cos(ability.shoot.spore[I].theta);\r\n         ability.shoot.spore[I].y += ability.shoot.spore[I].speed * sin(ability.shoot.spore[I].theta);\r\n         socket.emit('Ability', ability);\r\n      };\r\n\r\n      // Timeout\r\n      ability.shoot.timeout[I] = setTimeout(() => {\r\n         if (ability.shoot.value[I] == true && ability.shoot.secrete[I].value == false) {\r\n            ability.shoot.value[I] = false;\r\n            ability.shoot.spore[I] = undefined;\r\n            ability.shoot.cooling[I] = true;\r\n            ability.shoot.end[I] = new Date();\r\n            ability.shoot.secrete[I].end = new Date();\r\n            socket.emit('Ability', ability);\r\n         }\r\n      }, ability.shoot.time);\r\n\r\n   } else if (ability.shoot.value[I] == true) { // If currently shooting (secrete)\r\n      ability.shoot.end[I] = new Date();\r\n      ability.shoot.value[I] = false;\r\n      ability.shoot.secrete[I].radius = _cellwidth / cos45 * 2.9 / 2; // Not predefined (Half secrete)\r\n      ability.shoot.secrete[I].hit = false;\r\n      ability.shoot.secrete[I].time = 800; // Not predefined (Same as secrete)\r\n      clearTimeout(ability.shoot.timeout[I]);\r\n      ability.shoot.secrete[I].start = new Date();\r\n      ability.shoot.secrete[I].color = org.color;\r\n\r\n      // Hit (Apply Ability) (Hit detection on local machine)\r\n      let src = getSrc();\r\n      for (let i = 0; i < src.orgs.length; i++) {\r\n         if (src.orgs[i].player == socket.id || org.team && src.orgs[i].team === org.team) { // Do not apply ability to self or teammate\r\n            continue;\r\n         }\r\n         for (let j = 0; j < src.orgs[i].count; j++) {\r\n            if (sqrt(sq(src.orgs[i].cells[j].x - ability.shoot.spore[I].x) + sq(src.orgs[i].cells[j].y - ability.shoot.spore[I].y)) < ability.shoot.secrete[I].radius) { // If center of cell is within circle (subject to change)\r\n               if (src.abilities[i].neutralize.value == true && sqrt(sq(src.orgs[i].cells[j].x - src.abilities[i].neutralize.x) + sq(src.orgs[i].cells[j].y - src.abilities[i].neutralize.y)) <= src.abilities[i].neutralize.radius) { // If center of cell is within neutralize circle\r\n                  continue;\r\n               }\r\n               use(I, J, src.orgs[i].player); // Apply ability to target\r\n               ability.shoot.secrete[I].hit = true;\r\n               break;\r\n            }\r\n         }\r\n      }\r\n\r\n      ability.shoot.secrete[I].value = true; // Value after hit detection so 'grow' hit detection does not run before initial\r\n      socket.emit('Ability', ability);\r\n      ability.shoot.secrete[I].timeout = setTimeout(() => {\r\n         ability.shoot.secrete[I].value = false;\r\n         ability.shoot.secrete[I].end = new Date(); { // Copy of 'shoot' timeout\r\n            ability.shoot.value[I] = false;\r\n            ability.shoot.spore[I] = undefined;\r\n            ability.shoot.cooling[I] = true;\r\n            ability.shoot.end[I] = new Date();\r\n         }\r\n         clearTimeout(ability.shoot.timeout[I]);\r\n         ability.shoot.timeout[I] = undefined;\r\n         socket.emit('Ability', ability);\r\n      }, ability.shoot.secrete[I].time);\r\n   }\r\n}\r\n\r\nfunction use(I, J, playeR) {\r\n   if (I == 0) {\r\n      if (J == 0) {\r\n         if (ability.extend.activated == true) {\r\n            extend(playeR);\r\n         }\r\n      } else if (J == 1) {\r\n         if (ability.compress.activated == true) {\r\n            compress(playeR);\r\n         } else if (ability.tag.activated == true) {\r\n            tag(playeR);\r\n         }\r\n      }\r\n   } else if (I == 1) {\r\n      if (J == 0) {\r\n         if (ability.immortality.activated == true) {\r\n            immortality(playeR);\r\n         }\r\n      } else if (J == 1) {\r\n         if (ability.freeze.activated == true) {\r\n            freeze(playeR);\r\n         }\r\n      }\r\n   } else if (I == 2) {\r\n      if (J == 0) {\r\n         if (ability.neutralize.activated == true) {\r\n            neutralize(playeR);\r\n         }\r\n      } else if (J == 1) {\r\n         if (ability.toxin.activated == true) {\r\n            toxin(playeR);\r\n         }\r\n      }\r\n   } else if (I == 3) {\r\n      if (J == 0) {\r\n         if (ability.spore.activated == true) {\r\n            spore(playeR);\r\n         }\r\n      } else if (J == 1) {\r\n         if (ability.secrete.activated == true) {\r\n            secrete(playeR);\r\n         }\r\n      }\r\n   }\r\n}\r\n\r\nfunction tag(playeR) {\r\n   socket.emit('Tag', playeR);\r\n   ability.tag.can = false;\r\n   ability.tag.start = new Date();\r\n   socket.emit('Ability', ability);\r\n   setTimeout(() => {\r\n      ability.tag.end = new Date();\r\n      ability.tag.cooling = true;\r\n   }, ability.tag.time);\r\n}\r\n\r\nfunction extend(playeR) {\r\n   ability.extend.can = false;\r\n   socket.emit('Extend', playeR);\r\n}\r\n\r\nfunction compress(playeR) {\r\n   let src = getSrc();\r\n   if (src.src == 'tutorial') { // Since orgs are locally grown in tutorial, abilities must be locally applied\r\n      for (let i = 0; i < src.abilities.length; i++) {\r\n         if (src.abilities[i].player == playeR) {\r\n            src.abilities[i].compress.value = true;\r\n            clearTimeout(src.abilities[i].compress.timeout);\r\n            src.abilities[i].compress.timeout = setTimeout(() => {\r\n               src.abilities[i].compress.value = false;\r\n            }, src.abilities[i].compress.time);\r\n         }\r\n      }\r\n   } else {\r\n      socket.emit('Compress', playeR);\r\n   }\r\n   ability.compress.applied = true;\r\n   ability.compress.can = false; // Redundancy\r\n   ability.compress.start = new Date();\r\n   socket.emit('Ability', ability);\r\n   setTimeout(() => {\r\n      ability.compress.end = new Date();\r\n      ability.compress.applied = false;\r\n      ability.compress.cooling = true;\r\n   }, ability.compress.time);\r\n}\r\n\r\n// function speed(playeR) {\r\n// \tsocket.emit('Speed', playeR);\r\n// }\r\n\r\n// function slow(playeR) {\r\n// \tsocket.emit('Slow', playeR);\r\n// }\r\n\r\nfunction immortality(playeR) {\r\n   ability.immortality.can = false;\r\n   socket.emit('Immortality', playeR);\r\n}\r\n\r\nfunction freeze(playeR) {\r\n   let src = getSrc();\r\n   if (src.src == 'tutorial') { // Since orgs are locally grown in tutorial, abilities must be locally applied\r\n      for (let i = 0; i < src.abilities.length; i++) {\r\n         if (src.abilities[i].player == playeR) {\r\n            src.abilities[i].freeze.value = true;\r\n            clearTimeout(src.abilities[i].freeze.timeout);\r\n            src.abilities[i].freeze.timeout = setTimeout(() => {\r\n               src.abilities[i].freeze.value = false;\r\n            }, src.abilities[i].freeze.time);\r\n         }\r\n      }\r\n   } else {\r\n      socket.emit('Freeze', playeR);\r\n   }\r\n   ability.freeze.applied = true;\r\n   ability.freeze.can = false; // Redundancy\r\n   ability.freeze.start = new Date();\r\n   socket.emit('Ability', ability);\r\n   setTimeout(() => {\r\n      ability.freeze.end = new Date();\r\n      ability.freeze.applied = false;\r\n      ability.freeze.cooling = true;\r\n   }, ability.freeze.time);\r\n}\r\n\r\n// function stimulate(playeR) {\r\n// \tability.stimulate.can = false;\r\n// \tsocket.emit('Stimulate', playeR);\r\n// }\r\n\r\n// function poison(playeR) {\r\n// \tsocket.emit('Poison', playeR);\r\n// \tability.poison.can = false; // Redundancy\r\n// \tability.poison.start = new Date();\r\n// \tsocket.emit('Ability', ability);\r\n// \tsetTimeout(() => {\r\n// \t\tability.poison.end = new Date();\r\n// \t\tability.poison.cooling = true;\r\n// \t}, ability.poison.time);\r\n// }\r\n\r\nfunction neutralize(playeR) {\r\n   socket.emit('Neutralize', playeR);\r\n   ability.neutralize.can = false;\r\n}\r\n\r\nfunction toxin(playeR) {\r\n   socket.emit('Toxin', playeR);\r\n   ability.toxin.can = false;\r\n}\r\n\r\nfunction spore() {\r\n   if (ability.spore.can == true) { // If spore is allowed\r\n      ability.spore.value = true;\r\n      clearTimeout(ability.spore.timeout);\r\n      ability.spore.can = false;\r\n      ability.secrete.can = true;\r\n      ability.spore.start = new Date();\r\n      var regions = getRegionInfo(org);\r\n      ability.spore.spores = regions.exposed; // All exposed cells become spores\r\n      ability.spore.count = ability.spore.spores.length;\r\n      for (let i = 0; i < ability.spore.count; i++) {\r\n         ability.spore.spores[i].color = org.color;\r\n         ability.spore.spores[i].theta = atan((ability.spore.spores[i].y - org.y()) / (ability.spore.spores[i].x - org.x())); // Generate angle value\r\n         if (ability.spore.spores[i].x < org.x()) {\r\n            ability.spore.spores[i].theta += 180;\r\n         }\r\n         ability.spore.spores[i].speed = ability.spore.speed; // Set spore speed to constant (subject to change)\r\n         for (let j = 0; j < org.count; j++) {\r\n            if (ability.spore.spores[i].x == org.cells[j].x && ability.spore.spores[i].y == org.cells[j].y) { // Find corresponding cell to spore\r\n               org.cells.splice(j, 1); // Remove spore cells from org\r\n               org.count--;\r\n               j--;\r\n            }\r\n         }\r\n      }\r\n      ability.spore.interval = () => {\r\n         for (let i = 0; i < ability.spore.count; i++) {\r\n            ability.spore.spores[i].x += ability.spore.spores[i].speed * cos(ability.spore.spores[i].theta);\r\n            ability.spore.spores[i].y += ability.spore.spores[i].speed * sin(ability.spore.spores[i].theta);\r\n         }\r\n         socket.emit('Ability', ability);\r\n      };\r\n      ability.spore.timeout = setTimeout(() => { // End Spore\r\n         if (ability.spore.value == true && ability.secrete.value == false) { // If secrete() has not been called\r\n            ability.spore.spores = []; // Clear spores array\r\n            ability.spore.value = false;\r\n            ability.spore.end = new Date();\r\n            ability.spore.cooling = true;\r\n            socket.emit('Ability', ability);\r\n         }\r\n      }, ability.spore.time);\r\n   }\r\n}\r\n\r\nfunction secrete() {\r\n   if (ability.secrete.can == true) { // If not already secreting and spores are activated\r\n      ability.secrete.value = true;\r\n      ability.secrete.can = false;\r\n      ability.spore.value = false;\r\n      ability.spore.end = new Date(); // Set spore end date for secrete timer calculations\r\n      clearTimeout(ability.secrete.timeout);\r\n      ability.secrete.start = new Date();\r\n      ability.secrete.color = org.color;\r\n      socket.emit('Ability', ability);\r\n      ability.secrete.timeout = setTimeout(() => { // End Secrete\r\n         ability.secrete.value = false;\r\n         ability.secrete.can = true; { // Copy of spore timeout so spore ends when secrete ends\r\n            ability.spore.spores = []; // Clear spores array\r\n            ability.spore.end = new Date(); // Overwrite actual end date for cooldown purposes\r\n            ability.spore.cooling = true;\r\n         }\r\n         ability.secrete.end = new Date();\r\n         socket.emit('Ability', ability);\r\n      }, ability.secrete.time);\r\n   }\r\n}\r\n\r\nfunction renderSpores(abilitY) {\r\n   let src = getSrc();\r\n   if (abilitY.spore.value == true) {\r\n      for (let i = 0; i < abilitY.spore.count; i++) {\r\n         let cell = abilitY.spore.spores[i];\r\n         for (let j = 0; j < src.orgs.length; j++) {\r\n            if (src.orgs[j].player == abilitY.player) {\r\n               if (src.orgs[j].skin == 'circles') {\r\n                  fill(cell.color.r, cell.color.g, cell.color.b);\r\n                  noStroke();\r\n                  ellipse(cell.x, cell.y, cell.width / 2, cell.height / 2);\r\n               } else if (src.orgs[j].skin == 'ghost') {\r\n                  noFill();\r\n                  stroke(cell.color.r, cell.color.g, cell.color.b);\r\n                  strokeWeight(1);\r\n                  rect(cell.x, cell.y, cell.width, cell.height);\r\n               } else {\r\n                  fill(cell.color.r, cell.color.g, cell.color.b);\r\n                  noStroke();\r\n                  rect(cell.x, cell.y, cell.width, cell.height);\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n   for (let i = 0; i < 3; i++) {\r\n      if (abilitY.shoot.value[i] == true) {\r\n         let cell = abilitY.shoot.spore[i];\r\n         for (let j = 0; j < src.orgs.length; j++) {\r\n            if (src.orgs[j].player == abilitY.player) {\r\n               if (src.orgs[j].skin == 'circles') {\r\n                  fill(cell.color.r, cell.color.g, cell.color.b);\r\n                  noStroke();\r\n                  ellipse(cell.x, cell.y, cell.width / 2 * .8, cell.height / 2 * .8); // .8 (default) size of spore (so as to differentiate between the two)\r\n               } else if (src.orgs[j].skin == 'ghost') {\r\n                  noFill();\r\n                  stroke(cell.color.r, cell.color.g, cell.color.b);\r\n                  strokeWeight(1);\r\n                  rect(cell.x, cell.y, cell.width * .8, cell.height * .8);\r\n               } else {\r\n                  fill(cell.color.r, cell.color.g, cell.color.b);\r\n                  noStroke();\r\n                  rect(cell.x, cell.y, cell.width * .8, cell.height * .8);\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n}\r\n\r\nfunction renderSecretions(abilitY) { // abilitY is src.abilities[x]\r\n   let src = getSrc();\r\n   for (let i = 0; i < src.orgs.length; i++) {\r\n      if (abilitY.player == src.orgs[i].player) { // Identify org of abilitY\r\n         if (abilitY.secrete.value == true) {\r\n            for (let j = 0; j < abilitY.spore.count; j++) {\r\n               let spore = abilitY.spore.spores[j];\r\n               if (src.orgs[i].skin == 'ghost') {\r\n                  noFill();\r\n                  stroke(abilitY.secrete.color.r, abilitY.secrete.color.g, abilitY.secrete.color.b);\r\n                  strokeWeight(2);\r\n                  ellipse(spore.x, spore.y, abilitY.secrete.radius);\r\n               } else {\r\n                  fill(abilitY.secrete.color.r, abilitY.secrete.color.g, abilitY.secrete.color.b);\r\n                  noStroke();\r\n                  ellipse(spore.x, spore.y, abilitY.secrete.radius);\r\n               }\r\n            }\r\n         }\r\n         for (let j = 0; j < abilitY.shoot.value.length; j++) {\r\n            if (abilitY.shoot.secrete[j].value == true) {\r\n               let spore = abilitY.shoot.spore[j];\r\n               if (src.orgs[i].skin == 'ghost') {\r\n                  noFill();\r\n                  stroke(abilitY.shoot.secrete[j].color.r, abilitY.shoot.secrete[j].color.g, abilitY.shoot.secrete[j].color.b);\r\n                  strokeWeight(2);\r\n                  ellipse(spore.x, spore.y, abilitY.shoot.secrete[j].radius);\r\n               } else {\r\n                  fill(abilitY.shoot.secrete[j].color.r, abilitY.shoot.secrete[j].color.g, abilitY.shoot.secrete[j].color.b);\r\n                  noStroke();\r\n                  ellipse(spore.x, spore.y, abilitY.shoot.secrete[j].radius);\r\n               }\r\n            }\r\n         }\r\n         break;\r\n      }\r\n   }\r\n}\r\n\r\nfunction renderNeutralize(abilitY) {\r\n   if (abilitY.neutralize.value == true) { // Render neutralize (not toxin) over shoots, spores, and secretes of opponents\r\n      fill(100);\r\n      stroke(abilitY.neutralize.color.r, abilitY.neutralize.color.g, abilitY.neutralize.color.b);\r\n      strokeWeight(abilitY.neutralize.weight);\r\n      ellipse(abilitY.neutralize.x, abilitY.neutralize.y, abilitY.neutralize.radius);\r\n   }\r\n}\r\n\r\nfunction renderToxin(abilitY) {\r\n   if (abilitY.toxin.value == true) { // Toxin renders at bottom\r\n      fill(100);\r\n      stroke(abilitY.toxin.color.r, abilitY.toxin.color.g, abilitY.toxin.color.b);\r\n      strokeWeight(abilitY.toxin.weight);\r\n      ellipse(abilitY.toxin.x, abilitY.toxin.y, abilitY.toxin.radius);\r\n   }\r\n}\r\n\r\nfunction cooldown(abilitY) { // abilitY is ability.xxxxx, not (games[i].)ability\r\n   if (typeof abilitY.value != 'object') { // If is not shoot (typeof [] == 'object')\r\n      if (abilitY.cooling == true) { // If abilitY is cooling down\r\n         let current = new Date(); // Get current time\r\n         if (current - abilitY.end >= abilitY.cooldown) { // If cooldown has passed\r\n            abilitY.can = true; // Re-enable abilitY\r\n            abilitY.cooling = false;\r\n            socket.emit('Ability', ability); // Update server\r\n         }\r\n      }\r\n   } else { // If is shoot\r\n      for (let i = 0; i < abilitY.value.length; i++) {\r\n         if (abilitY.cooling[i] == true) { // If abilitY is cooling down\r\n            let current = new Date(); // Get current time\r\n            if (current - abilitY.end[i] >= abilitY.cooldown[i]) { // If cooldown has passed\r\n               abilitY.can[i] = true; // Re-enable abilitY\r\n               abilitY.cooling[i] = false;\r\n               socket.emit('Ability', ability); // Update server\r\n            }\r\n         }\r\n      }\r\n   }\r\n}","var Board = function(datA) {\r\n   let data = datA;\r\n   this.host = socket.id; // Cannot call game.info.host since game is not fully constructed yet; World() can only be called by host, so socket.id is ok\r\n   this.list = [\r\n         // {\r\n         // \tplayer: undefined, // ID of player\r\n         // \tname: undefined, // Screen name of player\r\n         // \tkills: undefined, // Kills as defined by number of enemy cells killed\r\n         // \tdeaths: undefined, // Deaths as defined by number of org deaths\r\n         // \tratio: undefined, // Ratio of kills to deaths\r\n         // \tscore: undefined, // Flag captures (ctf), time score (kth)\r\n         // \twins: undefined // Round wins (srv, ctf, inf, kth)\r\n         // }\r\n      ],\r\n      this.count = undefined;\r\n   if (data.mode == 'skm' || data.mode == 'ctf') { // If is a team game\r\n      this.show = data.teamCount; // Maximum number of players shown in leaderboard (Top __)\r\n   } else {\r\n      this.show = data.show;\r\n   }\r\n   this.x = undefined; // width - (nameWidth + oneWidth + twoWidth) / 2 - marginRight\r\n   this.y = undefined; // marginTop\r\n   this.marginRight = 15;\r\n   this.marginTop = 13;\r\n   this.text = {\r\n      marginLeft: 5,\r\n      marginTop: 15,\r\n      size: 11,\r\n      font: 'Helvetica',\r\n      boldFont: 'Verdana',\r\n      color: { r: 0, g: 0, b: 0 }\r\n   };\r\n   this.nameWidth = 170;\r\n   this.oneWidth = 46;\r\n   this.twoWidth = 46;\r\n   this.threeWidth = 46;\r\n   this.rowHeight = 22;\r\n   this.tableWeight = 1;\r\n   this.headWeight = 1;\r\n   this.cellWeight = 1;\r\n   this.headColor = { r: 200, g: 200, b: 200 };\r\n   this.cellColor = { r: 245, g: 245, b: 245 };\r\n   this.stroke = { r: 0, g: 0, b: 0 };\r\n};\r\n\r\nfunction orderBoard(lisT) {\r\n   lisT.sort(function(a, b) { // Sorts in descending order of K:D ratio\r\n      let N;\r\n      if (game.info.mode == 'ffa' || game.info.mode == 'skm') {\r\n         N = b.kills - a.kills; // If a.kills is greater than b.kills, value will be negative, so will sort a before b\r\n         if (N == 0) {\r\n            N = a.deaths - b.deaths; // If b.deaths is greater than a.deaths, value will be positive, so will sort b before a\r\n         }\r\n      } else if (game.info.mode == 'srv') {\r\n         N = b.kills - a.kills;\r\n         if (N == 0) {\r\n            N = b.wins - a.wins;\r\n         }\r\n      } else if (game.info.mode == 'ctf' || game.info.mode == 'kth') {\r\n         N = b.score - a.score;\r\n         if (N == 0) {\r\n            N = b.wins - a.wins;\r\n         }\r\n      } else if (game.info.mode == 'inf') {\r\n         N = b.wins - a.wins;\r\n      }\r\n      return N;\r\n   });\r\n   return lisT;\r\n}\r\n\r\nfunction renderLeaderboard() {\r\n   // Leaderboard\r\n   translate(org.off.x, org.off.y); // Settings for entire board\r\n   rectMode(CORNER);\r\n   game.board.y = game.board.marginTop;\r\n   noFill();\r\n   stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n   strokeWeight(game.board.tableWeight);\r\n   textSize(game.board.text.size);\r\n   textFont(game.board.text.font);\r\n   textStyle(BOLD);\r\n   if (game.info.mode == 'ffa') {\r\n      game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth) - game.board.marginRight;\r\n      fill(game.board.headColor.r, game.board.headColor.g, game.board.headColor.b); // Header\r\n      stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n      strokeWeight(game.board.headWeight);\r\n      rect(game.board.x, game.board.y, game.board.nameWidth, game.board.rowHeight); // Names Header\r\n      rect(game.board.x + game.board.nameWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Kills Header\r\n      rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y, game.board.twoWidth, game.board.rowHeight); // Deaths Header\r\n      rect(game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.y, game.board.threeWidth, game.board.rowHeight); // Ratios Header\r\n      fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b); // Header Text\r\n      noStroke();\r\n      text('Player', game.board.x + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Kills', game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Deaths', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('K:D', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      game.board.count = min(game.board.show, game.board.list.length);\r\n   } else if (game.info.mode == 'skm') {\r\n      game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth) - game.board.marginRight;\r\n      fill(game.board.headColor.r, game.board.headColor.g, game.board.headColor.b); // Header\r\n      stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n      strokeWeight(game.board.headWeight);\r\n      rect(game.board.x, game.board.y, game.board.nameWidth, game.board.rowHeight); // Team Color Header\r\n      rect(game.board.x + game.board.nameWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Team Kills Header\r\n      rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y, game.board.twoWidth, game.board.rowHeight); // Team Deaths Header\r\n      rect(game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.y, game.board.threeWidth, game.board.rowHeight); // Team Ratio Header\r\n      fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b); // Header Text\r\n      noStroke();\r\n      text('Team', game.board.x + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Kills', game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Deaths', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('K:D', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      game.board.count = game.teams.length;\r\n   } else if (game.info.mode == 'srv') {\r\n      game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth) - game.board.marginRight;\r\n      fill(game.board.headColor.r, game.board.headColor.g, game.board.headColor.b); // Header\r\n      stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n      strokeWeight(game.board.headWeight);\r\n      rect(game.board.x, game.board.y, game.board.nameWidth, game.board.rowHeight); // Names Header\r\n      rect(game.board.x + game.board.nameWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Wins Header\r\n      rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y, game.board.twoWidth, game.board.rowHeight); // Kills Header\r\n      fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b); // Header Text\r\n      noStroke();\r\n      text('Player', game.board.x + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Wins', game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Kills', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      game.board.count = min(game.board.show, game.board.list.length);\r\n   } else if (game.info.mode == 'ctf') {\r\n      game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth) - game.board.marginRight;\r\n      fill(game.board.headColor.r, game.board.headColor.g, game.board.headColor.b); // Header\r\n      stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n      strokeWeight(game.board.headWeight);\r\n      rect(game.board.x, game.board.y, game.board.nameWidth, game.board.rowHeight); // Team Color Header\r\n      rect(game.board.x + game.board.nameWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Wins Header\r\n      rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Captures Header\r\n      fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b); // Header Text\r\n      noStroke();\r\n      text('Team', game.board.x + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Wins', game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Score', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      game.board.count = game.teams.length;\r\n   } else if (game.info.mode == 'inf') {\r\n      game.board.x = width - (game.board.nameWidth + game.board.oneWidth) - game.board.marginRight;\r\n      fill(game.board.headColor.r, game.board.headColor.g, game.board.headColor.b); // Header\r\n      stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n      strokeWeight(game.board.headWeight);\r\n      rect(game.board.x, game.board.y, game.board.nameWidth, game.board.rowHeight); // Names Header\r\n      rect(game.board.x + game.board.nameWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Wins Header\r\n      fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b); // Header Text\r\n      noStroke();\r\n      text('Player', game.board.x + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Wins', game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      game.board.count = min(game.board.show, game.board.list.length);\r\n   } else if (game.info.mode == 'kth') {\r\n      game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth) - game.board.marginRight;\r\n      fill(game.board.headColor.r, game.board.headColor.g, game.board.headColor.b); // Header\r\n      stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n      strokeWeight(game.board.headWeight);\r\n      rect(game.board.x, game.board.y, game.board.nameWidth, game.board.rowHeight); // Names Header\r\n      rect(game.board.x + game.board.nameWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Wins Header\r\n      rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y, game.board.oneWidth, game.board.rowHeight); // Score Header\r\n      fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b); // Header Text\r\n      noStroke();\r\n      text('Player', game.board.x + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Wins', game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      text('Score', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + game.board.text.marginTop);\r\n      game.board.count = min(game.board.show, game.board.list.length);\r\n   }\r\n   var a = 0;\r\n   for (let i = 0; i < game.board.count; i++) { // Body\r\n      if (game.info.mode != 'skm' && game.info.mode != 'ctf') { // If not a team mode\r\n         var spectator = false;\r\n         for (let j = 0; j < game.spectators.length; j++) {\r\n            if (game.board.list[i].player == game.spectators[j]) {\r\n               spectator = true;\r\n               break;\r\n            }\r\n         }\r\n         if (spectator == true) {\r\n            if (i < game.board.count) {\r\n               if (game.board.count < game.info.count) {\r\n                  game.board.count++; // Extend leaderboard length to include the next player\r\n                  i++; // Do not render leaderboard status if player is a spectator\r\n               } else {\r\n                  continue;\r\n               }\r\n            }\r\n         }\r\n      }\r\n      // Cell Boxes\r\n      if (game.info.mode == 'ffa') {\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b);\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x, game.board.y + (a + 1) * game.board.rowHeight, game.board.nameWidth, game.board.rowHeight); // Names Body\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         if (game.board.list[i].player == socket.id) {\r\n            textFont(game.board.text.boldFont);\r\n            textStyle(BOLD);\r\n         } else {\r\n            textFont(game.board.text.font);\r\n            textStyle(NORMAL);\r\n         }\r\n         text(game.board.list[i].name, game.board.x + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // Screen name renders under kills box\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b); // Body\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x + game.board.nameWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.oneWidth, game.board.rowHeight); // Kills Body\r\n         rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.twoWidth, game.board.rowHeight); // Deaths Body\r\n         rect(game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.threeWidth, game.board.rowHeight); // Ratios Body\r\n         // Text\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         text(game.board.list[i].kills, game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n         text(game.board.list[i].deaths, game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n         game.board.list[i].ratio = game.board.list[i].kills / game.board.list[i].deaths;\r\n         if (game.board.list[i].ratio == Infinity) { // n / 0, n != 0 (Divide by Zero)\r\n            text('', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // K:D Ratio (Rounded to two decimal places)\r\n         } else if (game.board.list[i].kills == 0 && game.board.list[i].deaths == 0) { // 0 / 0 (Indeterminate Form) (Ratio is NaN)\r\n            text('0', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // K:D Ratio (Rounded to two decimal places)\r\n         } else { // n / m, m != 0 (Rational Number)\r\n            text(round(game.board.list[i].ratio * 100) / 100, game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // K:D Ratio (Rounded to two decimal places)\r\n         }\r\n      } else if (game.info.mode == 'skm') {\r\n         // fill(game.world.backdrop.r - 20, game.world.backdrop.g - 20, game.world.backdrop.b - 20);\r\n         // noStroke();\r\n         // rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth, game.board.rowHeight);\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b);\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x, game.board.y + (a + 1) * game.board.rowHeight, game.board.nameWidth, game.board.rowHeight); // Team Color Body\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         if (game.teams[i].indexOf(org.player) != -1) { // If player is on given team\r\n            textFont(game.board.text.boldFont);\r\n            textStyle(BOLD);\r\n         } else {\r\n            textFont(game.board.text.font);\r\n            textStyle(NORMAL);\r\n         }\r\n         text(teamColors[i][0].toUpperCase() + teamColors[i].slice(1), game.board.x + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // Screen name is above so it renders under kills box\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b); // Body\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x + game.board.nameWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.oneWidth, game.board.rowHeight); // Team Kills Body\r\n         rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.twoWidth, game.board.rowHeight); // Team Deaths Body\r\n         rect(game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.threeWidth, game.board.rowHeight); // Team Ratios Body\r\n         // Text\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         var teamKills = 0;\r\n         var teamDeaths = 0;\r\n         for (let j = 0; j < game.teams[i].length; j++) {\r\n            for (let k = 0; k < game.board.list.length; k++) {\r\n               if (game.teams[i][j] == game.board.list[k].player) {\r\n                  teamKills += game.board.list[k].kills;\r\n                  teamDeaths += game.board.list[k].deaths;\r\n                  break;\r\n               }\r\n            }\r\n         }\r\n         var teamRatio = teamKills / teamDeaths;\r\n         text(teamKills, game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n         text(teamDeaths, game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n         if (teamRatio == Infinity) { // n / 0, n != 0 (Divide by Zero)\r\n            text('', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // K:D Ratio (Rounded to two decimal places)\r\n         } else if (teamKills == 0 && teamDeaths == 0) { // 0 / 0 (Indeterminate Form) (Ratio is NaN)\r\n            text('0', game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // K:D Ratio (Rounded to two decimal places)\r\n         } else { // n / m, m != 0 (Rational Number)\r\n            text(round(teamRatio * 100) / 100, game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // K:D Ratio (Rounded to two decimal places)\r\n         }\r\n      } else if (game.info.mode == 'srv') {\r\n         // fill(game.world.backdrop.r - 20, game.world.backdrop.g - 20, game.world.backdrop.b - 20);\r\n         // noStroke();\r\n         // rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.rowHeight);\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b);\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x, game.board.y + (a + 1) * game.board.rowHeight, game.board.nameWidth, game.board.rowHeight); // Names Body\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         if (game.board.list[i].player == socket.id) {\r\n            textFont(game.board.text.boldFont);\r\n            textStyle(BOLD);\r\n         } else {\r\n            textFont(game.board.text.font);\r\n            textStyle(NORMAL);\r\n         }\r\n         text(game.board.list[i].name, game.board.x + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // Screen name renders under kills box\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b); // Body\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x + game.board.nameWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.oneWidth, game.board.rowHeight); // Kills Body\r\n         rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.twoWidth, game.board.rowHeight); // Deaths Body\r\n         // Text\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         text(game.board.list[i].wins, game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n         text(game.board.list[i].kills, game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n      } else if (game.info.mode == 'ctf') {\r\n         // fill(game.world.backdrop.r - 20, game.world.backdrop.g - 20, game.world.backdrop.b - 20);\r\n         // noStroke();\r\n         // rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth, game.board.rowHeight);\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b);\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x, game.board.y + (a + 1) * game.board.rowHeight, game.board.nameWidth, game.board.rowHeight); // Team Color Body\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         if (game.teams[i].indexOf(org.player) != -1) { // If player is on given team\r\n            textFont(game.board.text.boldFont);\r\n            textStyle(BOLD);\r\n         } else {\r\n            textFont(game.board.text.font);\r\n            textStyle(NORMAL);\r\n         }\r\n         text(teamColors[i][0].toUpperCase() + teamColors[i].slice(1), game.board.x + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // Screen name is above so it renders under kills box\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b); // Body\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x + game.board.nameWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.oneWidth, game.board.rowHeight); // Team Kills\r\n         rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.twoWidth, game.board.rowHeight); // Round Wins\r\n         // Text\r\n         var wins = 0;\r\n         let done = false;\r\n         for (let j = 0; j < game.teams[i].length; j++) {\r\n            for (let k = 0; k < game.board.list.length; k++) {\r\n               if (game.teams[i][j] == game.board.list[k].player) { // Find player in board list\r\n                  wins = game.board.list[k].wins; // Team wins saved to each player; Copy wins from one player to represent the team\r\n                  done = true;\r\n                  break;\r\n               }\r\n            }\r\n            if (done == true) {\r\n               break;\r\n            }\r\n         }\r\n         var captures = 0;\r\n         for (let j = 0; j < game.teams[i].length; j++) {\r\n            for (let k = 0; k < game.board.list.length; k++) {\r\n               if (game.teams[i][j] == game.board.list[k].player) {\r\n                  captures += game.board.list[k].score;\r\n                  break;\r\n               }\r\n            }\r\n         }\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         text(wins, game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n         text(captures, game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n      } else if (game.info.mode == 'inf') {\r\n         // fill(game.world.backdrop.r - 20, game.world.backdrop.g - 20, game.world.backdrop.b - 20);\r\n         // noStroke();\r\n         // rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth, game.board.rowHeight);\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b);\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x, game.board.y + (a + 1) * game.board.rowHeight, game.board.nameWidth, game.board.rowHeight); // Names Body\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         if (game.board.list[i].player == socket.id) {\r\n            textFont(game.board.text.boldFont);\r\n            textStyle(BOLD);\r\n         } else {\r\n            textFont(game.board.text.font);\r\n            textStyle(NORMAL);\r\n         }\r\n         text(game.board.list[i].name, game.board.x + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // Screen name renders under kills box\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b); // Body\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x + game.board.nameWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.oneWidth, game.board.rowHeight); // Kills Body\r\n         // Text\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         text(game.board.list[i].wins, game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n      } else if (game.info.mode == 'kth') {\r\n         // fill(game.world.backdrop.r - 20, game.world.backdrop.g - 20, game.world.backdrop.b - 20);\r\n         // noStroke();\r\n         // rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth, game.board.rowHeight);\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b);\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x, game.board.y + (a + 1) * game.board.rowHeight, game.board.nameWidth, game.board.rowHeight); // Names Body\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         if (game.board.list[i].player == socket.id) {\r\n            textFont(game.board.text.boldFont);\r\n            textStyle(BOLD);\r\n         } else {\r\n            textFont(game.board.text.font);\r\n            textStyle(NORMAL);\r\n         }\r\n         text(game.board.list[i].name, game.board.x + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop); // Screen name renders under kills box\r\n         fill(game.board.cellColor.r, game.board.cellColor.g, game.board.cellColor.b); // Body\r\n         stroke(game.board.stroke.r, game.board.stroke.g, game.board.stroke.b);\r\n         strokeWeight(game.board.cellWeight);\r\n         rect(game.board.x + game.board.nameWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.oneWidth, game.board.rowHeight); // Score\r\n         rect(game.board.x + game.board.nameWidth + game.board.oneWidth, game.board.y + (a + 1) * game.board.rowHeight, game.board.twoWidth, game.board.rowHeight); // Wins\r\n         // Text\r\n         fill(game.board.text.color.r, game.board.text.color.g, game.board.text.color.b);\r\n         noStroke();\r\n         text(game.board.list[i].wins, game.board.x + game.board.nameWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n         text(game.board.list[i].score, game.board.x + game.board.nameWidth + game.board.oneWidth + game.board.text.marginLeft, game.board.y + (a + 1) * game.board.rowHeight + game.board.text.marginTop);\r\n      }\r\n      a++;\r\n   }\r\n   rectMode(CENTER); // Reset Mode\r\n   translate(-org.off.x, -org.off.y);\r\n}","var connections;\r\n\r\nclass Browser extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         games: props.games\r\n      };\r\n   }\r\n\r\n   componentWillReceiveProps(next) {\r\n      if (next.games) this.setState({ games: next.games });\r\n   }\r\n   render() {\r\n      let gamerows = [];\r\n      for (let i = 0; i < this.state.games.length; i++) {\r\n         if (this.state.games[i].players.length == 0 && this.state.games[i].spectators.length == 0 && this.state.games[i].info.count == 0) { // If host has not yet joined the game\r\n            continue;\r\n         }\r\n         gamerows.push( <GameRow key={i} game={this.state.games[i]} row={i} forceUp={!mouseDown} /> );\r\n      }\r\n\r\n      return (\r\n         <div id='browsercont'>\r\n            <Shade />\r\n            <CanvasCont />\r\n            <div id='content'>\r\n               <table id='browser'>\r\n                  <thead>\r\n                     <tr id='head'>\r\n                        <th id='title' colSpan='1'>Title</th>\r\n                        <th id='mode' colSpan='1'>Mode</th>\r\n                        <th id='players' colSpan='1'>Players</th>\r\n                        <th id='spectators' colSpan='1'>Spectators</th>\r\n                        <th id='playercap' colSpan='1'>Player Cap</th>\r\n                        <th id='join-spectate' colSpan='2'>Bacter</th>\r\n                     </tr>\r\n                  </thead>\r\n                  <tbody id='browserBody'>\r\n                     {gamerows}\r\n                  </tbody>\r\n               </table>\r\n            </div>\r\n            <div className='backfooter'>\r\n               <footer onClick={ renderTitle }>\r\n                  <p id='back'>&larr; Back</p>\r\n                  <p id='displayconnections'>{ 'Online Clients: ' + (connections ? connections : 0) }</p>\r\n               </footer>\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nclass GameRow extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.row = props.row;\r\n   }\r\n\r\n   render() {\r\n      let game = this.props.game;\r\n      return (\r\n         <tr>\r\n            <td className='title'>{game.info.title}</td>\r\n            <td className='mode'>{modes[game.info.mode]}</td>\r\n            <td className='players'>{game.players.length}</td>\r\n            <td className='spectators'>{game.spectators.length}</td>\r\n            <td className='playercap'>{game.info.cap}</td>\r\n            <TableButton forceUp={this.props.forceUp} row={this.row} inner='Join' />\r\n            <TableButton forceUp={this.props.forceUp} row={this.row} inner='Spectate' />\r\n         </tr>\r\n      );\r\n   }\r\n}\r\n\r\nclass TableButton extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         down: false,\r\n         backgroundColor: 'rgb(255, 255, 255)'\r\n      };\r\n      this.row = props.row;\r\n\r\n      this.handleMouseDown = this.handleMouseDown.bind(this); // Preserve this reference value in handler functions\r\n      this.handleMouseUp = this.handleMouseUp.bind(this);\r\n      this.handleMouseOver = this.handleMouseOver.bind(this);\r\n      this.handleMouseOut = this.handleMouseOut.bind(this);\r\n      this.handleClick = this.handleClick.bind(this);\r\n   }\r\n\r\n   handleMouseDown(e) {\r\n      this.setState({ down: true, backgroundColor: 'rgb(210, 210, 210)' });\r\n   }\r\n   handleMouseUp(e) {\r\n      this.setState({ down: false, backgroundColor: 'rgb(230, 230, 230)' });\r\n   }\r\n   handleMouseOver(e) {\r\n      this.setState({ backgroundColor: this.state.down ? 'rgb(210, 210, 210)' : 'rgb(230, 230, 230)' });\r\n   }\r\n   handleMouseOut(e) {\r\n      this.setState({ backgroundColor: 'rgb(255, 255, 255)' });\r\n   }\r\n   handleClick(e) {\r\n      switch (this.props.inner) {\r\n         case 'Join':\r\n            renderMenu('join', games[this.row]);\r\n            break;\r\n         case 'Spectate':\r\n            renderMenu('spectate', games[this.row]);\r\n            break;\r\n      }\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <td \r\n            className='TableButton' \r\n            onMouseDown={this.handleMouseDown} \r\n            onMouseUp={this.handleMouseUp} \r\n            onMouseOver={this.handleMouseOver} \r\n            onMouseOut={this.handleMouseOut} \r\n            onClick={this.handleClick} \r\n            style={{ backgroundColor: this.state.backgroundColor }}\r\n         >{this.props.inner}</td>\r\n      );\r\n   }\r\n}\r\n\r\nfunction renderBrowser() {\r\n   state = 'browser';\r\n   ReactDOM.render(<Browser games={games} />, $('cont'));\r\n}","// var connections;\r\n// var clicked = {\r\n//    row: undefined,\r\n//    cell: undefined\r\n// };\r\n\r\n// function renderBrowser(datA) {\r\n//    state = 'browser';\r\n//    // Browser\r\n//    if (datA != 'games') {\r\n//       let bodyDiv = document.createElement('div');\r\n//       var body = document.body;\r\n//       body.appendChild(bodyDiv);\r\n//       bodyDiv.class = 'body';\r\n//       ReactDOM.render(React.createElement(Shade), bodyDiv);\r\n//       let content = document.createElement('div');\r\n//       bodyDiv.appendChild(content);\r\n//       content.class = 'content';\r\n//       let table = document.createElement('table');\r\n//       content.appendChild(table);\r\n//       table.id = 'browser';\r\n//       table.style.position = 'fixed';\r\n//       table.style.left = '0px';\r\n//       table.style.top = '0px';\r\n//       table.style.width = '100%';\r\n//       let Thead = document.createElement('thead');\r\n//       table.appendChild(Thead);\r\n//       let headRow = document.createElement('tr');\r\n//       Thead.appendChild(headRow);\r\n//       headRow.id = 'head';\r\n//       headRow.style.opacity = '1';\r\n//       let tit = document.createElement('th');\r\n//       headRow.appendChild(tit);\r\n//       tit.colSpan = '1';\r\n//       tit.id = 'Title';\r\n//       tit.maxWidth = '500px';\r\n//       tit.innerHTML = 'Title';\r\n//       // let host = document.createElement('th');\r\n//       // headRow.appendChild(host);\r\n//       // host.colSpan = '1';\r\n//       // host.id = 'host';\r\n//       // host.innerHTML = 'Host';\r\n//       // let leader = document.createElement('th');\r\n//       // headRow.appendChild(leader);\r\n//       // leader.colSpan = '1';\r\n//       // leader.id = 'leader';\r\n//       // leader.innerHTML = 'Leader';\r\n//       let mode = document.createElement('th');\r\n//       headRow.appendChild(mode);\r\n//       mode.colSpan = '1';\r\n//       mode.id = 'mode';\r\n//       mode.innerHTML = 'Mode';\r\n//       let players = document.createElement('th');\r\n//       headRow.appendChild(players);\r\n//       players.colSpan = '1';\r\n//       players.id = 'players';\r\n//       players.innerHTML = 'Players';\r\n//       let spectators = document.createElement('th');\r\n//       headRow.appendChild(spectators);\r\n//       spectators.colSpan = '1';\r\n//       spectators.id = 'spectators';\r\n//       spectators.innerHTML = 'Spectators';\r\n//       let playercap = document.createElement('th');\r\n//       headRow.appendChild(playercap);\r\n//       playercap.colSpan = '1';\r\n//       playercap.id = 'playercap';\r\n//       playercap.innerHTML = 'Player Cap';\r\n//       // let hostAGame = document.createElement('th');\r\n//       // headRow.appendChild(hostAGame);\r\n//       // hostAGame.colSpan = '2';\r\n//       // hostAGame.id = 'join-spectate';\r\n//       // hostAGame.addEventListener('mouseover', function() {\r\n//       // \thostAGame.style.backgroundColor = 'rgb(48, 48, 48)';\r\n//       // });\r\n//       // hostAGame.addEventListener('mouseout', function() {\r\n//       // \thostAGame.style.backgroundColor = 'rgb(0, 0, 0)';\r\n//       // });\r\n//       // hostAGame.innerHTML = 'Host a Game';\r\n//       let j_s = document.createElement('th');\r\n//       headRow.appendChild(j_s);\r\n//       j_s.id = 'join-spectate';\r\n//       j_s.colSpan = '2';\r\n//       j_s.innerHTML = 'Bacter';\r\n//       j_s.style.fontSize = '22px';\r\n//       let Tbody = document.createElement('tbody');\r\n//       table.appendChild(Tbody);\r\n//       Tbody.id = 'browserBody';\r\n//       Tbody.style.opacity = '.95';\r\n//       let footerDiv = document.createElement('div');\r\n//       bodyDiv.appendChild(footerDiv);\r\n//       footerDiv.class = 'footer';\r\n//       let footer = document.createElement('footer');\r\n//       footerDiv.appendChild(footer);\r\n//       footer.style.cursor = 'pointer';\r\n//       footer.addEventListener('click', function() {\r\n//          renderTitle();\r\n//       });\r\n//       let back = document.createElement('p');\r\n//       footer.appendChild(back);\r\n//       back.style.display = 'inline';\r\n//       back.style.position = 'absolute';\r\n//       back.style.left = '0px';\r\n//       back.innerHTML = '&larr; Back';\r\n//       back.style.textAlign = 'left';\r\n//       let displayConnections = document.createElement('p');\r\n//       footer.appendChild(displayConnections);\r\n//       displayConnections.id = 'displayConnections';\r\n//       displayConnections.style.display = 'inline';\r\n//       displayConnections.style.position = 'absolute';\r\n//       displayConnections.style.right = '0px';\r\n//       displayConnections.innerHTML = 'Online Clients: ' + connections;\r\n//       displayConnections.style.textAlign = 'right';\r\n//       // hostAGame.style.cursor = 'pointer';\r\n//       // let baseColor = hostAGame.style.backgroundColor;\r\n//       // hostAGame.addEventListener('mouseover', function() {\r\n//       // \tif (window.mouseIsPressed == true && clicked.row == -1 && clicked.cell == 5) {\r\n//       // \t\thostAGame.style.backgroundColor = 'rgb(70, 70, 70)';\r\n//       // \t}\r\n//       // });\r\n//       // hostAGame.addEventListener('mousedown', function() {\r\n//       // \tclicked.row = -1;\r\n//       // \tclicked.cell = 5;\r\n//       // \thostAGame.style.backgroundColor = 'rgb(70, 70, 70)';\r\n//       // });\r\n//       // hostAGame.addEventListener('mouseup', function() { hostAGame.style.backgroundColor = baseColor; });\r\n//       // hostAGame.addEventListener('mouseleave', function() { hostAGame.style.backgroundColor = baseColor; });\r\n//       // hostAGame.addEventListener('click', function() {\r\n//       // \trenderMenu('create');\r\n//       // });\r\n//    }\r\n//    // let displayConnections = document.getElementById('displayConnections');\r\n//    // displayConnections.innerHTML = 'Online Clients: ' + connections ? connections : 0;\r\n//    // Discrepancies between games and browser listings\r\n//    let Tbody = document.getElementById('browserBody');\r\n//    var discrepancy = false;\r\n//    if (games.length != Tbody.childElementCount) { // Discrepancy in game count\r\n//       discrepancy = true;\r\n//       while (Tbody.childElementCount) {\r\n//          Tbody.deleteRow(-1);\r\n//       }\r\n//    } else {\r\n//       for (let i = 0; i < Tbody.childElementCount; i++) {\r\n//          let clear = false;\r\n//          if (games[i].info.title != Tbody.children[i].firstChild.innerHTML) { // Discrepancy in game title or host\r\n//             clear = true;\r\n//             break;\r\n//          }\r\n//          let hosted = false;\r\n//          for (let j = 0; j < games[i].board.list.length; j++) {\r\n//             if (games[i].board.list[j].player == games[i].info.host) { // Find host in leaderboard\r\n//                // if (Tbody.children[i].children[1].innerHTML != games[i].board.list[j].name) { // Discrepancy in host name\r\n//                // \tclear = true;\r\n//                // }\r\n//                hosted = true;\r\n//                break;\r\n//             }\r\n//          }\r\n//          if (hosted == false) { // If host is not in board list, clear\r\n//             clear = true;\r\n//          }\r\n//          if (modes[games[i].info.mode] != Tbody.children[i].children[1].innerHTML) { // Discrepancy in listed leader\r\n//             Tbody.children[i].children[1].innerHTML = modes[games[i].info.mode];\r\n//          }\r\n//          if (games[i].players.length.toString() != Tbody.children[i].children[2].innerHTML) { // Discrepancy in listed player count\r\n//             Tbody.children[i].children[2].innerHTML = games[i].players.length;\r\n//          }\r\n//          if (games[i].spectators.length.toString() != Tbody.children[i].children[3].innerHTML) { // Discrepancy in listed spectator count\r\n//             Tbody.children[i].children[3].innerHTML = games[i].spectators.length;\r\n//          }\r\n//          if (games[i].info.cap.toString() != Tbody.children[i].children[4].innerHTML) { // Discrepancy in listed player cap\r\n//             Tbody.children[i].children[4].innerHTML = games[i].info.cap;\r\n//          }\r\n//          if (clear == true) {\r\n//             discrepancy = true;\r\n//             while (Tbody.childElementCount) {\r\n//                Tbody.deleteRow(-1);\r\n//             }\r\n//          }\r\n//       }\r\n//    }\r\n//    if (discrepancy == true) {\r\n//       for (let i = 0; i < games.length; i++) {\r\n//          if (games[i].players.length == 0 && games[i].spectators.length == 0 && games[i].info.count == 0) { // If host has not yet joined the game\r\n//             continue;\r\n//          }\r\n//          let row = Tbody.insertRow(-1);\r\n//          row.style.height = '20px';\r\n//          let title = row.insertCell(-1);\r\n//          title.innerHTML = games[i].info.title;\r\n//          title.style.width = '400px';\r\n//          title.style.textAlign = 'center';\r\n//          // let host = row.insertCell(-1);\r\n//          // for (let j = 0; j < games[i].board.list.length; j++) { // Search board.list\r\n//          // \tif (games[i].info.host == games[i].board.list[j].player) { // Find player who is host\r\n//          // \t\thost.innerHTML = games[i].board.list[j].name;\r\n//          // \t\tbreak;\r\n//          // \t}\r\n//          // }\r\n//          // host.style.width = '150px';\r\n//          // host.style.textAlign = 'center';\r\n//          // let leader = row.insertCell(-1);\r\n//          // leader.innerHTML = games[i].board.list[0].name;\r\n//          // leader.style.width = '150px';\r\n//          // leader.style.textAlign = 'center';\r\n//          let mode = row.insertCell(-1);\r\n//          mode.innerHTML = modes[games[i].info.mode];\r\n//          mode.style.width = '250px';\r\n//          mode.style.textAlign = 'center';\r\n//          let players = row.insertCell(-1);\r\n//          players.innerHTML = games[i].players.length;\r\n//          // players.style.width = '40px';\r\n//          players.style.textAlign = 'center';\r\n//          let spectators = row.insertCell(-1);\r\n//          spectators.innerHTML = games[i].spectators.length;\r\n//          // spectators.style.width = '40px';\r\n//          spectators.style.textAlign = 'center';\r\n//          let playercap = row.insertCell(-1);\r\n//          playercap.innerHTML = games[i].info.cap;\r\n//          // playercap.style.width = '40px';\r\n//          playercap.style.textAlign = 'center';\r\n//          let join = row.insertCell(-1);\r\n//          join.row = i;\r\n//          join.innerHTML = 'Join';\r\n//          join.style.minWidth = '150px';\r\n//          join.style.textAlign = 'center';\r\n//          join.style.cursor = 'pointer';\r\n//          let baseColor = join.style.backgroundColor;\r\n//          join.addEventListener('mouseover', function() {\r\n//             if (window.mouseIsPressed == true && join.row == clicked.row && join.cellIndex == clicked.cell) {\r\n//                join.style.backgroundColor = 'rgb(180, 180, 180)';\r\n//             }\r\n//          });\r\n//          join.addEventListener('mousedown', function() {\r\n//             clicked.row = join.row;\r\n//             clicked.cell = join.cellIndex;\r\n//             join.style.backgroundColor = 'rgb(180, 180, 180)';\r\n//          });\r\n//          join.addEventListener('mouseup', function() { join.style.backgroundColor = baseColor; });\r\n//          join.addEventListener('mouseleave', function() { join.style.backgroundColor = baseColor; });\r\n//          join.addEventListener('click', function() {\r\n//             renderMenu('join', games[i]);\r\n//          });\r\n//          let spectate = row.insertCell(-1);\r\n//          spectate.row = i;\r\n//          spectate.innerHTML = 'Spectate';\r\n//          spectate.style.minWidth = '150px';\r\n//          spectate.style.textAlign = 'center';\r\n//          spectate.style.cursor = 'pointer';\r\n//          baseColor = spectate.style.backgroundColor;\r\n//          spectate.addEventListener('mouseover', function() {\r\n//             if (window.mouseIsPressed == true && spectate.row == clicked.row && spectate.cellIndex == clicked.cell) {\r\n//                spectate.style.backgroundColor = 'rgb(180, 180, 180)';\r\n//             }\r\n//          });\r\n//          spectate.addEventListener('mousedown', function() {\r\n//             clicked.row = spectate.row;\r\n//             clicked.cell = spectate.cellIndex;\r\n//             spectate.style.backgroundColor = 'rgb(180, 180, 180)';\r\n//          });\r\n//          spectate.addEventListener('mouseup', function() { spectate.style.backgroundColor = baseColor; });\r\n//          spectate.addEventListener('mouseleave', function() { spectate.style.backgroundColor = baseColor; });\r\n//          spectate.addEventListener('click', function() {\r\n//             renderMenu('spectate', games[i]);\r\n//          });\r\n//       }\r\n//    }\r\n// }","var cnv;\r\nvar center = {\r\n   x: undefined,\r\n   y: undefined\r\n};\r\n\r\nclass CanvasCont extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {};\r\n      this.style = {\r\n         zIndex: '-2' // Canvas is furthest back (-2); Shade is -1; UI is 1\r\n      };\r\n      let body = document.body; // Set body style for canvas to fill screen\r\n      body.style.overflow = 'hidden';\r\n      body.style.margin = 'none';\r\n      body.style.padding = 'none';\r\n      body.style.border = 'none';\r\n      body.style.outline = 'none';\r\n   }\r\n\r\n   componentDidMount() { // Runs only after initial mount\r\n      cnv = createCanvas(window.innerWidth, window.innerHeight); // Create p5 canvas\r\n      cnv.parent('#canvascont'); // Set CanvasCont as p5 canvas parent\r\n   }\r\n   render() {\r\n      let style = {};\r\n      for (let i in this.props.style) {\r\n         style[i] = this.props.style[i];\r\n      }\r\n      style.zIndex = this.style.zIndex;\r\n      return (\r\n         <div id='canvascont' className='canvas' style={style}></div> // Container for p5's (createCanvas(), parent())\r\n      );\r\n   }\r\n};","// Socket Settings\r\nconst DEV = true;\r\nconst HEROKU = false;\r\n\r\n// Repertoires\r\nconst worldColors = {\r\n\tblack:            { r: 0,     g: 0,    b: 0   }, // Only black is currently in use\r\n\twhite:            { r: 230,   g: 230,  b: 230 }, \r\n\tblue:             { r: 247,   g: 250,  b: 255 }\r\n};\r\nconst orgColors = {\r\n\tblack: {\r\n\t\tfire:          { r: 255,   g: 90,   b: 81  }, \r\n\t\tcamel:         { r: 232,   g: 183,  b: 155 }, \r\n\t\tclay:          { r: 232,   g: 145,  b: 95  }, \r\n\t\tsun:           { r: 255,   g: 246,  b: 86  }, \r\n\t\tleaf:          { r: 125,   g: 255,  b: 200 }, \r\n\t\tlime:          { r: 57,    g: 249,  b: 86  }, \r\n\t\tsky:           { r: 48,    g: 210,  b: 255 }, \r\n\t\tlake:          { r: 142,   g: 182,  b: 255 }, \r\n\t\tocean:         { r: 102,   g: 136,  b: 244 }, \r\n\t\troyal:         { r: 175,   g: 132,  b: 255 }, \r\n\t\tpetal:         { r: 250,   g: 122,  b: 255 }, \r\n\t\thot:           { r: 232,   g: 2,    b: 216 }\r\n\t}, \r\n\twhite: {\r\n\t\tfire:          { r: 240,   g: 75,   b: 66  }, \r\n\t\tcamel:         { r: 232,   g: 183,  b: 155 }, \r\n\t\tclay:          { r: 232,   g: 145,  b: 95  }, \r\n\t\tburnt:         { r: 196,   g: 99,   b: 19  }, \r\n\t\tlime:          { r: 57,    g: 249,  b: 86  }, \r\n\t\tforest:        { r: 0, \t   g: 114,  b: 38  }, \r\n\t\tpeacock:       { r: 16,    g: 143,  b: 147 }, \r\n\t\tsky:           { r: 48,    g: 210,  b: 255 }, \r\n\t\tlake:          { r: 104,   g: 157,  b: 255 }, \r\n\t\tocean:         { r: 102,   g: 136,  b: 244 }, \r\n\t\troyal:         { r: 175,   g: 132,  b: 255 }, \r\n\t\tpetal:         { r: 250,   g: 122,  b: 255 }, \r\n\t\thot:           { r: 232,   g: 2,    b: 216 }\r\n\t}\r\n};\r\nconst skins = [ 'grid', 'circles', 'ghost' ];\r\nconst modes = {\r\n\tffa: 'Free for All', \r\n\tskm: 'Skirmish', \r\n\tsrv: 'Survival', \r\n\tctf: 'Capture the Flag', \r\n\tinf: 'Infection', \r\n\tkth: 'King of the Hill'\r\n};\r\nconst teamColors = [ 'red', 'blue', 'green', 'pink' ];\r\nconst teamColorDef = { // Conversion between team name to color name\r\n\tred: 'fire', \r\n\tblue: 'sky', \r\n\tgreen: 'lime', \r\n\tpink: 'petal'\r\n};\r\nconst firsts =  [ 'Extend',      'Compress'   ];\r\nconst seconds = [ 'Immortality', 'Freeze'     ];\r\nconst thirds =  [ 'Neutralize' , 'Toxin'      ];\r\n\r\n// Math\r\nconst cos45 = 0.70710678118;\r\nconst root2 = 1.41421356;\r\n\r\n// Configurations\r\nconst _ofrequency    = 70;\r\nconst _rfrequency    = 40;\r\nconst _range         = 50;\r\nconst _cellwidth     = 6;\r\nconst _movespeed     = 1.7;\r\nconst _spectatespeed = 2.5;\r\nconst _delaytime     = 10000;\r\nconst _dummies       = 10;\r\nconst _margin        = 25;\r\n\r\n// Settings\r\nlet Labels = true;\r\nlet Messages = true;\r\nlet Controls = {\r\n\tleft1:    { key: 'A',   code: 65 }, \r\n\tleft2:    { key: '',   code: 37 }, \r\n\tup1:      { key: 'W',   code: 87 }, \r\n\tup2:      { key: '',   code: 38 }, \r\n\tright1:   { key: 'D',   code: 68 }, \r\n\tright2:   { key: '',   code: 39 }, \r\n\tdown1:    { key: 'S',   code: 83 }, \r\n\tdown2:    { key: '',   code: 40 }, \r\n\tability1: { key: 'X',   code: 88 }, \r\n\tability2: { key: 'C',   code: 67 }, \r\n\tability3: { key: 'V',   code: 86 }, \r\n\tability4: { key: ' ',   code: 32 }, \r\n\trespawn:  { key: 'R',   code: 82 }, \r\n\tpause:    { key: 'ESC', code: 27 }, \r\n};\r\nconst Defaults = {\r\n\tworldwidth:  800,\r\n\tworldheight: 800,\r\n\tplayercap:   16 ,\r\n\tplayermin:   4  ,\r\n\tboardlength: 10 ,\r\n\tteamcount:   2\r\n};","var Flag = function(X, Y, coloR) {\r\n   this.x = X;\r\n   this.y = Y;\r\n   this.color = coloR;\r\n   this.carried = false; // True: flag is being carried by a player; False: flag is dropped\r\n   this.carrier = undefined;\r\n   this.height = 20;\r\n   this.width = 9;\r\n};","var game; // Initialize in global scope\r\nvar Game = function(datA) {\r\n   let data = datA;\r\n   this.src = 'game';\r\n   this.players = []; { // Info\r\n      this.info = {\r\n         host: socket.id,\r\n         title: data.title,\r\n         protected: undefined,\r\n         count: 0,\r\n         cap: data.cap,\r\n         mode: data.mode,\r\n         teamCount: data.teamCount\r\n      };\r\n      if (!data.password) // If there is no password\r\n         this.info.protected = false;\r\n      else // If there is a password\r\n         this.info.protected = true;\r\n   } { // Teams\r\n      this.teams = [];\r\n      if (this.info.mode === 'skm' || this.info.mode === 'ctf') {\r\n         for (let i = 0; i < this.info.teamCount; i++) {\r\n            this.teams.push([]); // Outer array contains teams, inner arrays contain player ids\r\n         }\r\n      } else if (this.info.mode === 'inf') {\r\n         for (let i = 0; i < 2; i++) { // Only can be two teams in infection (healthy/infected)\r\n            this.teams.push([]); // Outer array contains teams, inner arrays contain player ids\r\n         }\r\n      }\r\n   } { // Rounds\r\n      this.rounds = {\r\n         host: undefined, // Identification purposes\r\n         util: false, // If game utilizes rounds\r\n         waiting: true,\r\n         delayed: false,\r\n         delaystart: undefined,\r\n         delaytime: _delaytime,\r\n         start: undefined,\r\n         min: undefined, // Min players\r\n         winner: undefined\r\n      };\r\n      if (this.info.mode === 'srv' || this.info.mode === 'ctf' || this.info.mode === 'inf' || this.info.mode === 'kth') { // If game mode utilizes round system\r\n         this.rounds.util = true;\r\n         this.rounds.host = this.info.host;\r\n         this.rounds.min = data.min;\r\n         this.rounds.waiting = true;\r\n      }\r\n   }\r\n   this.board = new Board(data);\r\n   this.world = new World(data);\r\n   if (this.info.mode === 'ctf')\r\n      this.flag = new Flag(this.world.x + this.world.width / 2, this.world.y + this.world.height / 2, this.world.border.color);\r\n   this.players = [];\r\n   this.spectators = [];\r\n   this.orgs = [];\r\n   this.abilities = [];\r\n};\r\n\r\nfunction createGame(datA) {\r\n   game = new Game(datA);\r\n   socket.emit('Game Created', game);\r\n   if (game.info.protected) // If game is password protected\r\n      socket.emit('Password Created', { pass: datA.password, info: game.info });\r\n}","var games = [];\r\nvar state;\r\nvar mouseDown = false;\r\n\r\nfunction setup() {\r\n   state = 'setup';\r\n   noCanvas(); // Canvas settings\r\n   rectMode(CENTER); // \"\r\n   ellipseMode(RADIUS); // \"\r\n   angleMode(DEGREES); // \"\r\n   textAlign(LEFT); // \"\r\n\r\n   connectSocket();\r\n   let page = document.body.parentNode; // Edit global variable mouseDown to determine if mouse is down or up anywhere on the page\r\n   let md = () => mouseDown = true; // \"\r\n   page.removeEventListener('mousedown', md); // \"\r\n   page.addEventListener('mousedown', md); // \"\r\n   let mu = () => mouseDown = false; // \"\r\n   page.removeEventListener('mouseup', mu); // \"\r\n   page.addEventListener('mouseup', mu); // \"\r\n   var socketInterval = setInterval(() => { // Create instance of Ability, but socket object must exist first, so loop until socket exists\r\n      ability = new Ability({ player: socket.id }); // Create new instance of Ability\r\n      if (socket.id) { // If socket.id has loaded\r\n         clearInterval(socketInterval); // End the loop\r\n      }\r\n   }, 50);\r\n   center = { // Set coordinates of center of window (and canvas)\r\n      x: window.innerWidth / 2,\r\n      y: window.innerHeight / 2\r\n   };\r\n   renderTitle();\r\n   title = new Title();\r\n}\r\n\r\nfunction initialize(gamE, datA) {\r\n   ReactDOM.render(<CanvasCont />, $('cont'));\r\n   game = gamE;\r\n   if (datA.spectate != true) { // Field can be left undefined\r\n      spawn({ color: datA.color, skin: datA.skin, team: datA.team });\r\n   } else if (datA.spectate == true) {\r\n      spectate({ color: datA.color, skin: datA.skin, team: datA.team });\r\n   }\r\n}\r\n\r\nfunction keyPressed() {\r\n   switch (keyCode) {\r\n      case Controls.ability1.code: // X by default\r\n         if ((state == 'game' || state == 'tutorial') && org.alive == true) {\r\n            if (ability.extend.activated == true && ability.extend.can == true) {\r\n               extend(org.player); // Extend self\r\n            } else if (ability.compress.activated == true && ability.compress.can == true) {\r\n               shoot(0, 1);\r\n               // for (let i = 0; i < game.info.count; i++) {\r\n               //    if (org.target == game.players[i]) { // Find targeted org\r\n               //       compress(org.target); // Compress targeted org\r\n               //       break;\r\n               //    }\r\n               // }\r\n            } else if (ability.tag.activated == true && ability.tag.can == true) {\r\n               shoot(0, 1);\r\n            }\r\n            // if (ability.speed.activated == true) { // Speed/Slow; OLD\r\n            //    speed(org.player);\r\n            // } else if (ability.slow.activated == true) {\r\n            //    slow(org.target);\r\n            // }\r\n         }\r\n         break;\r\n      case Controls.ability2.code: // C by default\r\n         if ((state == 'game' || state == 'tutorial') && org.alive == true) {\r\n            if (ability.immortality.activated == true && ability.immortality.can == true) {\r\n               immortality(org.player); // Immortalize self\r\n            } else if (ability.freeze.activated == true && ability.freeze.can == true) {\r\n               shoot(1, 1);\r\n               // for (let i = 0; i < game.info.count; i++) {\r\n               //    if (org.target == game.players[i]) { // Find targeted org\r\n               //       freeze(org.target); // Freeze targeted org\r\n               //       break;\r\n               //    }\r\n               // }\r\n            }\r\n         }\r\n         break;\r\n      case Controls.ability3.code: // V by default\r\n         if ((state == 'game' || state == 'tutorial') && org.alive == true) {\r\n            // if (ability.stimulate.activated == true && ability.stimulate.can == true) { // Stimulate/Poison OLD\r\n            //    stimulate(org.player); // Stimulate self\r\n            // } else if (ability.poison.activated == true && ability.poison.can == true) {\r\n            //    shoot(2, 1);\r\n            //    // for (let i = 0; i < game.info.count; i++) {\r\n            //    //    if (org.target == game.players[i]) { // Find targeted org\r\n            //    //       poison(org.target); // Poison targeted org\r\n            //    //       break;\r\n            //    //    }\r\n            //    // }\r\n            // }\r\n            if (ability.neutralize.activated == true && ability.neutralize.can == true) {\r\n               neutralize(org.player);\r\n            } else if (ability.toxin.activated == true && ability.toxin.can == true) {\r\n               toxin(org.player);\r\n            }\r\n         }\r\n         break;\r\n      case Controls.ability4.code: // SPACE by default\r\n         if ((state === 'game' || state === 'tutorial') && org.alive) {\r\n            if (ability.spore.value == false && ability.secrete.value == false) {\r\n               spore();\r\n            } else if (ability.spore.value == true && ability.secrete.value == false) {\r\n               secrete();\r\n            }\r\n         }\r\n         break;\r\n      case Controls.respawn.code: // R by default\r\n         if (state == 'spectate' && org.alive == false && org.spawn == true) {\r\n            if (game.players.length < game.info.cap) {\r\n               socket.emit('Spectator Left', game.info);\r\n               renderMenu('respawn', game);\r\n            } else {\r\n               alert('Game is at maximum player capacity');\r\n            }\r\n         }\r\n         break;\r\n      case Controls.pause.code: { // ESC by default\r\n         switch (state) { // Used as the back key for menus (variable pause key may be used as well)\r\n            case 'createMenu':\r\n            case 'browser':\r\n               renderTitle(); // unmountComponentAtNode() is unnecessary since ReactDOM.render() clears container before rendering\r\n               break;\r\n            case 'joinMenu':\r\n               if (game.info.host === socket.id) { // If player is host (If player is joining directly after creating the game)\r\n                  socket.emit('Game Ended', game);\r\n                  renderTitle();\r\n               } else {\r\n                  renderBrowser();\r\n               }\r\n               break;\r\n            case 'spectateMenu':\r\n               renderBrowser();\r\n               break;\r\n            case 'game':\r\n               renderMenu('pauseGame', game);\r\n               break;\r\n            case 'spectate':\r\n               renderMenu('pauseSpectate', game);\r\n               break;\r\n            case 'tutorial':\r\n               renderMenu('pauseTutorial', tutorial);\r\n               break;\r\n            case 'pauseSpectateMenu': // Cannot access instance of <Menu> component class to bind as this keyword in submit()\r\n            case 'respawnMenu': // Respawn is included because 'back' for respawn should return to spectate\r\n               state = 'spectate';\r\n               ReactDOM.render(<CanvasCont />, $('cont'));\r\n               break;\r\n            case 'pauseGameMenu':\r\n               let skip = false;\r\n               for (let i = 0; i < game.players.length; i++) {\r\n                  if (game.players[i] === socket.id) { // If still is a player\r\n                     state = 'game';\r\n                     skip = true;\r\n                     break;\r\n                  }\r\n               }\r\n               if (!skip) {\r\n                  for (let i = 0; i < game.spectators.length; i++) {\r\n                     if (game.spectators[i] === socket.id) {\r\n                        state = 'spectate'; // Must include spectate possibility in pause game; even though a spectator could never open pause game menu, he could be killed while in menu\r\n                        break;\r\n                     }\r\n                  }\r\n               }\r\n               ReactDOM.render(<CanvasCont />, $('cont'));\r\n               break;\r\n            case 'pauseTutorialMenu':\r\n               state = 'tutorial';\r\n               ReactDOM.render(<CanvasCont />, $('cont'));\r\n               break;\r\n         }\r\n         break;\r\n      }\r\n   }\r\n   // Hard key codes are separate from variable codes, so in the case of overlap, hard codes will always run\r\n   switch (keyCode) {\r\n      case 27 !== Controls.pause.code ? 27 : '': // ESCAPE only if variable pause key is not ESCAPE (keyCode cannot be a string)\r\n         switch (state) { // Used as the back key for menus (variable pause key may be used as well)\r\n            case 'createMenu':\r\n            case 'browser':\r\n               renderTitle(); // unmountComponentAtNode() is unnecessary since ReactDOM.render() clears container before rendering\r\n               break;\r\n            case 'joinMenu':\r\n               if (game.info.host === socket.id) { // If player is host (If player is joining directly after creating the game)\r\n                  socket.emit('Game Ended', game);\r\n                  renderTitle();\r\n               } else {\r\n                  renderBrowser();\r\n               }\r\n               break;\r\n            case 'spectate':\r\n               renderBrowser();\r\n               break;\r\n            case 'pauseSpectateMenu': // Cannot access instance of <Menu> component class to bind as this keyword in submit()\r\n            case 'respawnMenu': // Respawn is included because 'back' for respawn should return to spectate\r\n               state = 'spectate';\r\n               ReactDOM.render(<CanvasCont />, $('cont'));\r\n               break;\r\n            case 'pauseGameMenu':\r\n               let skip = false;\r\n               for (let i = 0; i < game.players.length; i++) {\r\n                  if (game.players[i] === socket.id) { // If still is a player\r\n                     state = 'game';\r\n                     skip = true;\r\n                     break;\r\n                  }\r\n               }\r\n               if (!skip) {\r\n                  for (let i = 0; i < game.spectators.length; i++) {\r\n                     if (game.spectators[i] === socket.id) {\r\n                        state = 'spectate'; // Must include spectate possibility in pause game; even though a spectator could never open pause game menu, he could be killed while in menu\r\n                        break;\r\n                     }\r\n                  }\r\n               }\r\n               ReactDOM.render(<CanvasCont />, $('cont'));\r\n               break;\r\n            case 'pauseTutorialMenu':\r\n               state = 'tutorial';\r\n               ReactDOM.render(<CanvasCont />, $('cont'));\r\n               break;\r\n         }\r\n         break;\r\n   }\r\n}\r\n\r\nfunction mouseClicked() {\r\n   if (mouseButton == LEFT) {\r\n      // if (state == 'game') { // DO NOT DELETE\r\n      //    { // Targeting\r\n      //       org.target = undefined; // Clear target if click not on opponent org\r\n      //       for (let i = 0; i < game.info.count; i++) {\r\n      //          if (game.orgs[i].player == org.player) { // If org is player's org\r\n      //             continue; // Cannot target oneself\r\n      //          }\r\n      //          if (mouseX + org.off.x >= game.orgs[i].clickbox.left && mouseX + org.off.x <= game.orgs[i].clickbox.right && mouseY + org.off.y >= game.orgs[i].clickbox.top && mouseY + org.off.y <= game.orgs[i].clickbox.bottom) { // If clicked another org\r\n      //             org.target = game.orgs[i].player;\r\n      //             break;\r\n      //          }\r\n      //       }\r\n      //    }\r\n      // }\r\n      return false; // Supposedly negates default behavior\r\n   } else if (mouseButton == RIGHT) {\r\n      return false; // Supposedly negates default behavior\r\n   } else if (mouseButton == CENTER) {\r\n      return false; // Supposedly negates default behavior\r\n   }\r\n}\r\n\r\nfunction windowResized() {\r\n   center = {\r\n      x: window.innerWidth / 2,\r\n      y: window.innerHeight / 2\r\n   };\r\n   let src = getSrc();\r\n   if (state === 'title' || state === 'browser' || state === 'tutorial') {\r\n      src.resize(0, 0, window.innerWidth, window.innerHeight);\r\n   } else if (state === 'game' || state === 'spectate') {\r\n      org.off.x = org.pos.x - center.x; // Reposition org (camera) correctly\r\n      org.off.y = org.pos.y - center.y;\r\n   } else if (state.indexOf('Menu') !== -1) {\r\n      let type = state.slice(0, -4); // To make state string, 'Menu' is concatenated to the end of menu type, remove 'Menu' from state to get menu type\r\n      let data = type === 'join' ? game : null;\r\n      renderMenu(type, data); // <div id='cont'><Menu type={} data={} /></div>\r\n      if (src.src === 'title') { // ^^ Cut out Menu at end of state string for menu type; Send game as data if src is 'game'; Send tutorial as data is src is 'tutorial'\r\n         src.resize(0, 0, window.innerWidth, window.innerHeight);\r\n      } else if (src.src === 'game') { // If menu during game (player or spectator)\r\n         org.off.x = org.pos.x - center.x; // Reposition org (camera) correctly\r\n         org.off.y = org.pos.y - center.y;\r\n      } else if (src.src === 'tutorial') {\r\n         src.resize(0, 0, window.innerWidth, window.innerHeight);\r\n      }\r\n   }\r\n}","function itemize(iteM, widtH, coloR, X, Y) {\r\n   let item = iteM; // Directional array\r\n   let count = item.length; // Number of squares\r\n   let width = widtH; // Width of one square\r\n   let color = coloR; // Object containing r, g, and b values\r\n   let x = X; // Starting x\r\n   let y = Y; // Starting y\r\n   fill(color.r, color.g, color.b);\r\n   noStroke();\r\n   rect(x, y, width, width);\r\n   for (let i = 0; i < count; i++) {\r\n      if (item[i] == 'l') {\r\n         x -= width;\r\n      } else if (item[i] == 'u') {\r\n         y -= width;\r\n      } else if (item[i] == 'r') {\r\n         x += width;\r\n      } else if (item[i] == 'd') {\r\n         y += width;\r\n      }\r\n      rect(x, y, width, width);\r\n   }\r\n}\r\n\r\nvar items = {\r\n   tag: ['u', 'l', 'd', 'l', 'l', 'r', 'r', 'd', 'r', 'd', 'd', 'u', 'u', 'r', 'u', 'r', 'r', 'l', 'l', 'u', 'l', 'u', 'u', 'u', 'u', 'u', 'u', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'd', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'd', 'r', 'd', 'd', 'd', 'd', 'd', 'd', 'l', 'd', 'l', 'l', 'l', 'u', 'r', 'u', 'u', 'u', 'u', 'u', 'u', 'l', 'r', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'r', 'd', 'd', 'l', 'l', 'd', 'l', 'u', 'l', 'd', 'l', 'u', 'l', 'd', 'l', 'u', 'l', 'd', 'u', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'u', 'u', 'u', 'u', 'u', 'u', 'r', 'u', 'r', 'r', 'r', 'd', 'l', 'd', 'd', 'd', 'd', 'd', 'd', 'r'],\r\n   extend: ['d', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'd', 'd', 'd', 'l', 'u', 'u', 'u', 'u', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'd', 'l', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'u', 'l', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'd', 'l', 'd', 'd', 'd', 'd', 'd', 'd', 'u', 'l', 'u', 'u', 'u', 'u', 'd', 'l', 'd', 'd', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'r', 'd', 'r', 'u', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'd', 'r', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'u', 'r', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'd', 'r', 'd', 'd', 'd', 'd', 'd', 'd', 'u', 'r', 'u', 'u', 'u', 'u', 'd', 'r', 'd', 'd'],\r\n   compress: ['l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'u', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'd', 'r', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'u', 'r', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'd', 'r', 'd', 'd', 'd', 'd', 'd', 'd', 'u', 'r', 'u', 'u', 'u', 'u', 'd', 'r', 'd', 'd', 'r', 'd', 'u', 'u', 'u', 'u', 'r', 'u', 'd', 'd', 'd', 'd', 'd', 'd', 'r', 'd', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'r', 'u', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'r', 'd', 'r', 'u', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'r', 'd', 'd', 'd', 'd', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u', 'r', 'd', 'd', 'd', 'd', 'r', 'u', 'u', 'u', 'u'],\r\n   // speed: [], \r\n   // slow: [], \r\n   immortality: ['d', 'd', 'l', 'u', 'd', 'd', 'l', 'u', 'd', 'd', 'l', 'u', 'd', 'd', 'l', 'u', 'l', 'd', 'd', 'r', 'l', 'l', 'd', 'l', 'l', 'u', 'r', 'r', 'u', 'l', 'l', 'l', 'd', 'l', 'u', 'r', 'u', 'l', 'l', 'd', 'u', 'l', 'u', 'r', 'l', 'l', 'u', 'r', 'l', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'r', 'r', 'u', 'l', 'r', 'r', 'u', 'l', 'r', 'r', 'r', 'u', 'l', 'l', 'r', 'u', 'r', 'r', 'u', 'd', 'd', 'r', 'u', 'u', 'r', 'd', 'd', 'r', 'u', 'r', 'd', 'd', 'l', 'r', 'r', 'u', 'd', 'r', 'd', 'l', 'r', 'r', 'd', 'l', 'r', 'd', 'r', 'u', 'r', 'd', 'u', 'r', 'u', 'l', 'r', 'u', 'r', 'd', 'u', 'u', 'r', 'u', 'r', 'd', 'd', 'l', 'r', 'u', 'r', 'u', 'u', 'r', 'd', 'd', 'r', 'u', 'u', 'd', 'r', 'r', 'd', 'l', 'd', 'r', 'r', 'u', 'd', 'd', 'r', 'u', 'd', 'r', 'd', 'l', 'r', 'r', 'd', 'l', 'd', 'r', 'd', 'l', 'd', 'r', 'l', 'd', 'l', 'u', 'd', 'd', 'l', 'u', 'd', 'd', 'l', 'u', 'd', 'd', 'l', 'u', 'u', 'd', 'l', 'd', 'd', 'l', 'u', 'u', 'l', 'd', 'd', 'u', 'l', 'u', 'u', 'l', 'd', 'd', 'u', 'l', 'u', 'u', 'l', 'd', 'u', 'u', 'l', 'd', 'u', 'u'],\r\n   freeze: ['r', 'r', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'r', 'u', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'r', 'r', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'd', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'd', 'd', 'r', 'u', 'r', 'd', 'r', 'd', 'l', 'r', 'r', 'd', 'l', 'd', 'r', 'r', 'd', 'l', 'd', 'r', 'd', 'r', 'd', 'l', 'd', 'r', 'd', 'l', 'd', 'r', 'l', 'd', 'l', 'd', 'r', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'r', 'r', 'r', 'r', 'r', 'd', 'l', 'l', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'd', 'l', 'l', 'l', 'd', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'd', 'r', 'r', 'r', 'l', 'l', 'l', 'd', 'l', 'u', 'l', 'd', 'l', 'u', 'l', 'd', 'u', 'u', 'l', 'd', 'l', 'u', 'l', 'd', 'u', 'u', 'l', 'd', 'l', 'u', 'l', 'u', 'r', 'l', 'l', 'u', 'r', 'u', 'l', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'l', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'r', 'u', 'r', 'u', 'l', 'u', 'r'],\r\n   // stimulate: ['r', 'r', 'u', 'u', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'u', 'u', 'u', 'r', 'u', 'u', 'l', 'u', 'l', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'u', 'l', 'u', 'l', 'u', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'd', 'l', 'l', 'l', 'l', 'd', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'u', 'd', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'd', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'd', 'l', 'u', 'l', 'l', 'd', 'l', 'd', 'l', 'd', 'd', 'l', 'u'], \r\n   // poison: ['l', 'l', 'l', 'l', 'l', 'l', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'l', 'd', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'r', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'l', 'l', 'l', 'u', 'l', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'd', 'r', 'r', 'r', 'r', 'u', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'l', 'u', 'l', 'l', 'l', 'l', 'l'], \r\n   neutralize: ['r', 'r', 'u', 'u', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'u', 'u', 'u', 'r', 'u', 'u', 'l', 'u', 'l', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'r', 'd', 'u', 'l', 'u', 'l', 'u', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'd', 'l', 'l', 'l', 'l', 'd', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'u', 'd', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'd', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'd', 'l', 'u', 'l', 'l', 'd', 'l', 'd', 'l', 'd', 'd', 'l', 'u'],\r\n   toxin: ['l', 'l', 'l', 'l', 'l', 'l', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'd', 'l', 'd', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'd', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'r', 'r', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'u', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'l', 'l', 'l', 'u', 'l', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'd', 'r', 'r', 'r', 'r', 'u', 'u', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'l', 'l', 'u', 'l', 'l', 'l', 'l', 'l'], // Same as stimulate\r\n   spore: ['u', 'l', 'u', 'u', 'l', 'u', 'l', 'u', 'u', 'u', 'u', 'r', 'u', 'r', 'r', 'r', 'r', 'd', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'l', 'l', 'd', 'l', 'l', 'd', 'r', 'l', 'l', 'd', 'r', 'd', 'l', 'd', 'l', 'd', 'r', 'd', 'l', 'd', 'r', 'd', 'l', 'r', 'd', 'r', 'd', 'l', 'd', 'r', 'r', 'd', 'l', 'r', 'r', 'd', 'l', 'r', 'r', 'r', 'd', 'l', 'l', 'r', 'r', 'r', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'u', 'r', 'r', 'r', 'u', 'l', 'l', 'r', 'r', 'r', 'u', 'l', 'r', 'r', 'u', 'l', 'r', 'r', 'u', 'l', 'u', 'r', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'l', 'u', 'l', 'u', 'r', 'u', 'l', 'l', 'u', 'r', 'l', 'l', 'u', 'r', 'l', 'l', 'l', 'u', 'l', 'l', 'l', 'd', 'd', 'd', 'd', 'u', 'u', 'u', 'u', 'r', 'r', 'r', 'd', 'd', 'd', 'd', 'l', 'd', 'l', 'd', 'd', 'r', 'r', 'u', 'r', 'u', 'r', 'r', 'r', 'r', 'd', 'd', 'd', 'l', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'd', 'd', 'd', 'l', 'l', 'l', 'l', 'u', 'l', 'u', 'l', 'l', 'd', 'd', 'r', 'd', 'r', 'd', 'd', 'd', 'd', 'l', 'l', 'l', 'u', 'u', 'u', 'u', 'd', 'd', 'd', 'd', 'l', 'l', 'l', 'u', 'u', 'u', 'u', 'r', 'u', 'r', 'u', 'u', 'l', 'l', 'd', 'l', 'd', 'l', 'l', 'l', 'l', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'd', 'r', 'd', 'r', 'r', 'd', 'd', 'r', 'r', 'u', 'u', 'l'],\r\n   secrete: ['u', 'l', 'u', 'u', 'l', 'u', 'l', 'u', 'u', 'u', 'u', 'r', 'u', 'r', 'r', 'r', 'r', 'd', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'l', 'd', 'l', 'r', 'r', 'r', 'l', 'l', 'd', 'l', 'l', 'd', 'r', 'l', 'l', 'd', 'r', 'd', 'l', 'd', 'l', 'd', 'r', 'd', 'l', 'd', 'r', 'd', 'l', 'r', 'd', 'r', 'd', 'l', 'd', 'r', 'r', 'd', 'l', 'r', 'r', 'd', 'l', 'r', 'r', 'r', 'd', 'l', 'l', 'r', 'r', 'r', 'd', 'r', 'u', 'r', 'd', 'r', 'u', 'r', 'd', 'u', 'r', 'r', 'r', 'u', 'l', 'l', 'r', 'r', 'r', 'u', 'l', 'r', 'r', 'u', 'l', 'r', 'r', 'u', 'l', 'u', 'r', 'u', 'r', 'u', 'l', 'u', 'r', 'u', 'l', 'u', 'r', 'l', 'u', 'l', 'u', 'r', 'u', 'l', 'l', 'u', 'r', 'l', 'l', 'u', 'r', 'l', 'l', 'l', 'u', 'l', 'l', 'l', 'd', 'd', 'd', 'd', 'u', 'u', 'u', 'u', 'r', 'r', 'r', 'd', 'd', 'd', 'd', 'l', 'd', 'l', 'd', 'd', 'r', 'r', 'u', 'r', 'u', 'r', 'r', 'r', 'r', 'd', 'd', 'd', 'l', 'l', 'l', 'l', 'r', 'r', 'r', 'r', 'd', 'd', 'd', 'l', 'l', 'l', 'l', 'u', 'l', 'u', 'l', 'l', 'd', 'd', 'r', 'd', 'r', 'd', 'd', 'd', 'd', 'l', 'l', 'l', 'u', 'u', 'u', 'u', 'd', 'd', 'd', 'd', 'l', 'l', 'l', 'u', 'u', 'u', 'u', 'r', 'u', 'r', 'u', 'u', 'l', 'l', 'd', 'l', 'd', 'l', 'l', 'l', 'l', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'l', 'l', 'l', 'l', 'u', 'u', 'u', 'r', 'r', 'r', 'r', 'd', 'r', 'd', 'r', 'r', 'd', 'd', 'r', 'r', 'u', 'u', 'l'] // Same as spore (Should not differ)\r\n};","var menus = {\r\n   create: {\r\n      header: 'Game Creation Options',\r\n      button: 'Create',\r\n      options: [ 'Game Title', 'Password', 'World Type', 'World Width', 'World Height', 'Player Minimum', 'Player Cap', 'Team Count', 'Leaderboard Length', 'Game Mode' ],\r\n      values:  [ 'text',       'text',     'list',       'number',      'number',       'number',         'number',     'number',     'number',             'list'      ]\r\n   },\r\n   join: {\r\n      header: 'Join Game Options',\r\n      button: 'Join',\r\n      options: [ 'Screen Name', 'Password', 'Color', 'Skin',    '1st Ability', '2nd Ability', '3rd Ability', 'Team', 'Auto Assign' ],\r\n      values:  [ 'text',        'text',     'list',  '3 radio', '2 radio',     '2 radio',     '2 radio',     'list', '1 radio'     ]\r\n   },\r\n   spectate: {\r\n      header: 'Spectate Game Options',\r\n      button: 'Spectate',\r\n      options: [ 'Screen Name', 'Password' ],\r\n      values:  [ 'text',        'text'     ]\r\n   },\r\n   respawn: {\r\n      header: 'Respawn Options',\r\n      button: 'Respawn',\r\n      options: [ 'Color', 'Skin',    '1st Ability', '2nd Ability', '3rd Ability', 'Team', 'Auto Assign', 'Leave Game' ],\r\n      values:  [ 'list',  '3 radio', '2 radio',     '2 radio',     '2 radio',     'list', '1 radio'    , 'button'     ]\r\n   },\r\n   pauseGame: {\r\n      header: 'Pause Options',\r\n      button: 'Apply',\r\n      options: [ 'Color', 'Skin',    'Name Labels', 'Messages', 'Leave Game' ],\r\n      values:  [ 'list',  '3 radio', '1 radio',     '1 radio',  'button'     ]\r\n   },\r\n   pauseSpectate: {\r\n      header: 'Pause Options',\r\n      button: 'Apply',\r\n      options: [ 'Name Labels', 'Messages', 'Leave Game' ],\r\n      values:  [ '1 radio',     '1 radio',  'button'     ]\r\n   },\r\n   pauseTutorial: {\r\n      header: 'Pause Options',\r\n      button: 'Apply',\r\n      options: [ 'Leave Game' ],\r\n      values:  [ 'button'     ]\r\n   }\r\n};\r\n\r\nfunction renderMenu(typE, datA) {\r\n   if (state.indexOf('Menu') !== -1 && typE !== state.slice(0, -4)) { // If current state is a menu and menu to be rendered is a different menu, unmount menu and re-render\r\n      ReactDOM.unmountComponentAtNode($('cont')); // Must first unmount component so Menu() will construct new instance rather than re-rendering (easier than re-constructing in componentWillReceiveProps() when rendering a menu from another menu)\r\n   }\r\n   ReactDOM.render(<Menu type={typE} data={datA} />, $('cont')); // Render instance of Menu component class in container with id 'cont'\r\n   cnv = createCanvas(window.innerWidth, window.innerHeight); // Create p5 canvas\r\n   cnv.parent('#canvascont'); // Set CanvasCont (id='canvascont') as p5 canvas parent\r\n   state = typE + 'Menu'; // Game state - not component state\r\n}\r\n\r\nclass Menu extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         instances: [], // Array of instances which should be displayed\r\n         values: Array(menus[props.type].options.length).fill(''), // Array of input values; includes all possible inputs, not just those rendered\r\n         issues: Array(menus[props.type].options.length + 1).fill([]) // +1 because issues includes issues which do not apply to any one instance\r\n      }; // Component state - not game state\r\n      this.type = props.type;\r\n      this.data = props.data;\r\n\r\n      this.instantiate = this.instantiate.bind(this);\r\n      this.update = this.update.bind(this);\r\n      this.issue = this.issue.bind(this);\r\n      if (this.type === 'join' || this.type === 'spectate' || this.type === 'respawn') {\r\n         game = props.data;\r\n      } // join, spectate, and respawn are the only menu types which use the data property\r\n      this.instantiate(); // Set initial instances\r\n   }\r\n\r\n   instantiate() { // Set initial instances of menus; called only inside constructor (do not use setState(), change state literally)\r\n      let insts = menus[this.type].options.map(op => op.toLowerCase()); // Set instances to all possible options to start\r\n      switch (this.type) {\r\n         case 'create':\r\n            insts.splice(insts.indexOf('player minimum'), 1); // Remove player min (ffa is selected by default)\r\n            insts.splice(insts.indexOf('team count'), 1); // Remove team count (ffa is selected by default)\r\n            break;\r\n         case 'join':\r\n            if (!this.data.info.protected || this.data.info.host === socket.id) // If the game is not password-protected; If player is host (If player just created the game and is now joining his own game)\r\n               insts.splice(insts.indexOf('password'), 1); // Remove the password input (there is no password necessary) (may be confusing if not removed)\r\n            switch (this.data.info.mode) { // Data is game object; instances of join menu are determined by game mode\r\n               case 'ffa':\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n               case 'skm':\r\n                  insts.splice(insts.indexOf('color'), 1); // Remove color selection (color set by team selection)\r\n                  break;\r\n               case 'srv':\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n               case 'ctf':\r\n                  insts.splice(insts.indexOf('color'), 1); // Remove color selection (color set by team selection)\r\n                  break;\r\n               case 'inf':\r\n                  insts.splice(insts.indexOf('color'), 1); // Remove color selection (color set by assigned infected status)\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n               case 'kth':\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n            }\r\n            break;\r\n         // case 'spectate': break; // All possible optons are always used in spectate menu\r\n         case 'respawn':\r\n            switch (this.data.info.mode) { // Data is game object; instances of join menu are determined by game mode\r\n               case 'ffa':\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n               case 'skm':\r\n                  insts.splice(insts.indexOf('color'), 1); // Remove color selection (color set by team selection)\r\n                  break;\r\n               case 'srv':\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n               case 'ctf':\r\n                  insts.splice(insts.indexOf('color'), 1); // Remove color selection (color set by team selection)\r\n                  break;\r\n               case 'inf':\r\n                  insts.splice(insts.indexOf('color'), 1); // Remove color selection (color set by assigned infected status)\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n               case 'kth':\r\n                  insts.splice(insts.indexOf('team'), 1); // Remove team selection (not team mode)\r\n                  insts.splice(insts.indexOf('auto assign'), 1); // Remove auto assign to team (not team mode)\r\n                  break;\r\n            }\r\n            break;\r\n         case 'pauseGame':\r\n            switch (this.data.info.mode) { // Data is game object; instances of join menu are determined by game mode\r\n               case 'skm': // If players are sorted into teams/groups\r\n               case 'ctf':\r\n               case 'inf':\r\n                  insts.splice(insts.indexOf('color'), 1); // Remove color selection (color set automatically)\r\n                  break;\r\n            }\r\n            break;\r\n         // case 'pauseSpectate': break; // All possible optons are always used in pause spectate menu\r\n         // case 'pauseTutorial': break; // All possible optons are always used in pause tutorial menu\r\n      }\r\n      this.state.instances = insts; // Only set state value literally in constructor, else use setState()\r\n   }\r\n   update(instance, valuE) { // The purpose of update is to update the state of the menu depending on input values\r\n      let value = valuE;\r\n      let insts = menus[this.type].options.map(op => op.toLowerCase()); // Set local instances to lowercase options\r\n      let vals = this.state.values;\r\n      let index = menus[this.type].options.indexOf(capitalize(instance));\r\n      let elt = $(instance + ' input'); // DOM node of instance input\r\n      let wInput = $('world width input'); // Width input DOM node\r\n      let hInput = $('world height input'); // Height input DOM node\r\n      let pmInput = $('player minimum input'); // Player minimum input DOM node\r\n      let tcInput = $('team count input'); // Team count input DOM node\r\n      let teamInput = $('team input'); // Team selections input DOM node\r\n      let wI = menus[this.type].options.indexOf('World Width'); // Width input index (options and state values)\r\n      let hI = menus[this.type].options.indexOf('World Height'); // Height input index (options and state values)\r\n      let pmI = menus[this.type].options.indexOf('Player Minimum'); // Player minimum input index (options and state values)\r\n      let tcI = menus[this.type].options.indexOf('Team Count'); // Team count input index (options and state values)\r\n      if (menus[this.type].values[index] === 'number') { // Special editorial actions for number inputs only\r\n         value = parseFloat(value) ? parseFloat(value) : 0;\r\n         if (value % 1 !== 0) { // If value is not an integer, set it to the greatest integer\r\n            value = floor(value);\r\n         }\r\n      }\r\n      vals[index] = value; // Update input value\r\n      switch (instance) {\r\n         case 'world width':\r\n            vals[hI] = value; // Set world height value to given world width value (hI is hInput index in options array)\r\n            break;\r\n         case 'world height':\r\n            vals[wI] = value; // Set world width value to given world height value (wI is wInput index in options array)\r\n            break;\r\n         case 'player minimum':\r\n            if (tcInput && parseFloat(vals[tcI]) > value) // If team count is greater than player minimum\r\n               vals[tcI] = value; // Reduce team count to player minimum value (tcI is tcInput index in options array)\r\n            break;\r\n         case 'team count':\r\n            if (pmInput && parseFloat(vals[pmI]) > value) // If player minimum is greater than team count\r\n               vals[pmI] = value; // Reduce player minimum to team count (pmI is pmInput index in options array)\r\n            break;\r\n         case 'game mode': // Updates based upon game mode input changes\r\n            // Set displayed instances and special attributes\r\n            if (wInput) wInput.min = 300; // Set default width minimum value\r\n            if (hInput) hInput.min = 300; // Set default height minimum value\r\n            switch (value) {\r\n               case 'ffa':\r\n                  insts.splice(insts.indexOf('player minimum'), 1); // Remove player min\r\n                  insts.splice(insts.indexOf('team count'), 1); // Remove team count\r\n                  break;\r\n               case 'skm':\r\n                  insts.splice(insts.indexOf('player minimum'), 1); // Remove player min\r\n                  insts.splice(insts.indexOf('leaderboard length'), 1); // Remove leaderboard length\r\n                  break;\r\n               case 'srv':\r\n                  insts.splice(insts.indexOf('team count'), 1); // Remove team count\r\n                  break;\r\n               case 'ctf':\r\n                  insts.splice(insts.indexOf('leaderboard length'), 1); // Remove leaderboard length\r\n                  if (wInput) wInput.min = 700; // Dimensional minimums increase in ctf mode\r\n                  if (hInput) hInput.min = 700;\r\n                  break;\r\n               case 'inf':\r\n                  insts.splice(insts.indexOf('team count'), 1); // Remove team count\r\n                  break;\r\n               case 'kth':\r\n                  insts.splice(insts.indexOf('team count'), 1); // Remove team count\r\n                  break;\r\n            }\r\n            this.setState({ instances: insts });\r\n            break;\r\n         case 'auto assign':\r\n            if (value) teamInput.disabled = true; // If auto assign is selected, disable team selection input\r\n            else teamInput.disabled = false;\r\n            break;\r\n      }\r\n      for (let i = 0; i < vals.length; i++) {\r\n         if (vals[i] === 0) // If number (only number because of type comparison in ===) input value is 0 or empty (if empty would have already converted to 0)\r\n            vals[i] = ''; // Replace with an empty string so placeholder is rendered instead of 0\r\n      }\r\n      this.setState({ values: vals }); // Update values in state\r\n   }\r\n   issue(issues) { // issues: Array[ { instance: 'message' } ]\r\n      let iss = issues;\r\n      let count = iss.length;\r\n      let stateIssues = []; // Issues array to be stored in state: Array1[ Array2[ 'message0', ..., 'messageN' ] ] (index of Array1 refers to instance as in options array) (different format than incoming issues)\r\n      for (let i = 0; i < menus[this.type].options.length; i++) {\r\n         let instance = menus[this.type].options[i].toLowerCase(); // Save instance value from options into instance variable\r\n         stateIssues.push([]); // There exists an issues array for each possible option\r\n         for (let j = 0; j < count; j++) {\r\n            if (getKeys(iss[j])[0] === instance) { // If instance of issue is instance from options array\r\n               stateIssues[i].push(iss[j][instance]); // Add issue to messages array within instance index of state issues array\r\n               iss.splice(j, 1); // Remove issue from inputted issues array so it is not unnecessarily looped through\r\n               count--; // count must be reduced since length of iss is reduced\r\n               j--; // j must be reduced since the entire array is shifted back after splicing, so j need not be incremented (always do this after splicing iterated array)\r\n            }\r\n         }\r\n      }\r\n      if (iss.length) { // If there are any remaining issues (issues with instance '' which do not apply to any single input)\r\n         stateIssues.push([]); // Add an option non-specific array to the end of state issues to be rendered at the end of the menu\r\n         for (let i = 0; i < count; i++) { // count is the number of remaining issues\r\n            let key = getKeys(iss[i])[0];\r\n            stateIssues[stateIssues.length - 1].push(iss[i][key]); // Add reamining issues to last index of state issues array because they are displayed after all other issues at the bottom of the menu\r\n         }\r\n      }\r\n      this.setState({ issues: stateIssues });\r\n   }\r\n\r\n   render() {\r\n      let rows = [];\r\n      for (let i = 0; i < menus[this.type].options.length; i++) {\r\n         let instance = menus[this.type].options[i].toLowerCase(); // instance: name of input for identification purposes\r\n         if (this.state.instances.indexOf(instance) === -1) { // If local instance is not found within stated instances of the menu\r\n            continue; // it should not be rendered in the menu\r\n         } // Allows menus[type].xxxx[i] to be used in this loop without having to check if it should exist within the menu\r\n         let input;\r\n         if (menus[this.type].values[i] === 'text') {\r\n            input = <Text   key={instance} menuType={this.type} instance={instance} value={this.state.values[i]} update={this.update} submit={submit.bind(this)} />; // menuType: which menu is to be rendered\r\n         } else if (menus[this.type].values[i] === 'number') {\r\n            input = <Num    key={instance} menuType={this.type} instance={instance} value={this.state.values[i]} update={this.update} submit={submit.bind(this)} />;\r\n         } else if (menus[this.type].values[i] === 'list') {\r\n            input = <List   key={instance} menuType={this.type} instance={instance} value={this.state.values[i]} update={this.update} submit={submit.bind(this)} />; // instance: name of list to tell what to render\r\n         } else if (menus[this.type].values[i].indexOf('radio') !== -1) { // If 'radio' is anywhere within string\r\n            input = <Radios key={instance} menuType={this.type} instance={instance} value={this.state.values[i]} update={this.update} submit={submit.bind(this)} count={parseInt(menus[this.type].values[i])} />;\r\n         } else if (menus[this.type].values[i] === 'button') {\r\n            input = <Button key={instance} menuType={this.type} instance={instance} />; // Button does not need update since it has no internal value\r\n         } else {\r\n            input = menus[this.type].values[i];\r\n         }\r\n         let issues = this.state.issues[i].map((iss, ix) => (\r\n            <p key={ix} \r\n            style={ { \r\n               color: 'red', \r\n               display: (this.state.issues[i].length ? 'block' : 'none'), \r\n               margin: '5px 0px 3px 0px'\r\n            } }>{iss}</p>\r\n         ));\r\n         let row = (\r\n            <tr className='menurow' key={instance}>\r\n               <td className='menucell' key={0} style={ { textAlign: 'right' } }>{menus[this.type].options[i]}</td>\r\n               <td className='menucell' key={1} style={ { textAlign: 'left' } }>\r\n                  {input}\r\n                  {issues}\r\n               </td>\r\n            </tr>\r\n         );\r\n         rows.push(row);\r\n      }\r\n      if (this.state.issues[this.state.issues.length - 1].length) { // If there are non-specific issues, display them in an additional row at the bottom of the menu\r\n         let row = (\r\n            <tr className='menurow' key={'nonspecissues'}>\r\n               <td className='menucell' key={0}></td>\r\n               <td className='menucell' key={1} style={ { textAlign: 'left' } }>\r\n                  {this.state.issues[this.state.issues.length - 1].map((iss, ix) => (\r\n                     <p key={ix} \r\n                     style={ { \r\n                        color: 'red', \r\n                        display: 'block', \r\n                        margin: '5px 0px 3px 0px'\r\n                     } }>{iss}</p>\r\n                  ))}\r\n               </td>\r\n            </tr>\r\n         );\r\n         rows.push(row);\r\n      }\r\n\r\n      return ( // CanvasCont: zIndex = '-2'; Shade: z-index = '-1'; Menu: zIndex = '1'; (Unpredictable behavior if shade is 0)\r\n         <div id='menu'>\r\n            <Shade />\r\n            <CanvasCont />\r\n            <div id={this.type + 'Header'} className='header' style={ { zIndex: '1', opacity: '.95' } }>\r\n               <h2 className='headertext'>{menus[this.type].header}</h2>\r\n            </div>\r\n            <div className='content' style={ { zIndex: '1' } }>\r\n               <table id={this.type + 'Table'} className='menutable'>\r\n                  <tbody id='Menu Body'>\r\n                     {rows}\r\n                  </tbody>\r\n               </table>\r\n               <MenuSubmit menuType={this.type} values={this.state.values} submit={submit.bind(this)} />\r\n            </div>\r\n            <MenuFooter menuType={this.type} submit={submit.bind(this)} />\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nclass Text extends React.Component { // Each input-type component renders a table row containing the input type\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         value: props.value,\r\n         focused: false, // If the user is focused on the field\r\n         backgroundColor: 'rgb(255, 255, 255)' // Initialize backgroundColor style in state so it can be edited and re-rendered with React\r\n      };\r\n      this.style = {};\r\n      this.menuType = props.menuType;\r\n      this.instance = props.instance;\r\n      // this.index = menus[this.menuType].options.indexOf(capitalize(this.instance)); // Not currently in use\r\n\r\n      this.applyInstance = this.applyInstance.bind(this);\r\n      this.handleFocus = this.handleFocus.bind(this);\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleKeyDown = this.handleKeyDown.bind(this);\r\n   }\r\n   applyInstance() {\r\n      switch (this.instance) {\r\n         case 'password':\r\n            if (this.menuType === 'join') // Caution: password instance exists in create and join menus\r\n               socket.emit('Ask Permission', { pass: this.state.value, info: game.info }); // Add player to permissed list on server (if there is no password for game)\r\n            break;\r\n      }\r\n   }\r\n\r\n   handleFocus(e) {\r\n      if (e.type === 'focus') {\r\n         this.setState({ focused: true, backgroundColor: 'rgb(230, 230, 230)' });\r\n      } else if (e.type === 'blur') {\r\n         this.setState({ focused: false, backgroundColor: 'rgb(255, 255, 255)' });\r\n      }\r\n   }\r\n   handleChange(e) { // e.target is dom element of target\r\n      this.props.update(this.instance, e.target.value);\r\n      if (this.instance === 'password' && this.menuType === 'join') {\r\n         socket.emit('Ask Permission', { pass: e.target.value, info: game.info }); // Add player to permissed list on server (if correct password)\r\n      }\r\n   }\r\n   handleKeyDown(e) {\r\n      if (e.keyCode === 13) // If ENTER key is down\r\n         this.props.submit(this.menuType);\r\n   }\r\n\r\n   componentWillMount() {\r\n      this.applyInstance();\r\n   }\r\n   componentDidMount() {\r\n      this.props.update(this.instance, this.state.value);\r\n   }\r\n   componentWillReceiveProps(next) {\r\n      this.setState({ value: next.value });\r\n   }\r\n   render() {\r\n      let style = {};\r\n      for (let i in this.style) {\r\n         style[i] = this.style[i];\r\n      }\r\n      style.backgroundColor = this.state.backgroundColor;\r\n\r\n      return (\r\n         <input \r\n            id={this.instance + ' input'} \r\n            className='menuinput' \r\n            type='text' \r\n            value={this.state.value} \r\n            autoComplete='off' \r\n            style={style} \r\n            onFocus={this.handleFocus} \r\n            onBlur={this.handleFocus} \r\n            onChange={this.handleChange} \r\n            onKeyDown={this.handleKeyDown}\r\n         ></input>\r\n      );\r\n   }\r\n}\r\n\r\nclass Num extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         value: props.value, // Actuall value of the input field\r\n         focused: false, // If the user is focused on the field\r\n         backgroundColor: 'rgb(255, 255, 255)',\r\n         display: 'table-row' // Indicates whether 'display: none' property will be set on the container table row\r\n      };\r\n      this.style = {};\r\n      this.menuType = props.menuType; // Type of menu rendered inside\r\n      this.instance = props.instance; // Name of input\r\n      // this.index = menus[this.menuType].options.indexOf(capitalize(this.instance)); // Not currently in use\r\n      this.placeholder = null;\r\n\r\n      this.applyInstance = this.applyInstance.bind(this);\r\n      this.handleFocus = this.handleFocus.bind(this);\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleKeyDown = this.handleKeyDown.bind(this);\r\n   }\r\n   applyInstance() {\r\n      switch (this.instance) {\r\n         case 'world width':\r\n            this.placeholder = Defaults.worldwidth;\r\n            this.min = 300;\r\n            this.max = 100000;\r\n            break;\r\n         case 'world height':\r\n            this.placeholder = Defaults.worldheight;\r\n            this.min = 300;\r\n            this.max = 100000;\r\n            break;\r\n         case 'player minimum':\r\n            this.placeholder = Defaults.playermin;\r\n            this.min = 2;\r\n            break;\r\n         case 'player cap':\r\n            this.placeholder = Defaults.playercap;\r\n            this.min = 2;\r\n            break;\r\n         case 'leaderboard length':\r\n            this.placeholder = Defaults.boardlength;\r\n            this.min = 1;\r\n            this.max = 20;\r\n            break;\r\n         case 'team count':\r\n            this.placeholder = Defaults.teamcount;\r\n            this.min = 2;\r\n            this.max = teamColors.length;\r\n            break;\r\n      }\r\n   }\r\n\r\n   handleFocus(e) {\r\n      if (e.type === 'focus') { // If focus in\r\n         this.setState({ focused: true, backgroundColor: 'rgb(230, 230, 230)' }); // Darken\r\n      } else if (e.type === 'blur') { // If focus out\r\n         this.setState({ focused: false, backgroundColor: 'rgb(255, 255, 255)' }); // Lighten\r\n      }\r\n   }\r\n   handleChange(e) {\r\n      let val = e.target.value; // Create local, editable value\r\n      if (e.target.value % 1 !== 0) // If value is not an integer\r\n         val = floor(val); // Set value to greatest integer\r\n      this.props.update(this.instance, val); // Update local value and rest of menu if applicable\r\n   }\r\n   handleKeyDown(e) {\r\n      if (e.keyCode === 13) // If ENTER key is down\r\n         this.props.submit(this.menuType);\r\n   }\r\n\r\n   componentWillMount() { // Runs on initial mount, not every update\r\n      this.applyInstance();\r\n   }\r\n   componentDidMount() {\r\n      this.props.update(this.instance, this.state.value);\r\n   }\r\n   componentWillReceiveProps(next) {\r\n      this.setState({ value: next.value });\r\n   }\r\n   render() {\r\n      let style = {};\r\n      for (let i in this.style) {\r\n         style[i] = this.style[i];\r\n      }\r\n      style.backgroundColor = this.state.backgroundColor;\r\n\r\n      return (\r\n         <input \r\n            id={this.instance + ' input'} \r\n            className='menuinput' \r\n            type='number' \r\n            value={this.state.value} \r\n            placeholder={this.placeholder} \r\n            min={this.min} \r\n            max={this.max} \r\n            autoComplete='off' \r\n            style={style} \r\n            onFocus={this.handleFocus} \r\n            onBlur={this.handleFocus} \r\n            onChange={this.handleChange} \r\n            onKeyDown={this.handleKeyDown}\r\n         ></input>\r\n      );\r\n   }\r\n}\r\n\r\nclass List extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         value: props.value,\r\n         options: [],\r\n         focused: false,\r\n         backgroundColor: 'rgb(255, 255, 255)'\r\n      };\r\n      this.style = {};\r\n      this.menuType = props.menuType;\r\n      this.instance = props.instance;\r\n      // this.index = menus[this.menuType].options.indexOf(capitalize(this.instance)); // Not currently in use\r\n\r\n      this.applyInstance = this.applyInstance.bind(this);\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleFocus = this.handleFocus.bind(this);\r\n      this.handleKeyDown = this.handleKeyDown.bind(this);\r\n   }\r\n\r\n   applyInstance() {\r\n      let info = []; // Info array holds meta data for option elements to be created later\r\n      let unset = true; // If value is unset initially, will set value to first in list\r\n      switch (this.instance) {\r\n         case 'world type':\r\n            info = [\r\n               { value: 'rectangle', inner: 'Square' },\r\n               { value: 'ellipse',   inner: 'Circle' }\r\n            ];\r\n            break;\r\n         case 'game mode':\r\n            for (let i in modes) {\r\n               let mode = modes[i];\r\n               let disabled = false;\r\n               if (i === 'ctf' || i === 'inf' || i === 'kth') disabled = true;\r\n               info.push({ value: i, inner: modes[i], disabled: disabled });\r\n            }\r\n            break;\r\n         case 'color':\r\n            for (let i in orgColors[game.world.color]) { // Renders all colors as a ffa game; If it is a team mode, rendering should be blocked in Menu.render()\r\n               let color = i; // Key: Color name: String\r\n               let rgb = orgColors[game.world.color][i]; // Value: RGB: Object\r\n               info.push({ value: color, inner: color[0].toUpperCase() + color.slice(1), \r\n                  style: { backgroundColor: 'rgb(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ')' }\r\n               });\r\n            }\r\n            if (this.menuType === 'respawn') {\r\n               for (let i = 0; i < info.length; i++) {\r\n                  if (org.color === info[i].value) {\r\n                     this.setState({ value: info[i].value });\r\n                     unset = false;\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            break;\r\n         case 'team':\r\n            if (getSrc().src === 'title') { // If in title, set game value to game in games array\r\n               for (let i = 0; i < games.length; i++) { // Update game on-load (Normally occurs in thesocket.js @ socket.on('Game')); Used for team option updates\r\n                  if (games[i].info.host === game.info.host) { // Identify game\r\n                     game = games[i]; // Set game to updated game from server array\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            for (let i = 0; i < game.teams.length; i++) { // If is not a team mode, rendering should be blocked in Menu.render()\r\n               info.push({ value: teamColors[i], inner: teamColors[i][0].toUpperCase() + teamColors[i].slice(1) + ': ' + game.teams[i].length });\r\n            }\r\n            if (this.menuType === 'join') { // Team auto-selection in join menu\r\n               let lengths = game.teams.map((team) => team.length); // Array which records the number of players on each team\r\n               let min = { [0]: lengths[0] }; // min is an object whose only key is the index of the smallest team and whose value is the size of that team (start with first team by default)\r\n               for (let i = 0; i < info.length; i++) { // Must keep track of index of minimum team within teams array, so index is key within min\r\n                  if (min[i] > lengths[i+1]) {\r\n                     delete min[i]; // Remove previous team key-value pair (it is not minimum size)\r\n                     min[i+1] = lengths[i+1];\r\n                  }\r\n               }\r\n               for (let i in min) { // For-in loop only used so key in min object can be accessed\r\n                  this.setState({ value: info[parseInt(i)].value }); // i is of type string, so parseInt must be used to make type number\r\n                  unset = false;\r\n               }\r\n            } else if (this.menuType === 'respawn') { // Team auto-selection in respawn menu\r\n               for (let i = 0; i < info.length; i++) {\r\n                  if (org.team === teamColors[i]) {\r\n                     this.setState({ value: info[i].value });\r\n                     unset = false;\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            break;\r\n      }\r\n      if (unset) this.setState({ value: info[0].value }); // If no value has been set, set first option to select element's value\r\n      let ops = info.map((inf) => <option key={inf.value} value={inf.value} disabled={inf.disabled} style={inf.style}>{inf.inner}</option>); // Create option elements from info\r\n      this.setState({ options: ops });\r\n   }\r\n\r\n   handleChange(e) {\r\n      this.props.update(this.instance, e.target.value); // Update local value and menu based on current instance and value\r\n   }\r\n   handleFocus(e) {\r\n      if (e.type === 'focus') { // e.type: the type of event (focus or blur); typeof e.type is DOMString:\r\n         this.setState({ focused: true,  backgroundColor: 'rgb(230, 230, 230)' });\r\n      } else if (e.type === 'blur') {\r\n         this.setState({ focused: false, backgroundColor: 'rgb(255, 255, 255)' });\r\n      }\r\n   }\r\n   handleKeyDown(e) {\r\n      if (e.keyCode === 13) // If ENTER key is down\r\n         this.props.submit(this.menuType);\r\n   }\r\n\r\n   componentWillMount() { // Does not run when component is merely changed, only on initial mount\r\n      this.applyInstance();\r\n   }\r\n   componentDidMount() {\r\n      this.props.update(this.instance, this.state.value); // Update internal values of this and other inputs\r\n   }\r\n   componentWillReceiveProps(next) {\r\n      this.setState({ value: next.value });\r\n   }\r\n   render() {\r\n      let style = {};\r\n      for (let i in this.style) {\r\n         style[i] = this.style[i];\r\n      }\r\n      style.backgroundColor = this.state.backgroundColor;\r\n\r\n      return (\r\n         <select\r\n            id={this.instance + ' input'} \r\n            className='menuinput' \r\n            value={this.state.value} \r\n            style={style} \r\n            onChange={this.handleChange} \r\n            onFocus={this.handleFocus} \r\n            onBlur={this.handleFocus} \r\n            onKeyDown={this.handleKeyDown}\r\n            >{this.state.options}\r\n         </select>\r\n      );\r\n   }\r\n}\r\n\r\nclass Radios extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         value: props.value, // Value is represented as index of radio which is selected (only one is selected at once) (null if none are selected)\r\n         selections: Array(props.count).fill(false) // Boolean array to show selection state of radios\r\n      };\r\n      this.count = props.count;\r\n      this.menuType = props.menuType;\r\n      this.instance = props.instance;\r\n      // this.index = menus[this.menuType].options.indexOf(capitalize(this.instance)); // Not currently in use\r\n\r\n      this.applyInstance = this.applyInstance.bind(this);\r\n   }\r\n\r\n   applyInstance() { // this.props.update should not be run within applyInstance since component is not yet mounted\r\n      switch (this.instance) {\r\n         case 'skin':\r\n            this.set = skins; // Set is an array of text to be displayed next to the radio inputs\r\n            if (this.menuType === 'respawn' || this.menuType === 'pauseGame') { // Placed outside and after above for loop so the above will occur by defualt and this will overwrite if applicable\r\n               for (let i = 0; i < skins.length; i++) {\r\n                  if (org && org.skin === skins[i]) {\r\n                     let sels = this.state.selections; // Create copy of state selections array\r\n                     sels.fill(false); // Set entire array to false\r\n                     sels[i] = true; // Set current skin to value true\r\n                     this.setState({ value: org.skin, selections: sels });\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            break;\r\n         case '1st ability':\r\n            this.set = firsts; // Defined in config.js\r\n            if (this.menuType === 'respawn') {\r\n               let index;\r\n               let sels = this.state.selections; // Create copy of state selections array\r\n               sels.fill(false);\r\n               if (ability.extend.activated)\r\n                  index = 0; // Set index value of selected radio in radios\r\n               else if (ability.compress.activated)\r\n                  index = 1; // Set index value of selected radio in radios\r\n               sels[index] = true;\r\n               this.setState({ value: this.set[index], selections: sels });\r\n            }\r\n            break;\r\n         case '2nd ability':\r\n            this.set = seconds; // Defined in config.js\r\n            if (this.menuType === 'respawn') {\r\n               let index;\r\n               let sels = this.state.selections; // Create copy of state selections array\r\n               sels.fill(false);\r\n               if (ability.immortality.activated)\r\n                  index = 0; // Set index value of selected radio in radios\r\n               else if (ability.freeze.activated)\r\n                  index = 1; // Set index value of selected radio in radios\r\n               sels[index] = true;\r\n               this.setState({ value: this.set[index], selections: sels });\r\n            }\r\n            break;\r\n         case '3rd ability':\r\n            this.set = thirds; // Defined in config.js\r\n            if (this.menuType === 'respawn') {\r\n               let index;\r\n               let sels = this.state.selections; // Create copy of state selections array\r\n               sels.fill(false);\r\n               if (ability.neutralize.activated)\r\n                  index = 0; // Set index value of selected radio in radios\r\n               else if (ability.toxin.activated)\r\n                  index = 1; // Set index value of selected radio in radios\r\n               sels[index] = true;\r\n               this.setState({ value: this.set[index], selections: sels });\r\n            }\r\n            break;\r\n         case 'auto assign':\r\n            this.set = ['']; // Do not display any text adjacent to name label radio\r\n            if (this.menuType === 'respawn') {\r\n               if (ability.auto)\r\n                  this.setState({ value: 'auto assign', selections: [true] });\r\n               else\r\n                  this.setState({ value: '', selections: [false] });\r\n            }\r\n            break;\r\n         case 'name labels':\r\n            this.set = ['']; // Do not display any text adjacent to name label radio\r\n            if (Labels) // If name labels setting is on\r\n               this.setState({ value: this.instance, selections: [true] }); // Set value of Radios to instance value ('name labels') and select the radio\r\n            else\r\n               this.setState({ value: '', selections: [false] }); // Set value of Radios to '' (no value) and deselect the radio\r\n            break;\r\n         case 'messages':\r\n            this.set = ['']; // Do not display any text adjacent to name label radio\r\n            if (Messages) // If messages setting is on\r\n               this.setState({ value: this.instance, selections: [true] }); // Set value of Radios to instance value ('messages') and select the radio\r\n            else\r\n               this.setState({ value: '', selections: [false] }); // Set value of Radios to '' (no value) and deselect the radio\r\n            break;\r\n      }\r\n   }\r\n\r\n   handleClick(index) {\r\n      let selections = this.state.selections.slice(); // Copy state selections array into selections\r\n      let newValue = !selections[index]; // Flip selected radio value\r\n      selections.fill(false); // Set all selections to false\r\n      selections[index] = newValue; // Apply new value to selections array\r\n      let val;\r\n      if (this.set.length === 1 && this.set[0] === '') // If there is no text labeling radio, and there is only one radio in a set, set value to instance\r\n         val = selections[index] ? this.instance : ''; // If radio is selected, set value to instance; If deselected, value is empty string\r\n      else\r\n         val = selections[index] ? this.set[index] : ''; // If radio is selected, set value to radio label; If deselected, value is empty string\r\n      this.props.update(this.instance, val); // Update state value\r\n      this.setState({ selections: selections }); // Update selections\r\n   }\r\n\r\n   componentWillMount() {\r\n      this.applyInstance();\r\n   }\r\n   componentDidMount() { // Does not run when component is merely changed\r\n      this.props.update(this.instance, this.state.value);\r\n   }\r\n   componentWillReceiveProps(next) {\r\n      this.setState({ value: next.value });\r\n   }\r\n   render() {\r\n      let radios = [];\r\n      for (let i = 0; i < this.count; i++) {\r\n         radios.push(<Radio key={i} instance={this.instance} order={i} value={this.state.selections[i]} onClick={() => this.handleClick(i)} />); // Uses arrow function syntax so 'i' can be passed rather than event parameter\r\n      }\r\n      let elts = radios.map((radio, index) => ( // Add spacers under radio buttons; Last spacer is twice as high\r\n         <div key={index} onKeyDown={this.handleKeyDown}>\r\n            {radio}\r\n            <p className='menuradiotext'>{this.set[index] ? (this.set[index][0].toUpperCase() + this.set[index].slice(1)) : null}</p>\r\n            <div style={ { display: 'block', height: ((index === radios.length - 1) ? '6px' : '3px') } }></div>\r\n         </div>\r\n      )); // If this.set[index] is empty, do not render text (inner HTML of <p> is null)\r\n\r\n      return (\r\n         <div id={this.instance + ' input'} value={this.state.value}>\r\n            {elts}\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nclass Radio extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         value: props.value\r\n      };\r\n      this.style = {};\r\n      this.instance = props.instance;\r\n      this.order = props.order; // Index of radio within radio group (for identification purposes)\r\n   }\r\n\r\n   componentWillReceiveProps(next) {\r\n      this.setState({ value: next.value });\r\n   }\r\n   render() {\r\n      let style = {};\r\n      if (this.state.value)\r\n         style.backgroundColor = 'rgb(190, 190, 190)';\r\n      else\r\n         style.backgroundColor = 'rgb(255, 255, 255)';\r\n      return (\r\n         <div\r\n            id={this.instance + ' input ' + this.order} \r\n            className='menuradio' \r\n            type='radio' \r\n            style={style} \r\n            onClick={this.props.onClick}\r\n         ></div>\r\n      );\r\n   }\r\n}\r\n\r\nclass Button extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         down: false, // Is mouse down?\r\n         backgroundColor: 'rgb(240, 240, 240)' // Initialize backgroundColor style in state so it can be edited and re-rendered with React\r\n      };\r\n      this.style = {};\r\n      this.menuType = props.menuType;\r\n      this.instance = props.instance;\r\n      // this.index = menus[this.menuType].options.indexOf(capitalize(this.instance)); // Not currently in use\r\n\r\n      this.handleClick = this.handleClick.bind(this); // Bind this. reference value to class functions\r\n      this.handleMouseOver = this.handleMouseOver.bind(this);\r\n      this.handleMouseOut = this.handleMouseOut.bind(this);\r\n      this.handleMouseUp = this.handleMouseUp.bind(this);\r\n      this.handleMouseDown = this.handleMouseDown.bind(this);\r\n   }\r\n\r\n   handleClick() {\r\n      switch (this.instance) {\r\n         case 'leave game':\r\n            socket.emit('Leave Game', game);\r\n            org.clearIntervals(); // Copied from die()\r\n            ability = new Ability({ player: socket.id }); // Reset ability object\r\n            if (getSrc().src === 'game') { // No game object in pause tutorial menu\r\n               for (let i = 0; i < game.board.list.length; i++) {\r\n                  if (game.board.list[i].player == socket.id) { // Find player in leaderboard\r\n                     game.board.list.splice(i, 1); // Remove player from leaderboard\r\n                     orderBoard(game.board.list); // Sort the list\r\n                     socket.emit('Board', game.board); // Send updated board to server\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            org = undefined; // Clear org variable\r\n            renderTitle();\r\n            break;\r\n      }\r\n   }\r\n   handleMouseOver() {\r\n      let page = document.body.parentNode;\r\n      if (!mouseDown || !this.state.down) { // If the mouse was lifted not over the button, state should not be down, but won't be detected as such by the button, hence mouseDown defined elsewhere\r\n         this.setState({\r\n            down: false,\r\n            backgroundColor: 'rgb(220, 220, 220)'\r\n         });\r\n      } else {\r\n         if (this.state.down) {\r\n            this.setState({ backgroundColor: 'rgb(200, 200, 200)' });\r\n            mouseDown = true;\r\n         }\r\n      }\r\n   }\r\n   handleMouseOut() {\r\n      this.setState({ backgroundColor: 'rgb(240, 240, 240)' });\r\n   }\r\n   handleMouseUp() {\r\n      this.style.backgroundColor = 'rgb(220, 220, 220)';\r\n      this.setState({ down: false });\r\n   }\r\n   handleMouseDown() {\r\n      this.setState({ backgroundColor: 'rgb(200, 200, 200)' });\r\n      this.setState({ down: true });\r\n   }\r\n\r\n   componentWillMount() {\r\n      let page = document.body.parentNode;\r\n      if (!mouseDown) this.setState({ down: false });\r\n   }\r\n   render() {\r\n      let style = {};\r\n      for (let i in this.style) {\r\n         style[i] = this.style[i];\r\n      }\r\n      style.backgroundColor = this.state.backgroundColor;\r\n\r\n      return (\r\n         <button\r\n            id={this.instance + ' input'} \r\n            className='menubutton' \r\n            type='button' \r\n            style={style} \r\n            onMouseOver={this.handleMouseOver} \r\n            onMouseOut={this.handleMouseOut} \r\n            onMouseDown={this.handleMouseDown} \r\n            onMouseUp={this.handleMouseUp} \r\n            onClick={this.handleClick}\r\n         ></button>\r\n      );\r\n   }\r\n}\r\n\r\nclass MenuSubmit extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         down: false, // Is mouse down?\r\n         backgroundColor: 'rgb(240, 240, 240)' // Initialize backgroundColor style in state so it can be edited and re-rendered with React\r\n      };\r\n      this.style = { // this.style is read-only in React classes\r\n         left: (window.innerWidth - 95) / 2 + 'px' // Submit width === 95px\r\n      };\r\n      this.menuType = props.menuType;\r\n\r\n      this.handleClick = this.handleClick.bind(this);\r\n      this.handleMouseOver = this.handleMouseOver.bind(this);\r\n      this.handleMouseOut = this.handleMouseOut.bind(this);\r\n      this.handleMouseDown = this.handleMouseDown.bind(this);\r\n      this.handleMouseUp = this.handleMouseUp.bind(this);\r\n   }\r\n\r\n   handleClick(e) { // Submit functions based upon menu type\r\n      this.props.submit(this.menuType);\r\n   }\r\n   handleMouseOver(e) {\r\n      let page = document.body.parentNode;\r\n      if (!mouseDown || !this.state.down) { // If the mouse was lifted not over the button, state should not be down, but won't be detected as such by the button, hence mouseDown defined elsewhere\r\n         this.setState({ down: false, backgroundColor: 'rgb(220, 220, 220)' });\r\n      } else {\r\n         if (this.state.down) {\r\n            this.setState({ backgroundColor: 'rgb(200, 200, 200)' });\r\n            mouseDown = true;\r\n         }\r\n      }\r\n   }\r\n   handleMouseOut(e) {\r\n      this.setState({ backgroundColor: 'rgb(240, 240, 240)' });\r\n   }\r\n   handleMouseDown(e) {\r\n      this.setState({\r\n         down: true,\r\n         backgroundColor: 'rgb(200, 200, 200)'\r\n      });\r\n   }\r\n   handleMouseUp(e) {\r\n      this.setState({\r\n         down: false,\r\n         backgroundColor: 'rgb(240, 240, 240)'\r\n      });\r\n   }\r\n\r\n   componentWillMount() {\r\n      let page = document.body.parentNode;\r\n      if (!mouseDown) this.setState({ down: false });\r\n   }\r\n   componentWillReceiveProps(next) {\r\n      this.setState({ values: next.values });\r\n   }\r\n   render() {\r\n      let style = {};\r\n      for (let i in this.style) {\r\n         style[i] = this.style[i];\r\n      }\r\n      style.backgroundColor = this.state.backgroundColor;\r\n\r\n      return (\r\n         <button \r\n            id={this.menuType + 'Button'} \r\n            className='menusubmit' \r\n            type='button' \r\n            style={style} \r\n            onClick={this.handleClick} \r\n            onMouseOver={this.handleMouseOver} \r\n            onMouseOut={this.handleMouseOut} \r\n            onMouseDown={this.handleMouseDown} \r\n            onMouseUp={this.handleMouseUp}\r\n         ><p style={ { margin: 0 } }>{menus[this.menuType].button}</p>\r\n         </button>\r\n      );\r\n   }\r\n}\r\n\r\nclass MenuFooter extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {};\r\n      this.style = {\r\n         zIndex: '1',\r\n         position: 'absolute',\r\n         opacity: '.95'\r\n      };\r\n      this.menuType = props.menuType;\r\n\r\n      this.handleClick = this.handleClick.bind(this);\r\n   }\r\n\r\n   handleClick() { // Click is handled on footer rather than back text so click applies to entire footer\r\n      switch (this.menuType) {\r\n         case 'create':\r\n            renderTitle();\r\n            break;\r\n         case 'join':\r\n            if (game.info.host == socket.id) { // If player is host (If player is joining directly after creating the game)\r\n               socket.emit('Game Ended', game);\r\n               renderTitle();\r\n            } else {\r\n               renderBrowser();\r\n            }\r\n            break;\r\n         case 'spectate':\r\n            renderBrowser();\r\n            break;\r\n         case 'pauseSpectate': // Do not use submit() so changes are not saved when using back button\r\n         case 'respawn':\r\n            state = 'spectate';\r\n            ReactDOM.render(<CanvasCont />, $('cont'));\r\n            break;\r\n         case 'pauseGame': {\r\n            let skip = false;\r\n            for (let i = 0; i < game.players.length; i++) {\r\n               if (game.players[i] === socket.id) { // If still is a player\r\n                  state = 'game';\r\n                  skip = true;\r\n                  break;\r\n               }\r\n            }\r\n            if (!skip) {\r\n               for (let i = 0; i < game.spectators.length; i++) {\r\n                  if (game.spectators[i] === socket.id) {\r\n                     state = 'spectate'; // Must include spectate possibility in pause game; even though a spectator could never open pause game menu, he could be killed while in menu\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            ReactDOM.render(<CanvasCont />, $('cont'));\r\n            break;\r\n         }\r\n         case 'pauseTutorial':\r\n            state = 'tutorial';\r\n            ReactDOM.render(<CanvasCont />, $('cont'));\r\n            break;\r\n      }\r\n   }\r\n\r\n   render() {\r\n      let style = {};\r\n      for (let i in this.style) {\r\n         style[i] = this.style[i];\r\n      }\r\n\r\n      return (\r\n         <div id='footerDiv' style={style} onClick={this.handleClick}>\r\n            <footer id='footer' className='menufooter'>\r\n               <p className='menufootertext'>&larr; Back</p>\r\n            </footer>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n/////////////////////////////////////////////////////////////////////////////// SUBMIT ///////////////////////////////////////////////////////////////////////////////\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n////////                                                                                                                                                      ////////\r\n////////                                                                                                                                                      ////////\r\n////////                                                                                                                                                      ////////\r\n////////                                                                                                                                                      ////////\r\n////////                                                                                                                                                      ////////\r\n////////                                                                                                                                                      ////////\r\n////////                                                                                                                                                      ////////\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nfunction submit(menuType) {\r\n   let issues = []; // Array of objects [ { [instance]: 'error message' } ] (instance of input to render error message next to)\r\n   let ok = true; // Check for inputs' validities\r\n   let tInput = $('game title input');\r\n   let pInput = $('password input');\r\n   let typeInput = $('world type input');\r\n   let widthInput = $('world width input');\r\n   let heightInput = $('world height input');\r\n   let pcInput = $('player cap input');\r\n   let pmInput = $('player minimum input');\r\n   let boardLengthInput = $('leaderboard length input');\r\n   let tcInput = $('team count input');\r\n   let modeInput = $('game mode input');\r\n   let snInput = $('screen name input');\r\n   let cInput = $('color input');\r\n   let teamInput = $('team input');\r\n   let gametitle = tInput ? tInput.value : null; // Reading values is ok, but do not edit direct to the DOM\r\n   let password = pInput ? pInput.value : null;\r\n   let type = typeInput ? typeInput.value.toLowerCase() : null;\r\n   let width = widthInput ? parseFloat(widthInput.value) : null;\r\n   let height = heightInput ? parseFloat(heightInput.value) : null;\r\n   let cap = pcInput ? parseFloat(pcInput.value) : null;\r\n   let minimum = pmInput ? parseFloat(pmInput.value) : null;\r\n   let show = boardLengthInput ? parseFloat(boardLengthInput.value) : null;\r\n   let teamCount = tcInput ? parseFloat(tcInput.value) : null;\r\n   let mode = modeInput ? modeInput.value : null;\r\n   let name = snInput ? snInput.value : null;\r\n   let color = cInput ? cInput.value.toLowerCase() : null;\r\n   let first = this.state.values[menus[this.type].options.indexOf('1st Ability')]; // this value must be instance of Menu component (bind this in submit property in menuSubmit rendering)\r\n   let second = this.state.values[menus[this.type].options.indexOf('2nd Ability')]; // Value of second ability input\r\n   let third = this.state.values[menus[this.type].options.indexOf('3rd Ability')]; // Valeu of third ability input\r\n   first = first ? first.toLowerCase() : ''; // toLowerCase() is separated so entire getting of first value need not be repeated in ternary expression\r\n   second = second ? second.toLowerCase() : '';\r\n   third = third ? third.toLowerCase() : '';\r\n   let skin = this.state.values[menus[this.type].options.indexOf('Skin')]; // this value must be instance of Menu component (bind this in submit property in menuSubmit rendering)\r\n   skin = skin ? skin : 'none'; // If no skin is selected, set value of skin to 'none'\r\n   let team = teamInput ? teamInput.value.toLowerCase() : null;\r\n   let auto = this.state.values[menus[this.type].options.indexOf('Auto Assign')]; // this value must be instance of Menu component (bind this in submit property in menuSubmit rendering)\r\n   auto = auto ? true : false; // Set auto assign to Boolean value\r\n   let label = this.state.values[menus[this.type].options.indexOf('Name Labels')]; // this value must be instance of Menu component (bind this in submit property in menuSubmit rendering)\r\n   label = label === 'name labels' ? true : false; // Set label to Boolean value\r\n   let message = this.state.values[menus[this.type].options.indexOf('Messages')]; // this value must be instance of Menu component (bind this in submit property in menuSubmit rendering)\r\n   message = message === 'messages' ? true : false; // Set messages to Boolean value\r\n   switch (menuType) {\r\n      case 'create':\r\n         { // Game Title\r\n            if (tInput) { // If title input exists\r\n               if (!gametitle) { // If empty\r\n                  ok = false;\r\n                  issues.push({ ['game title']: 'Title cannot be left blank' });\r\n                  // alert('Title cannot be left blank');\r\n               } else {\r\n                  for (let i = 0; i < games.length; i++) {\r\n                     if (gametitle === games[i].info.title) { // Find matching title to another game\r\n                        ok = false;\r\n                        issues.push({ ['game title']: 'Title matches that of another game' });\r\n                        // alert('Title matches that of another game');\r\n                        break;\r\n                     }\r\n                  }\r\n               }\r\n            }\r\n         } { // World Width and Height\r\n            if (widthInput && heightInput) { // If width and height inputs exist\r\n               if (!width && width !== 0) { // If width input is empty\r\n                  width = parseFloat(widthInput.placeholder); // Set width to default (rendered in placeholder)\r\n               }\r\n               if (!height && height !== 0) { // If height input is empty\r\n                  height = parseFloat(heightInput.placeholder); // Set height to default (rendered in placeholder)\r\n               }\r\n               if (width < parseFloat(widthInput.min) || height < parseFloat(heightInput.min)) {\r\n                  ok = false;\r\n                  issues.push({ ['world width']: 'Dimensions must be at least ' + widthInput.min + ' x ' + heightInput.min + ' px' });\r\n                  issues.push({ ['world height']: 'Dimensions must be at least ' + widthInput.min + ' x ' + heightInput.min + ' px' });\r\n                  // alert('Dimensions must be at least ' + widthInput.min + ' x ' + heightInput.min + ' px');\r\n               } else if (width > parseFloat(widthInput.max) || height > parseFloat(heightInput.max)) {\r\n                  ok = false;\r\n                  issues.push({ ['world width']: 'Dimensions can be at most ' + widthInput.max + ' x ' + heightInput.max + ' px' });\r\n                  issues.push({ ['world height']: 'Dimensions can be at most ' + widthInput.max + ' x ' + heightInput.max + ' px' });\r\n                  // alert('Dimensions can be at most ' + widthInput.max + ' x ' + heightInput.max + ' px');\r\n               }\r\n               if (width % 1 !== 0 || height % 1 !== 0) {\r\n                  ok = false;\r\n                  issues.push({ ['world width']: 'Width and height must be whole numbers' });\r\n                  issues.push({ ['world height']: 'Width and height must be whole numbers' });\r\n                  // alert('Width and height must be whole numbers');\r\n               }\r\n               if (width != height) {\r\n                  ok = false;\r\n                  issues.push({ ['world width']: 'Width and height must be equivalent' });\r\n                  issues.push({ ['world height']: 'Width and height must be equivalent' });\r\n                  // alert('Width and height must be equivalent');\r\n               }\r\n            }\r\n         } { // Player Cap\r\n            if (pcInput) { // If player cap input exists\r\n               if (!cap && cap !== 0) { // If player cap input is left empty\r\n                  cap = parseFloat(pcInput.placeholder); // Set cap to default as rendered as placeholder\r\n               } else if (cap < parseFloat(pcInput.min)) {\r\n                  ok = false;\r\n                  issues.push({ ['player cap']: 'Player cap must be at least ' + parseFloat(pcInput.min) });\r\n                  // alert('Player cap must be at least ' + parseFloat(pcInput.min));\r\n               } else if (cap % 1 !== 0) {\r\n                  ok = false;\r\n                  issues.push({ ['player cap']: 'Player cap must be a whole number' });\r\n                  // alert('Player cap must be a whole number');\r\n               } else if (pmInput ? cap < parseFloat(pmInput.value) : false) { // If player minimum input exists and player cap is less than player minimum value\r\n                  ok = false;\r\n                  issues.push({ ['player cap']: 'Player cap cannot be less than player minimum' });\r\n                  // alert('Player cap cannot be less than player minimum');\r\n               }\r\n            }\r\n         } { // Player Minimum\r\n            if (pmInput) { // If player minimum input exists\r\n               if (!minimum && minimum !== 0) { // If player minimum input is left empty\r\n                  minimum = parseFloat(pmInput.placeholder); // Set player minimum to default rendered as placeholder\r\n               } else if (minimum < parseFloat(pmInput.min)) {\r\n                  ok = false;\r\n                  issues.push({ ['player minimum']: 'Player minimum must be at least ' + parseFloat(pmInput.min) });\r\n                  // alert('Player minimum must be at least ' + parseFloat(pmInput.min));\r\n               } else if (minimum % 1 !== 0) {\r\n                  ok = false;\r\n                  issues.push({ ['player minimum']: 'Player minimum must be a whole number' });\r\n                  // alert('Player minimum must be a whole number');\r\n               }\r\n            }\r\n         } { // Leaderboard Length\r\n            if (boardLengthInput) { // If leaderboard length input exists\r\n               if (!show && show !== 0) { // If input is left blank\r\n                  show = parseFloat(boardLengthInput.placeholder);\r\n               } else if (show < parseFloat(boardLengthInput.min)) {\r\n                  ok = false;\r\n                  issues.push({ ['leaderboard length']: 'Leaderboard length must be at least ' + parseFloat(boardLengthInput.min) });\r\n                  // alert('Leaderboard length must be at least ' + parseFloat(boardLengthInput.min));\r\n               } else if (show > parseFloat(boardLengthInput.max)) {\r\n                  ok = false;\r\n                  issues.push({ ['leaderboard length']: 'Leaderboard length can be at most ' + parseFloat(boardLengthInput.max) });\r\n                  // alert('Leaderboard length can be at most ' + parseFloat(boardLengthInput.max));\r\n               } else if (show % 1 !== 0) {\r\n                  ok = false;\r\n                  issues.push({ ['leaderboard length']: 'Leaderboard length must be a whole number' });\r\n                  // alert('Leaderboard length must be a whole number');\r\n               }\r\n            }\r\n         } { // Team Count\r\n            if (tcInput) { // If team count input exists\r\n               if (!teamCount && teamCount !== 0) { // If team count input is left empty\r\n                  teamCount = parseFloat(tcInput.placeholder); // Set team count to default rendered as placeholder\r\n               } else if (teamCount < parseFloat(tcInput.min)) {\r\n                  ok = false;\r\n                  issues.push({ ['team count']: 'Team count must be at least ' + parseFloat(tcInput.min) });\r\n                  // alert('Team count must be at least ' + parseFloat(tcInput.min));\r\n               } else if (teamCount > parseFloat(tcInput.max)) {\r\n                  ok = false;\r\n                  issues.push({ ['team count']: 'Team count can be at most ' + parseFloat(tcInput.max) });\r\n                  // alert('Team count can be at most ' + parseFloat(tcInput.max));\r\n               } else if (teamCount % 1 !== 0) {\r\n                  ok = false;\r\n                  issues.push({ ['team count']: 'Team count must be a whole number' });\r\n                  // alert('Team count must be a whole number');\r\n               } else if (teamCount > parseFloat(pcInput.value)) {\r\n                  ok = false;\r\n                  issues.push({ ['team count']: 'Player cap cannot be less than the number of teams' });\r\n                  // alert('Player cap cannot be less than the number of teams');\r\n               }\r\n            }\r\n         }\r\n         if (ok) {\r\n            let color = 'black'; // $('World color input').value.toLowerCase(); // Only black world is enabled\r\n            createGame({\r\n               title: gametitle,\r\n               password: password,\r\n               type: type,\r\n               width: width,\r\n               height: height,\r\n               color: color,\r\n               cap: cap,\r\n               show: show,\r\n               mode: mode,\r\n               teamCount: teamCount,\r\n               min: minimum\r\n            });\r\n            renderMenu('join', game); // Pass in game data for certain menu information\r\n         } else {\r\n            this.issue(issues);\r\n         }\r\n         break;\r\n      case 'join':\r\n         { // Screen Name\r\n            if (!name) { // If screen name input is left empty\r\n               ok = false;\r\n               issues.push({ ['screen name']: 'Screen name cannot be left empty' });\r\n               // alert('Screen name cannot be left empty');\r\n            }\r\n            for (let i = 0; i < game.info.count; i++) { // Requires game to be updated (in renderMenu(datA))\r\n               if (name == game.board.list[i].name) { // Name cannot match another player's name\r\n                  ok = false;\r\n                  issues.push({ ['screen name']: 'Name matches that of another player' });\r\n                  // alert('Name matches that of another player');\r\n                  break;\r\n               }\r\n            }\r\n         }\r\n         // Skins\r\n         if (skins.indexOf(capitalize(skin)) === -1 && skin !== 'none') { // If the skin value is not 'none' or any other possible skin (should never occur)\r\n            ok = false;\r\n            issues.push({ skin: 'There is an issue with the skin selection' });\r\n         }\r\n         { // Abilities\r\n            if (game.info.mode === 'ffa' || game.info.mode === 'skm' || game.info.mode === 'srv' || game.info.mode === 'ctf' || game.info.mode === 'kth') { // FFA, SKM, SRV, CTF, and KTH all use standard ability set\r\n               if (!first) {\r\n                  ok = false;\r\n                  issues.push({ ['1st ability']: 'Select a first ability' });\r\n               } else if (first !== 'extend' && first !== 'compress') {\r\n                  ok = false;\r\n                  issues.push({ ['1st ability']: 'There is an issue with the first ability selection' });\r\n               }\r\n               if (!second) {\r\n                  ok = false;\r\n                  issues.push({ ['2nd ability']: 'Select a second ability' });\r\n               } else if (second !== 'immortality' && second !== 'freeze') {\r\n                  ok = false;\r\n                  issues.push({ ['2nd ability']: 'There is an issue with the second ability selection' });\r\n               }\r\n               if (!third) {\r\n                  ok = false;\r\n                  issues.push({ ['3rd ability']: 'Select a third ability' });\r\n               } else if (third !== 'neutralize' && third !== 'toxin') {\r\n                  ok = false;\r\n                  issues.push({ ['3rd ability']: 'There is an issue with the third ability selection' });\r\n               }\r\n            }\r\n         } { // Team\r\n            if (game.info.mode == 'skm' || game.info.mode == 'ctf') { // If is a team game\r\n               if (!auto) {\r\n                  for (let i = 0; i < game.teams.length; i++) {\r\n                     if (i === teamColors.indexOf(team)) { // If i is selected team\r\n                        continue;\r\n                     }\r\n                     if (game.teams[teamColors.indexOf(team)].length > game.teams[i].length) { // If there are more players on selected team than another\r\n                        if (org && typeof team === 'string' && org.team === team) { // If player is already on selected team\r\n                           break; // Allow spawn\r\n                        }\r\n                        ok = false;\r\n                        issues.push({ ['auto assign']: 'Cannot join ' + team + ' team because it already has more players than ' + teamColors[i] });\r\n                        // alert('Cannot join ' + team + ' team because it already has more players than ' + teamColors[i]);\r\n                        break;\r\n                     }\r\n                  }\r\n                  if (org && org.team !== team && game.teams[teamColors.indexOf(org.team)].length === game.teams[teamColors.indexOf(team)].length) {\r\n                     ok = false;\r\n                     issues.push({ ['auto assign']: 'Cannot join ' + team + ' team because it will have more players than ' + org.team });\r\n                     // alert('Cannot join ' + team + ' team because it will have more players than ' + org.team);\r\n                  }\r\n               }\r\n            }\r\n         } { // Player Cap\r\n            if (game.players.length >= game.info.cap) {\r\n               ok = false;\r\n               issues.push({ ['player cap']: 'Game is at maximum player capacity' });\r\n               // alert('Game is at maximum player capacity');\r\n            }\r\n         } { // Game Closed\r\n            let closed = true;\r\n            for (let i = 0; i < games.length; i++) {\r\n               if (games[i].info.host == game.info.host) {\r\n                  closed = false;\r\n                  break;\r\n               }\r\n            }\r\n            if (closed) {\r\n               ok = false;\r\n               // issues.push({ ['']: 'The game has closed' }); // Empty quotes for game closed instance because it is not specific to a single input\r\n               alert('The game has closed');\r\n               renderTitle();\r\n            }\r\n         } { // Password\r\n            socket.emit('Check Permission', { title: game.info.title, type: 'join' });\r\n            socket.on('Permission Denied', deniedJoin.bind(this)); // Call bound function so this.issues() can be called from within\r\n            socket.on('Permission Granted', grantedJoin.bind(this));\r\n\r\n            function deniedJoin() {\r\n               ok = false;\r\n               if (password == '' || typeof password != 'string') {\r\n                  ok = false;\r\n                  issues.push({ ['password']: 'A password is required for this game' });\r\n                  // alert('A password is required for this game');\r\n               } else {\r\n                  ok = false;\r\n                  issues.push({ ['password']: 'Password is invalid' });\r\n                  // alert('Password is invalid');\r\n               }\r\n               socket.removeListener('Permission Denied', deniedJoin.bind(this));\r\n            }\r\n\r\n            function grantedJoin() { // Function is defined locally so it cannot be called from the global scope (slightly better security)\r\n               if (ok) { // Inside 'Permission Granted' so can only be triggered once 'Permission Granted' has been received\r\n                  // Leaderboard\r\n                  let already = false;\r\n                  for (let i = 0; i < game.board.list.length; i++) {\r\n                     if (game.board.list[i].player == socket.id) {\r\n                        already = true;\r\n                        break;\r\n                     }\r\n                  }\r\n                  if (!already) {\r\n                     game.board.list.push({\r\n                        player: socket.id,\r\n                        name: name,\r\n                        kills: 0,\r\n                        deaths: 0,\r\n                        score: 0,\r\n                        wins: 0\r\n                     });\r\n                  }\r\n                  orderBoard(game.board.list);\r\n                  socket.emit('Board', game.board); // Must be before spawn because only runs when first entering server, and spawn() runs on respawn as well\r\n                  // Abilities\r\n                  if (game.info.mode === 'ffa' || game.info.mode === 'skm' || game.info.mode === 'srv' || game.info.mode === 'ctf' || game.info.mode === 'kth') { // FFA, SKM, SRV, CTF, and KTH all use standard ability set\r\n                     ability.tag.activated = false;\r\n                     ability.tag.can = false;\r\n                     if (first === 'extend') {\r\n                        ability.extend.activated = true;\r\n                        ability.extend.can = true;\r\n                        ability.compress.activated = false;\r\n                        ability.compress.can = false;\r\n                     } else if (first === 'compress') {\r\n                        ability.compress.activated = true;\r\n                        ability.compress.can = true;\r\n                        ability.extend.activated = false;\r\n                        ability.extend.can = false;\r\n                     }\r\n                     if (second === 'immortality') {\r\n                        ability.immortality.activated = true;\r\n                        ability.immortality.can = true;\r\n                        ability.freeze.activated = false;\r\n                        ability.freeze.can = false;\r\n                     } else if (second === 'freeze') {\r\n                        ability.freeze.activated = true;\r\n                        ability.freeze.can = true;\r\n                        ability.immortality.activated = false;\r\n                        ability.immortality.can = false;\r\n                     }\r\n                     if (third === 'neutralize') {\r\n                        ability.neutralize.activated = true;\r\n                        ability.neutralize.can = true;\r\n                        ability.toxin.activated = false;\r\n                        ability.toxin.can = false;\r\n                     } else if (third === 'toxin') {\r\n                        ability.toxin.activated = true;\r\n                        ability.toxin.can = true;\r\n                        ability.neutralize.activated = false;\r\n                        ability.neutralize.can = false;\r\n                     }\r\n                     ability.spore.activated = true;\r\n                     ability.spore.can = true;\r\n                     ability.secrete.activated = true;\r\n                     ability.secrete.can = false;\r\n                     for (let i = 0; i < ability.shoot.value.length; i++) {\r\n                        ability.shoot.can[i] = true;\r\n                        ability.shoot.value[i] = false;\r\n                     }\r\n                  } else if (game.info.mode === 'inf') {\r\n                     ability.tag.activated = true;\r\n                     ability.tag.can = true;\r\n                     ability.extend.activated = false;\r\n                     ability.extend.can = false;\r\n                     ability.compress.activated = false;\r\n                     ability.compress.can = false;\r\n                     ability.immortality.activated = false;\r\n                     ability.immortality.can = false;\r\n                     ability.freeze.activated = false;\r\n                     ability.freeze.can = false;\r\n                     ability.neutralize.activated = false;\r\n                     ability.neutralize.can = false;\r\n                     ability.toxin.activated = false;\r\n                     ability.toxin.can = false;\r\n                     ability.spore.activated = false;\r\n                     ability.spore.can = false;\r\n                     ability.secrete.activated = false;\r\n                     ability.secrete.can = false;\r\n                     for (let i = 0; i < ability.shoot.value.length; i++) {\r\n                        if (i == ability.tag.i) {\r\n                           ability.shoot.can[i] = true;\r\n                        } else {\r\n                           ability.shoot.can[i] = false;\r\n                        }\r\n                        ability.shoot.value[i] = false;\r\n                     }\r\n                  }\r\n                  // Team\r\n                  if (game.info.mode == 'skm' || game.info.mode == 'ctf') { // If is a team game\r\n                     ability.auto = auto; // auto variable is Boolean\r\n                     if (auto) { // If auto assign is selected\r\n                        let indices = [];\r\n                        let minimum = Infinity;\r\n                        for (let i = 0; i < game.teams.length; i++) { // Find team(s) with the fewest players and store their indices within game.teams array into indices array\r\n                           if (game.teams[i].length < minimum) { // If length is less than minimum\r\n                              minimum = game.teams[i].length; // Set length as new minimum\r\n                              indices = [i]; // Clear indices and push i\r\n                           } else if (game.teams[i].length == minimum) {\r\n                              indices.push(i);\r\n                           }\r\n                        }\r\n                        team = teamColors[indices[floor(random(0, indices.length))]]; // Set team to the team with the fewest players; If there are multiple, choose one at random\r\n                     }\r\n                     for (let i = 0; i < teamColors.length; i++) {\r\n                        if (team === teamColors[i]) {\r\n                           game.teams[i].push(socket.id); // Add player to selected team\r\n                           socket.emit('Teams', { teams: game.teams, host: game.info.host }); // Update server teams; host is for identification\r\n                           break;\r\n                        }\r\n                     }\r\n                  }\r\n                  // Color\r\n                  var color;\r\n                  if (game.info.mode === 'inf') { // If inf mode\r\n                     color = teamColorDef.green; // All players healthy by default\r\n                  } else if (game.info.mode !== 'skm' && game.info.mode !== 'ctf') { // If is not a team game\r\n                     color = $('color input').value.toLowerCase();\r\n                  } else {\r\n                     color = teamColorDef[team]; // Color must be after Team\r\n                  }\r\n                  // Initialize\r\n                  clearInterval(title.interval);\r\n                  if (game.rounds.util) {\r\n                     if (game.rounds.waiting) {\r\n                        initialize(game, { spectate: false, color: orgColors[game.world.color][color], skin: skin, team: team });\r\n                     } else {\r\n                        initialize(game, { spectate: true, color: orgColors[game.world.color][color], skin: skin, team: team });\r\n                     }\r\n                  } else {\r\n                     initialize(game, { spectate: false, color: orgColors[game.world.color][color], skin: skin, team: team });\r\n                  }\r\n               } else {\r\n                  this.issue(issues);\r\n               }\r\n            }\r\n            socket.removeListener('Permission Granted', grantedJoin.bind(this));\r\n         }\r\n         break;\r\n      case 'spectate':\r\n         { // Game Closed\r\n            let closed = true;\r\n            for (let i = 0; i < games.length; i++) {\r\n               if (games[i].info.host === game.info.host) {\r\n                  closed = false;\r\n                  break;\r\n               }\r\n            }\r\n            if (closed) {\r\n               ok = false;\r\n               // issues.push({ ['']: 'The game has closed' });\r\n               alert('The game has closed');\r\n               renderTitle();\r\n            }\r\n         } { // Screen Name\r\n            if (!name) {\r\n               ok = false;\r\n               issues.push({ ['screen name']: 'Screen name cannot be left empty' });\r\n               // alert('Screen name cannot be left empty');\r\n            }\r\n            for (let i = 0; i < game.info.count; i++) { // Requires game to be updated (in renderMenu(datA))\r\n               if (name === game.board.list[i].name) { // Name cannot match another player's name\r\n                  ok = false;\r\n                  issues.push({ ['screen name']: 'Name matches that of another player' });\r\n                  // alert('Name matches that of another player');\r\n                  break;\r\n               }\r\n            }\r\n         } { // Password\r\n            socket.emit('Check Permission', { title: game.info.title, type: 'spectate' });\r\n            socket.on('Permission Denied', deniedSpectate.bind(this));\r\n            socket.on('Permission Granted', grantedSpectate.bind(this));\r\n\r\n            function deniedSpectate() {\r\n               ok = false;\r\n               if (!password) {\r\n                  ok = false;\r\n                  issues.push('A password is required for this game');\r\n                  // alert('A password is required for this game');\r\n               } else {\r\n                  ok = false;\r\n                  issues.push('Password is invalid');\r\n                  // alert('Password is invalid');\r\n               }\r\n               socket.removeListener('Permission Denied', deniedSpectate.bind(this));\r\n               this.issue(issues);\r\n            }\r\n\r\n            function grantedSpectate() {\r\n               if (ok) { // Inside 'Permission Granted' so can only be triggered once 'Permission Granted' has been received\r\n                  // Leaderboard\r\n                  let already = false;\r\n                  for (let i = 0; i < game.board.list.length; i++) {\r\n                     if (game.board.list[i].player === socket.id) {\r\n                        already = true;\r\n                        break;\r\n                     }\r\n                  }\r\n                  if (!already) {\r\n                     game.board.list.push({ // Add player to leaderboard\r\n                        player: socket.id,\r\n                        name: name,\r\n                        kills: 0,\r\n                        deaths: 0,\r\n                        score: 0,\r\n                        wins: 0\r\n                     });\r\n                  }\r\n                  orderBoard(game.board.list);\r\n                  socket.emit('Board', game.board); // Must be before spawn because only runs when first entering server, and spawn() runs on respawn as well\r\n                  // Initialize\r\n                  clearInterval(title.interval);\r\n                  initialize(game, { spectate: true, color: undefined, skin: undefined });\r\n               } else {\r\n                  this.issue(issues);\r\n               }\r\n               socket.removeListener('Permission Granted', grantedSpectate.bind(this));\r\n            }\r\n         }\r\n         break;\r\n      case 'respawn':\r\n         if (skins.indexOf(capitalize(skin)) === -1 && skin !== 'none') // Skins\r\n            ok = false;\r\n            issues.push({ skin: 'There is an issue with the skin selection' });\r\n         { // Abilities\r\n            if (game.info.mode === 'ffa' || game.info.mode === 'skm' || game.info.mode === 'srv' || game.info.mode === 'ctf' || game.info.mode === 'kth') { // FFA, SKM, SRV, CTF, and KTH all use standard ability set\r\n               if (!first) {\r\n                  ok = false;\r\n                  issues.push({ ['1st ability']: 'Select a first ability' });\r\n               } else if (first !== 'extend' && first !== 'compress') {\r\n                  ok = false;\r\n                  issues.push({ ['1st ability']: 'There is an issue with the first ability selection' });\r\n               }\r\n               if (!second) {\r\n                  ok = false;\r\n                  issues.push({ ['2nd ability']: 'Select a second ability' });\r\n               } else if (second !== 'immortality' && second !== 'freeze') {\r\n                  ok = false;\r\n                  issues.push({ ['2nd ability']: 'There is an issue with the second ability selection' });\r\n               }\r\n               if (!third) {\r\n                  ok = false;\r\n                  issues.push({ ['3rd ability']: 'Select a third ability' });\r\n               } else if (third !== 'neutralize' && third !== 'toxin') {\r\n                  ok = false;\r\n                  issues.push({ ['3rd ability']: 'There is an issue with the third ability selection' });\r\n               }\r\n            }\r\n         } { // Team\r\n            if (game.info.mode === 'skm' || game.info.mode === 'ctf') { // If is a team game\r\n               ability.auto = auto; // auto variable is Boolean\r\n               if (!auto) { // If auto assign is not selected\r\n                  for (let i = 0; i < game.teams.length; i++) {\r\n                     if (i === teamColors.indexOf(team)) {\r\n                        continue;\r\n                     }\r\n                     if (game.teams[teamColors.indexOf(team)].length > game.teams[i].length) { // If chosen team has greater players than another team\r\n                        if (org && org.team === team && typeof team === 'string') { // If player is already on loaded team\r\n                           break; // Allow respawn\r\n                        } else {\r\n                           ok = false; // Disallow respawn\r\n                           issues.push({ ['team input']: 'Cannot join ' + team + ' team because it already has more players than ' + teamColors[i] });\r\n                           // alert('Cannot join ' + team + ' team because it already has more players than ' + teamColors[i]);\r\n                           break;\r\n                        }\r\n                     }\r\n                     if (org && org.team !== team && game.teams[teamColors.indexOf(org.team)].length === game.teams[teamColors.indexOf(team)].length) { // If chosen team has equal players as current team (and is not current team)\r\n                        ok = false; // Disallow respawn\r\n                        issues.push({ ['team input']: 'Cannot join ' + team + ' team because it will have more players than ' + org.team });\r\n                        // alert('Cannot join ' + team + ' team because it will have more players than ' + org.team);\r\n                     }\r\n                  }\r\n               } else { // If auto assign is selected\r\n                  let indices = [];\r\n                  let minimum = Infinity;\r\n                  for (let i = 0; i < game.teams.length; i++) { // Find team(s) with the fewest players and store their indices within game.teams array into indices array\r\n                     let l = game.teams[i].length;\r\n                     if (game.teams[i].indexOf(socket.id) != -1) { // If player is on given team\r\n                        l--; // Do not include player as part of the team, so if even numbers before, will replace back on the same team and not add extra to other team\r\n                     }\r\n                     if (l < minimum) { // If length is less than minimum\r\n                        minimum = l; // Set length as new minimum\r\n                        indices = [i]; // Clear indices and push i\r\n                     } else if (l == minimum) {\r\n                        indices.push(i);\r\n                     }\r\n                  }\r\n                  team = teamColors[indices[floor(random(0, indices.length))]]; // Set team to the team with the fewest players; If there are multiple, choose one at random\r\n               }\r\n            }\r\n         } { // Game Closed\r\n            let closed = true;\r\n            for (let i = 0; i < games.length; i++) {\r\n               if (games[i].info.host == game.info.host) {\r\n                  closed = false;\r\n                  break;\r\n               }\r\n            }\r\n            if (closed == true) {\r\n               ok = false;\r\n               // issues.push({ ['']: 'The game has closed' });\r\n               alert('The game has closed');\r\n               renderTitle();\r\n            }\r\n         }\r\n         if (ok) {\r\n            socket.emit('Spectator Spawned', game);\r\n            // Abilities\r\n            if (game.info.mode === 'ffa' || game.info.mode === 'skm' || game.info.mode === 'srv' || game.info.mode === 'ctf' || game.info.mode === 'kth') { // FFA, SKM, SRV, CTF, and KTH all use standard ability set\r\n               if (first === 'extend') {\r\n                  ability.extend.activated = true;\r\n                  ability.extend.can = true;\r\n                  ability.compress.activated = false;\r\n                  ability.compress.can = false;\r\n               } else if (first === 'compress') {\r\n                  ability.compress.activated = true;\r\n                  ability.compress.can = true;\r\n                  ability.extend.activated = false;\r\n                  ability.extend.can = false;\r\n               }\r\n               if (second === 'immortality') {\r\n                  ability.immortality.activated = true;\r\n                  ability.immortality.can = true;\r\n                  ability.freeze.activated = false;\r\n                  ability.freeze.can = false;\r\n               } else if (second === 'freeze') {\r\n                  ability.freeze.activated = true;\r\n                  ability.freeze.can = true;\r\n                  ability.immortality.activated = false;\r\n                  ability.immortality.can = false;\r\n               }\r\n               if (third === 'neutralize') {\r\n                  ability.neutralize.activated = true;\r\n                  ability.neutralize.can = true;\r\n                  ability.toxin.activated = false;\r\n                  ability.toxin.can = false;\r\n               } else if (third === 'toxin') {\r\n                  ability.toxin.activated = true;\r\n                  ability.toxin.can = true;\r\n                  ability.neutralize.activated = false;\r\n                  ability.neutralize.can = false;\r\n               }\r\n               ability.spore.activated = true;\r\n               ability.spore.can = true;\r\n               ability.secrete.activated = true;\r\n               ability.secrete.can = false;\r\n            } else if (game.info.mode === 'inf') {\r\n               ability.extend.activated = false;\r\n               ability.extend.can = false;\r\n               ability.compress.activated = false;\r\n               ability.compress.can = false;\r\n               ability.immortality.activated = false;\r\n               ability.immortality.can = false;\r\n               ability.freeze.activated = false;\r\n               ability.freeze.can = false;\r\n               ability.neutralize.activated = false;\r\n               ability.neutralize.can = false;\r\n               ability.toxin.activated = false;\r\n               ability.toxin.can = false;\r\n               ability.spore.activated = false;\r\n               ability.spore.can = false;\r\n               ability.secrete.activated = false;\r\n               ability.secrete.can = false;\r\n            }\r\n            // Team\r\n            if (game.info.mode === 'skm' || game.info.mode === 'ctf') { // If is a team game\r\n               if (org.team != team) { // Only add player to team if not already on team\r\n                  game.teams[teamColors.indexOf(team)].push(socket.id); // Add player to selected team\r\n                  game.teams[teamColors.indexOf(org.team)].splice(game.teams[teamColors.indexOf(org.team)].indexOf(socket.id), 1);\r\n                  socket.emit('Teams', { teams: game.teams, host: game.info.host }); // Host is for identification\r\n               }\r\n            }\r\n            // Color\r\n            if (game.info.mode === 'inf') { // If inf mode\r\n               color = teamColorDef.green; // All players healthy by default\r\n            } else if (game.info.mode != 'skm' && game.info.mode != 'ctf') { // If is not a team mode \r\n               color = $('color input').value.toLowerCase();\r\n            } else {\r\n               color = teamColorDef[team]; // Color must be after Team\r\n            }\r\n            // Initialize\r\n            initialize(game, { spectate: false, color: orgColors[game.world.color][color], skin: skin, team: team });\r\n         } else {\r\n            this.issue(issues);\r\n         }\r\n         break;\r\n      case 'pauseGame':\r\n         if (skins.indexOf(capitalize(skin)) === -1 || skin === 'none') // Skins\r\n            issues.push({ skin: 'There is an issue with the skin selection' });\r\n         { // Game Closed\r\n            let closed = true;\r\n            for (let i = 0; i < games.length; i++) {\r\n               if (games[i].info.host === game.info.host) {\r\n                  closed = false;\r\n                  break;\r\n               }\r\n            }\r\n            if (closed) {\r\n               ok = false;\r\n               // issues.push({ ['']: 'The game has closed' });\r\n               alert('The game has closed');\r\n               renderTitle();\r\n            }\r\n         }\r\n         if (ok) {\r\n            if (game.info.mode !== 'skm' && game.info.mode !== 'ctf') { // If is not a team mode\r\n               org.color = orgColors[game.world.color][color]; // Set org color\r\n            } // Cannot change team in pause menu\r\n            org.skin = skin; // Set org skin\r\n            Labels = label; // Set labels setting (Boolean)\r\n            Messages = message; // Set messages setting (Boolean)\r\n            let skip = false;\r\n            for (let i = 0; i < game.players.length; i++) {\r\n               if (game.players[i] === socket.id) { // If still is a player\r\n                  state = 'game';\r\n                  skip = true;\r\n                  break;\r\n               }\r\n            }\r\n            if (!skip) {\r\n               for (let i = 0; i < game.spectators.length; i++) {\r\n                  if (game.spectators[i] === socket.id) {\r\n                     state = 'spectate'; // Must include spectate possibility in pause game; even though a spectator could never open pause game menu, he could be killed while in menu\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            ReactDOM.render(<CanvasCont />, $('cont'));\r\n         } else {\r\n            this.issue(issues);\r\n         }\r\n         break;\r\n      case 'pauseSpectate':\r\n         { // Game Closed\r\n            let closed = true;\r\n            for (let i = 0; i < games.length; i++) {\r\n               if (games[i].info.host === game.info.host) {\r\n                  closed = false;\r\n                  break;\r\n               }\r\n            }\r\n            if (closed) {\r\n               ok = false;\r\n               // issues.push({ ['']: 'The game has closed' });\r\n               alert('The game has closed');\r\n               renderTitle();\r\n            }\r\n         }\r\n         if (ok) {\r\n            Labels = label; // Set name labels setting (Boolean)\r\n            Messages = message; // Set messages setting (Boolean)\r\n            state = 'spectate';\r\n            ReactDOM.render(<CanvasCont />, $('cont'));\r\n         } else {\r\n            this.issue(issues);\r\n         }\r\n         break;\r\n      case 'pauseTutorial':\r\n         if (ok) {\r\n            state = 'tutorial';\r\n            ReactDOM.render(<CanvasCont />, $('cont'));\r\n         } else {\r\n            this.issue(issues);\r\n         }\r\n         break;\r\n   }\r\n}","var getMessage = function() {\r\n   let message;\r\n   if (state == 'game' || state == 'spectate') {\r\n      if (org.alive == true) {\r\n         if (game.rounds.util == true) {\r\n            if (game.rounds.waiting == true && game.rounds.delayed == false) {\r\n               if (game.rounds.min - game.info.count == 1) {\r\n                  message = 'Waiting for ' + (game.rounds.min - game.info.count) + ' more player to join';\r\n               } else {\r\n                  message = 'Waiting for ' + (game.rounds.min - game.info.count) + ' more players to join';\r\n               }\r\n            } else if (game.rounds.waiting == true && game.rounds.delayed == true) { // Delay at round start\r\n               message = 'Round begins in: ' + (1 + floor((game.rounds.delaytime - (new Date() - game.rounds.delaystart)) / 1000)); // Add 1 to make ceiling function\r\n            } else if (game.rounds.waiting == false && game.rounds.delayed == true) { // Delay at round end\r\n               message = 'Round ends in: ' + (1 + floor((game.rounds.delaytime - (new Date() - game.rounds.delaystart)) / 1000)); // Add 1 to make ceiling function\r\n            }\r\n         }\r\n      } else if (org.alive == false) {\r\n         if (game.rounds.util == true) {\r\n            if (game.rounds.waiting == true && game.rounds.delayed == false) { // Waiting for more players to join, not counting down yet\r\n               if (game.rounds.min - game.info.count == 1) {\r\n                  message = 'Waiting for ' + (game.rounds.min - game.info.count) + ' more player to join';\r\n               } else {\r\n                  message = 'Waiting for ' + (game.rounds.min - game.info.count) + ' more players to join';\r\n               }\r\n            } else if (game.rounds.waiting == true && game.rounds.delayed == true) { // Enough players have joined, counting down\r\n               message = 'Round begins in: ' + (1 + floor((game.rounds.delaytime - (new Date() - game.rounds.delaystart)) / 1000)); // Add 1 to make ceiling function\r\n            } else if (game.rounds.waiting == false && game.rounds.delayed == false) { // Round in progress\r\n               message = 'Wait for the round to complete';\r\n            } else if (game.rounds.waiting == false && game.rounds.delayed == true) {\r\n               message = 'Round ends in: ' + (1 + floor((game.rounds.delaytime - (new Date() - game.rounds.delaystart)) / 1000)); // Add 1 to make ceiling function\r\n            }\r\n         } else {\r\n            message = 'Press \\'' + Controls.respawn.key + '\\' to Spawn';\r\n         }\r\n      }\r\n   } else if (state == 'tutorial') {\r\n      switch (tutorial.task) {\r\n         case 'move':\r\n            message = 'Use W-A-S-D (Recommended) or the arrow keys to move';\r\n            break;\r\n         case 'fullscreen':\r\n            message = 'Press F11 to enter fullscreen mode (Recommended)';\r\n            break;\r\n         case 'survive':\r\n            message = 'If the crosshair is too far from the organism, it will die';\r\n            break;\r\n         case 'extend':\r\n            message = 'Use the EXTEND ability to increase the organism\\'s size';\r\n            break;\r\n         case 'immortality':\r\n            message = 'The IMMORTALITY ability will stop the natural atrophe of cells';\r\n            break;\r\n         case 'neutralize':\r\n            message = 'NEUTRALIZE will create a bubble of safety from enemy attacks';\r\n            break;\r\n         case 'shoot':\r\n            message = 'To COMPRESS or FREEZE an enemy, press the ability key to launch a spore in the direction of the cursor\\nThen press it again to activate the ability';\r\n            break;\r\n         case 'compress':\r\n            message = 'On hit, COMPRESS shrinks the size of the targeted enemy\\nCOMPRESS the bot to progress';\r\n            break;\r\n         case 'freeze':\r\n            message = 'On hit, FREEZE halts all natural processes within the enemy organism\\nFREEZE the bot to progress';\r\n            break;\r\n         case 'toxin':\r\n            message = 'TOXIN creates a localized bubble in which only you can survive';\r\n            break;\r\n         case 'spore':\r\n            if (tutorial.stopped == true) {\r\n               message = 'Reactivate the ability to cause all spores to secrete an acid, killing enemy cells';\r\n            } else {\r\n               message = 'Use SPORE to jettison outer cells in all directions (Space Bar)';\r\n            }\r\n            break;\r\n         case 'secrete':\r\n            message = 'Reactivate the ability to cause all spores to secrete an acid, killing enemy cells';\r\n            break;\r\n         case 'done':\r\n            message = 'Now that you\\'re ready, press ESC to return to the menu';\r\n            break;\r\n      }\r\n   }\r\n   return message;\r\n};\r\n\r\nfunction renderMessages() {\r\n   if (Messages == true) {\r\n      let message = getMessage();\r\n      if (message != undefined) {\r\n         let src = getSrc();\r\n         fill(src.world.background.r, src.world.background.g, src.world.background.b); // Message shadows are rendered in renderWorld()\r\n         stroke(src.world.border.color.r, src.world.border.color.g, src.world.border.color.b);\r\n         strokeWeight(1);\r\n         textFont('Helvetica');\r\n         textSize(14);\r\n         if (src.world.color == 'black') {\r\n            textStyle(NORMAL);\r\n         } else if (src.world.color == 'white') {\r\n            textStyle(BOLD);\r\n         }\r\n         let breaks = freq(message, '\\n');\r\n         let width = messageWidth(message);\r\n         rect(25 + width / 2, 25 + 9 * breaks, 25 + width, 26 + 18 * breaks);\r\n         fill(src.world.border.color.r, src.world.border.color.g, src.world.border.color.b); // Same color as border to maintain contrast with background\r\n         noStroke();\r\n         text(message, 25, 30);\r\n      }\r\n   }\r\n}\r\n\r\nvar messageWidth = function(messagE) {\r\n   let message = messagE;\r\n   let lines = message.split('\\n');\r\n   let count = lines.length;\r\n   let lengths = [];\r\n   for (let i = 0; i < count; i++) {\r\n      lengths.push(lines[i].length);\r\n   }\r\n   return textWidth(lines[lengths.indexOf(max(lengths))]);\r\n};","var org;\r\nvar Org = function(datA) { // datA: { player: , color: , skin: , team: , spectate: , pos: , title: } (color and skin are required)\r\n   this.player = datA.player;\r\n   this.color = datA.color;\r\n   this.skin = datA.skin;\r\n   this.team = datA.team;\r\n   let src = getSrc();\r\n   if (src != undefined && src.src == 'game') {\r\n      if (game.rounds.util == true) {\r\n         this.ready = false; // org.ready ensures that org will only be forcibly respawned once\r\n      }\r\n      if (game.info.mode == 'srv' && game.rounds.waiting == false) {\r\n         this.spawn = false;\r\n      } else {\r\n         this.spawn = true; // Allowance to spawn\r\n      }\r\n      for (let i = 0; i < game.board.list.length; i++) {\r\n         if (game.board.list[i].player == this.player) { // Find player name in leaderboard list\r\n            this.name = game.board.list[i].name;\r\n         }\r\n      }\r\n   }\r\n   if (datA.spectate == true) {\r\n      this.speed = _spectatespeed; // Faster movement when spectating\r\n   } else {\r\n      this.speed = _movespeed; // Speed of position movement\r\n   }\r\n   this.cells = [];\r\n   this.count = 0;\r\n   this.x = function() { // The average of all cell x values \r\n      let sum = 0;\r\n      for (var i = 0; i < this.count; i++) {\r\n         sum += this.cells[i].x;\r\n      }\r\n      let average = sum / this.count;\r\n      return average;\r\n   };\r\n   this.y = function() { // The average of all cell y values\r\n      let sum = 0;\r\n      for (var i = 0; i < this.count; i++) {\r\n         sum += this.cells[i].y;\r\n      }\r\n      let average = sum / this.count;\r\n      return average;\r\n   };\r\n   if (datA.pos != undefined) {\r\n      this.pos = datA.pos;\r\n   } else {\r\n      do {\r\n         this.pos = { // Position is the target's location in the world\r\n            x: floor(random(game.world.x + 50 + _cellwidth / 2, game.world.x + game.world.width - 50 - _cellwidth / 2)), // +- 50 acts as buffer\r\n            y: floor(random(game.world.y + 50 + _cellwidth / 2, game.world.y + game.world.height - 50 - _cellwidth / 2))\r\n         };\r\n         var rePos = false;\r\n         if (game.world.type == 'rectangle') {\r\n            if (this.pos.x < game.world.x || this.pos.x > game.world.x + game.world.width || this.pos.y < game.world.y || this.pos.y > game.world.y + game.world.height) {\r\n               rePos = false;\r\n            }\r\n         } else if (game.world.type == 'ellipse') {\r\n            if (sq(this.pos.x - (game.world.x + game.world.width / 2)) / sq(game.world.width / 2) + sq(this.pos.y - (game.world.y + game.world.height / 2)) / sq(game.world.height / 2) >= 1) {\r\n               rePos = true;\r\n            }\r\n         }\r\n         for (let i = 0; i < game.info.count; i++) { // Org Overlap\r\n            for (let j = 0; j < game.orgs[i].count; j++) {\r\n               if (game.orgs[i].cells[j].x - game.orgs[i].cells[j].width <= this.pos.x && game.orgs[i].cells[j].x + game.orgs[i].cells[j].width >= this.pos.x && game.orgs[i].cells[j].y - game.orgs[i].cells[j].height <= this.pos.y && game.orgs[i].cells[j].y + game.orgs[i].cells[j].height >= this.pos.y) { // If position collides with enemy cell (Full width buffer is intended)\r\n                  rePos = true;\r\n                  break;\r\n               }\r\n            }\r\n            if (rePos == true) { break; }\r\n            let abilitY = game.abilities[i];\r\n            if (abilitY.secrete.value == true) { // Spore Secretions Overlap\r\n               for (let j = 0; j < abilitY.spore.count; j++) {\r\n                  let cell = abilitY.spore.spores[j];\r\n                  if (sqrt(sq(this.pos.x - cell.x) + sq(this.pos.y - cell.y)) <= abilitY.secrete.radius) {\r\n                     rePos = true;\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            for (let j = 0; j < 3; j++) { // Shoot Secretions Overlap\r\n               if (abilitY.shoot.secrete[j].value == true) {\r\n                  let cell = abilitY.shoot.spore[j];\r\n                  let sec = abilitY.shoot.secrete[j];\r\n                  if (sqrt(sq(this.pos.x - cell.x) + sq(this.pos.y - cell.y)) <= sec.radius) {\r\n                     rePos = true;\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            if (abilitY.toxin.value == true) { // Toxin Overlap\r\n               if (sqrt(sq(this.pos.x - abilitY.toxin.x) + sq(this.pos.y - abilitY.toxin.y)) <= abilitY.toxin.radius) {\r\n                  rePos = true;\r\n               }\r\n            }\r\n            if (rePos == true) { break; }\r\n         }\r\n      } while (rePos == true);\r\n   }\r\n   this.off = { // Offset is the difference between pos and center\r\n      x: this.pos.x - center.x,\r\n      y: this.pos.y - center.y\r\n   };\r\n   this.col = 10; // Collision radius (square) for crosshair\r\n   this.target = undefined; // ID of player which this org is currently targeting\r\n   this.clickbox = { // Targeting box for other orgs to click\r\n      width: undefined,\r\n      height: undefined,\r\n      x: undefined,\r\n      y: undefined,\r\n      left: this.pos.x,\r\n      right: this.pos.x,\r\n      top: this.pos.y,\r\n      bottom: this.pos.y,\r\n      buffer: _cellwidth / 2,\r\n      color: this.color\r\n   };\r\n   this.coefficient = -27.5;\r\n   this.range = 50;\r\n   this.alive = false;\r\n   this.hit = undefined;\r\n   this.count = this.cells.length;\r\n   this.intervals = []; // Store an array of intervals to be pushed to in case multiple intervals are created unintentionally, so they can be cleared\r\n   this.clearIntervals = () => {\r\n      for (let i = 0; i < this.intervals.length; i++) {\r\n         clearInterval(this.intervals[i]);\r\n      }\r\n      this.intervals = [];\r\n   };\r\n   this.tracker = {\r\n      start: undefined, \r\n      end: undefined, \r\n      elap: undefined\r\n   };\r\n};\r\n\r\nvar Cell = function(X, Y, orG) {\r\n   this.player = orG.player;\r\n   this.width = _cellwidth; // or 3x3\r\n   this.height = _cellwidth;\r\n   this.x = X;\r\n   this.y = Y;\r\n   this.color = orG.color;\r\n   this.r = function() { // Distance from org center\r\n      let distance = sqrt(sq(this.x - org.x()) + sq(this.y - org.y()));\r\n      return distance;\r\n   };\r\n   this.d = function(orG) { // Distance from target (Position in world)\r\n      let distance = sqrt(sq(this.x - orG.pos.x) + sq(this.y - orG.pos.y));\r\n      return distance;\r\n   };\r\n};\r\n\r\nfunction renderOrgs() {\r\n   let src = getSrc();\r\n   for (let i = 0; i < src.orgs.length; i++) {\r\n      for (let j = 0; j < src.orgs[i].count; j++) {\r\n         let cell = src.orgs[i].cells[j];\r\n         fill(src.orgs[i].color.r, src.orgs[i].color.g, src.orgs[i].color.b);\r\n         if (src.orgs[i].skin == 'grid') {\r\n            stroke(40, 40, 40); // Draw constant grid (natural grid is variable)\r\n            strokeWeight(.25);\r\n            rect(cell.x, cell.y, cell.width, cell.height);\r\n         } else if (src.orgs[i].skin == 'circles') {\r\n            noStroke();\r\n            ellipse(cell.x, cell.y, cell.width / 2, cell.height / 2);\r\n         } else if (src.orgs[i].skin == 'ghost') {\r\n            noFill();\r\n            stroke(src.orgs[i].color.r, src.orgs[i].color.g, src.orgs[i].color.b);\r\n            strokeWeight(1);\r\n            rect(cell.x, cell.y, cell.width, cell.height);\r\n         } else if (src.orgs[i].skin == 'none') {\r\n            stroke(src.orgs[i].color.r, src.orgs[i].color.g, src.orgs[i].color.b); // Stroke over natural grid\r\n            strokeWeight(1);\r\n            rect(cell.x, cell.y, cell.width, cell.height);\r\n         }\r\n      }\r\n   }\r\n}\r\n\r\nvar getRegionInfo = function(orG) {\r\n   var enclosed = [];\r\n   var exposed = [];\r\n   var adjacent = [];\r\n   for (let i = 0; i < orG.count; i++) {\r\n      let test = { x: undefined, y: undefined };\r\n      var left = false;\r\n      var top = false;\r\n      var right = false;\r\n      var bottom = false;\r\n      for (let j = 0; j < orG.count; j++) {\r\n         if (i != j) {\r\n            test = { // Left\r\n               x: orG.cells[i].x - orG.cells[i].width,\r\n               y: orG.cells[i].y\r\n            };\r\n            if (test.x == orG.cells[j].x && test.y == orG.cells[j].y) {\r\n               left = true; // There is a friendly cell to the left\r\n            }\r\n            test = { // Top\r\n               x: orG.cells[i].x,\r\n               y: orG.cells[i].y - orG.cells[i].height\r\n            };\r\n            if (test.x == orG.cells[j].x && test.y == orG.cells[j].y) {\r\n               top = true; // There is a friendly cell to the top\r\n            }\r\n            test = { // Right\r\n               x: orG.cells[i].x + orG.cells[i].width,\r\n               y: orG.cells[i].y\r\n            };\r\n            if (test.x == orG.cells[j].x && test.y == orG.cells[j].y) {\r\n               right = true; // There is a friendly cell to the right\r\n            }\r\n            test = { // Bottom\r\n               x: orG.cells[i].x,\r\n               y: orG.cells[i].y + orG.cells[i].height\r\n            };\r\n            if (test.x == orG.cells[j].x && test.y == orG.cells[j].y) {\r\n               bottom = true; // There is a friendly cell to the bottom\r\n            }\r\n         }\r\n      }\r\n      if (left == true && top == true && right == true && bottom == true) { // If cell is enclosed on all sides by friendly cells\r\n         enclosed.push(orG.cells[i]);\r\n      } else { // If cell is not enclosed on all sides by friendly cells\r\n         exposed.push(orG.cells[i]);\r\n      }\r\n      if (left == false) { // Push all empty regions adjacent to org\r\n         adjacent.push({ x: orG.cells[i].x - orG.cells[i].width, y: orG.cells[i].y });\r\n      }\r\n      if (top == false) {\r\n         adjacent.push({ x: orG.cells[i].x, y: orG.cells[i].y - orG.cells[i].height });\r\n      }\r\n      if (right == false) {\r\n         adjacent.push({ x: orG.cells[i].x + orG.cells[i].width, y: orG.cells[i].y });\r\n      }\r\n      if (bottom == false) {\r\n         adjacent.push({ x: orG.cells[i].x, y: orG.cells[i].y + orG.cells[i].height });\r\n      }\r\n   }\r\n   for (var j = 0; j < adjacent.length; j++) { // Splice out empty regions adjacent to multiple cells\r\n      for (var k = 0; k < adjacent.length; k++) {\r\n         if (j != k) { // If adjacent[j] and adjacent[k] are different regions\r\n            if (adjacent[k].x == adjacent[j].x && adjacent[k].y == adjacent[j].y) { // If region is repeated\r\n               adjacent.splice(k, 1);\r\n               k--;\r\n            }\r\n            if (j >= adjacent.length) {\r\n               continue;\r\n            }\r\n         }\r\n      }\r\n   }\r\n   return {\r\n      enclosed: enclosed,\r\n      exposed: exposed,\r\n      adjacent: adjacent\r\n   };\r\n};","function spawn(datA) { // datA: { color: {}, skin: '', team: '' }\r\n   state = 'game';\r\n   org = new Org({ player: socket.id, color: datA.color, skin: datA.skin, team: datA.team, spectate: false });\r\n   org.cells[0] = new Cell(org.pos.x, org.pos.y, org); // Create first cell in org\r\n   org.count++;\r\n   socket.emit('Player Joined', { info: game.info, org: org, ability: ability });\r\n}\r\n\r\nfunction spectate(datA) { // datA: { color: {}, pos: {}, skin: '', team: '' }\r\n   state = 'spectate';\r\n   socket.emit('Spectator Joined', game);\r\n   org = new Org( { player: socket.id, color: datA.color, skin: datA.skin, team: datA.team, pos: datA.pos, spectate: true } );\r\n}\r\n\r\nfunction renderUI() {\r\n   let src = getSrc();\r\n   // Crosshair\r\n   if (src.src != 'tutorial') {\r\n      noFill();\r\n      stroke(src.world.border.color.r, src.world.border.color.g, src.world.border.color.b);\r\n      strokeWeight(1);\r\n      line(org.pos.x - 4, org.pos.y, org.pos.x + 4, org.pos.y);\r\n      line(org.pos.x, org.pos.y - 4, org.pos.x, org.pos.y + 4);\r\n   }\r\n\r\n   // Targeting\r\n   if (org.target != undefined) { // If org is targenting a player\r\n      for (let i = 0; i < src.orgs.length; i++) {\r\n         if (src.orgs[i].player == org.target) { // Find targeted org\r\n            noFill();\r\n            stroke(src.orgs[i].clickbox.color.r, src.orgs[i].clickbox.color.g, src.orgs[i].clickbox.color.b);\r\n            strokeWeight(1);\r\n            rect(src.orgs[i].clickbox.x, src.orgs[i].clickbox.y, src.orgs[i].clickbox.width, src.orgs[i].clickbox.height, 2); // Draw Target Box\r\n         }\r\n      }\r\n   }\r\n\r\n   // Screen Name Labels\r\n   if (Labels == true && src.src == 'game') {\r\n      fill(game.world.border.color.r, game.world.border.color.g, game.world.border.color.b); // Same color as border to maintain contrast with background\r\n      noStroke();\r\n      textFont('Helvetica');\r\n      if (game.world.color == 'black') {\r\n         textStyle(NORMAL);\r\n      } else if (game.world.color == 'white') {\r\n         textStyle(BOLD);\r\n      }\r\n      textSize(10);\r\n      for (let i = 0; i < game.info.count; i++) {\r\n         for (let j = 0; j < game.board.list.length; j++) {\r\n            if (game.orgs[i].player == game.board.list[j].player) {\r\n               let x = function() { // x() and y() cannot be accessed through orgs array, so code is copied and edited from org file\r\n                  let sum = 0;\r\n                  for (let k = 0; k < game.orgs[i].count; k++) {\r\n                     sum += game.orgs[i].cells[k].x;\r\n                  }\r\n                  let average = sum / game.orgs[i].count;\r\n                  return average;\r\n               };\r\n               let y = function() {\r\n                  let sum = 0;\r\n                  for (let k = 0; k < game.orgs[i].count; k++) {\r\n                     sum += game.orgs[i].cells[k].y;\r\n                  }\r\n                  let average = sum / game.orgs[i].count;\r\n                  return average;\r\n               };\r\n               if (game.board.list[j].name.length <= 30) {\r\n                  text(game.board.list[j].name, x() - textWidth(game.board.list[j].name) / 2, y() + sqrt(sq(_cellwidth) * game.orgs[i].count / PI) + 2 * _cellwidth + 8); // sqrt expression approximates radius as a circle; 6 is buffer\r\n               } else {\r\n                  text(game.board.list[j].name.slice(0, 20) + '...', x() - textWidth(game.board.list[j].name.slice(0, 20)) / 2, y() + sqrt(sq(_cellwidth) * game.orgs[i].count / PI) + 2 * _cellwidth + 8); // sqrt expression approximates radius as a circle; 6 is buffer\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n\r\n   // Ability Cooldowns\r\n   if (src.stopped != true) {\r\n      for (let i in ability) { // Regular Cooldowns\r\n         if (typeof ability[i] == 'object' && i !== 'shoot') {\r\n            if (ability[i].cooling == true) {\r\n               cooldown(ability[i]);\r\n            }\r\n         }\r\n      }\r\n      for (let i = 0; i < ability.shoot.value.length; i++) { // Shoot Cooldown\r\n         if (ability.shoot.cooling[i] == true) {\r\n            cooldown(ability.shoot);\r\n            break;\r\n         }\r\n      }\r\n   }\r\n\r\n   // Ability Tooltips\r\n   translate(org.off.x, org.off.y);\r\n   var current;\r\n   if (src.stopped == true) {\r\n      current = src.stopdate;\r\n   } else {\r\n      current = new Date(); // Set current time\r\n   }\r\n   if (ability.tag.activated == false) {\r\n      for (let i = 0; i < 4; i++) {\r\n         for (let j in ability) {\r\n            if (typeof ability[j] == 'object') {\r\n               if (ability[j].i == i) { // Find corresponding ability set to tooltip\r\n                  if (ability[j].activated == true) { // Find corresponding activated ability to tooltip\r\n                     if (j == 'spore' && ability.secrete.value == true) {\r\n                        continue; // Do not draw spore\r\n                     }\r\n                     if (j == 'secrete' && ability.secrete.value == false) {\r\n                        continue; // Do not draw secrete\r\n                     }\r\n                     fill(215);\r\n                     stroke(0);\r\n                     strokeWeight(1);\r\n                     rect(center.x - 150 + i * 100, height * 9 / 10 + 30, 24, 38, 0, 0, 4, 4); // Letter background box\r\n                     let letter;\r\n                     if (i == 0) {\r\n                        letter = Controls.ability1.key;\r\n                     } else if (i == 1) {\r\n                        letter = Controls.ability2.key;\r\n                     } else if (i == 2) {\r\n                        letter = Controls.ability3.key;\r\n                     } else if (i == 3) {\r\n                        if (Controls.ability4.key == ' ') {\r\n                           letter = '_'; // Display space bar as underscore\r\n                        } else {\r\n                           letter = Controls.ability4.key;\r\n                        }\r\n                     }\r\n                     fill(0);\r\n                     noStroke();\r\n                     textSize(14);\r\n                     textFont('Consolas');\r\n                     textStyle(BOLD);\r\n                     text(letter, center.x - 150 + i * 100 - textWidth(letter) / 2, height * 9 / 10 + 30 + 13);\r\n                     fill(0);\r\n                     stroke(0);\r\n                     strokeWeight(1);\r\n                     ellipse(center.x - 150 + i * 100, height * 9 / 10, 30); // Background ellipse; Necessary to cover the key tip\r\n                     fill(215);\r\n                     noStroke();\r\n                     if (ability[j].j == 0) { // If defensive ability (or spore)\r\n                        // Ability\r\n                        if (ability[j].value == true) { // If during ability\r\n                           arc(center.x - 150 + i * 100, height * 9 / 10, 29, 29, -90, -90 - (current - ability[j].start) / ability[j].time * 360); // Ability timeout timer\r\n                        } else if (ability[j].value == false && ability[j].can == false) { // If during cooldown\r\n                           arc(center.x - 150 + i * 100, height * 9 / 10, 29, 29, -90, -90 + (current - ability[j].end) / ability[j].cooldown * 360); // Ability cooldown timer\r\n                        } else if (ability[j].value == false && ability[j].can == true) { // If idling\r\n                           ellipse(center.x - 150 + i * 100, height * 9 / 10, 29);\r\n                        }\r\n                     } else if (ability[j].j == 1) { // If offensive ability\r\n                        if (ability[j].i < 3) { // If one of first three abilities (not secrete)\r\n                           noStroke();\r\n                           // Ability\r\n                           if (ability[j].can == true) { // Idle\r\n                              ellipse(center.x - 150 + i * 100, height * 9 / 10, 29);\r\n                           } else if (ability[j].can == false && current - ability[j].start <= ability[j].time) { // If during ability\r\n                              arc(center.x - 150 + i * 100, height * 9 / 10, 29, 29, -90, -90 - (current - ability[j].start) / ability[j].time * 360); // Ability timeout timer\r\n                           } else if (ability[j].can == false && current - ability[j].start > ability[j].time) { // If during cooldown\r\n                              arc(center.x - 150 + i * 100, height * 9 / 10, 29, 29, -90, -90 + (current - ability[j].end) / ability[j].cooldown * 360); // Ability cooldown timer\r\n                           }\r\n                           // Shoot\r\n                           if (j != 'toxin') { // Toxin does not shoot\r\n                              stroke(0);\r\n                              if (ability.shoot.value[i] == false && ability.shoot.can[i] == true) { // Idle\r\n                                 ellipse(center.x - 150 + i * 100 - 41, height * 9 / 10, 8);\r\n                              } else if (ability.shoot.value[i] == true && ability.shoot.can[i] == false) { // If is shooting\r\n                                 arc(center.x - 150 + i * 100 - 41, height * 9 / 10, 8, 8, -90, -90 - (current - ability.shoot.start[i]) / ability.shoot.time * 360); // Ability timeout timer\r\n                              } else if (ability.shoot.secrete[i].value == true) { // If is secreting\r\n                                 arc(center.x - 150 + i * 100 - 41, height * 9 / 10, 8, 8, -90, -90 - ((ability.shoot.end[i] - ability.shoot.start[i]) / ability.shoot.time * 360) - ((current - ability.shoot.secrete[i].start) / ability.secrete.time * (360 - (ability.shoot.end[i] - ability.shoot.start[i]) / ability.shoot.time * 360))); // Secretion timer\r\n                              } else if (current - ability.shoot.secrete[i].end < ability.shoot.cooldown[i]) {\r\n                                 arc(center.x - 150 + i * 100 - 41, height * 9 / 10, 8, 8, -90, -90 + ((current - ability.shoot.secrete[i].end) / ability.shoot.cooldown[i] * 360)); // Shoot cooldown timer (if no hit)\r\n                              }\r\n                           }\r\n                        } else if (ability[j].i == 3) { // Secrete\r\n                           if (ability[j].can == true) { // Idle\r\n                              ellipse(center.x - 150 + i * 100, height * 9 / 10, 29);\r\n                           } else if (ability[j].can == false && current - ability[j].start <= ability[j].time) { // If during ability\r\n                              arc(center.x - 150 + i * 100, height * 9 / 10, 29, 29, -90, -90 - ((ability.spore.end - ability.spore.start) / ability.spore.time * 360) - (current - ability[j].start) / ability[j].time * (360 - ((ability.spore.end - ability.spore.start) / ability.spore.time * 360))); // Ability cooldown timer\r\n                           }\r\n                        }\r\n                     }\r\n                     itemize(items[j], 1, { r: 0, g: 0, b: 0 }, center.x - 150 + i * 100, height * 9 / 10);\r\n                  }\r\n                  if (ability[j].value == true && ability[j].i < 3) { // Ability Activated Tooltip (Not for spore/secrete)\r\n                     if (ability[j].j == 0 || ability[j].i == 3) { // If defensive ability (+ secrete)\r\n                        fill(66, 244, 176); // Green\r\n                        noStroke();\r\n                        ellipse(center.x - 150 + i * 100 - 9, height * 9 / 10 - 37, 5, 5);\r\n                     } else if (ability[j].j == 1 && ability[j].i != 3) { // If offensive ability (No secrete)\r\n                        fill(255, 141, 135); // Red\r\n                        noStroke();\r\n                        ellipse(center.x - 150 + i * 100 + 9, height * 9 / 10 - 37, 5, 5);\r\n                     }\r\n                  }\r\n                  // fill(215);\r\n                  // ellipse(center.x - 150 + 3 * 100, height * 9 / 10, 29);\r\n               }\r\n            }\r\n         }\r\n      }\r\n   } else if (ability.tag.activated == true) {\r\n      fill(215);\r\n      stroke(0);\r\n      strokeWeight(1);\r\n      rect(center.x, height * 9 / 10 + 30, 24, 38, 0, 0, 4, 4); // Letter background box\r\n      let letter;\r\n      if (ability.tag.i == 0) {\r\n         letter = Controls.ability1.key;\r\n      } else if (ability.tag.i == 1) {\r\n         letter = Controls.ability2.key;\r\n      } else if (ability.tag.i == 2) {\r\n         letter = Controls.ability3.key;\r\n      } else if (ability.tag.i == 3) {\r\n         if (Controls.ability4.key == ' ') {\r\n            letter = '_';\r\n         } else {\r\n            letter = Controls.ability4.key;\r\n         }\r\n      }\r\n      fill(0);\r\n      noStroke();\r\n      textSize(14);\r\n      textFont('Consolas');\r\n      textStyle(BOLD);\r\n      text(letter, center.x - textWidth(letter) / 2, height * 9 / 10 + 30 + 13); // Letter text\r\n      // Ability Circles\r\n      fill(0);\r\n      stroke(0);\r\n      strokeWeight(1);\r\n      ellipse(center.x, height * 9 / 10, 30); // Background ellipse\r\n      fill(215);\r\n      noStroke();\r\n      if (ability.tag.can == true) { // Idle\r\n         ellipse(center.x, height * 9 / 10, 29);\r\n      } else if (ability.tag.can == false && current - ability.tag.start <= ability.tag.time) { // If during ability\r\n         arc(center.x, height * 9 / 10, 29, 29, -90, -90 - (current - ability.tag.start) / ability.tag.time * 360); // Ability timeout timer\r\n      } else if (ability.tag.can == false && current - ability.tag.start > ability.tag.time) { // If during cooldown\r\n         arc(center.x, height * 9 / 10, 29, 29, -90, -90 + (current - ability.tag.end) / ability.tag.cooldown * 360); // Ability cooldown timer\r\n      }\r\n      itemize(items.tag, 1, { r: 0, g: 0, b: 0 }, center.x, height * 9 / 10);\r\n      // Shoot\r\n      fill(215);\r\n      stroke(0);\r\n      if (ability.shoot.value[ability.tag.i] == false && ability.shoot.can[ability.tag.i] == true) { // Idle\r\n         ellipse(center.x - 41, height * 9 / 10, 8);\r\n      } else if (ability.shoot.value[ability.tag.i] == true && ability.shoot.can[ability.tag.i] == false) { // If is shooting\r\n         arc(center.x - 41, height * 9 / 10, 8, 8, -90, -90 - (current - ability.shoot.start[ability.tag.i]) / ability.shoot.time * 360); // Ability timeout timer\r\n      } else if (ability.shoot.secrete[ability.tag.i].value == true) { // If is secreting\r\n         arc(center.x - 41, height * 9 / 10, 8, 8, -90, -90 - ((ability.shoot.end[ability.tag.i] - ability.shoot.start[ability.tag.i]) / ability.shoot.time * 360) - ((current - ability.shoot.secrete[ability.tag.i].start) / ability.secrete.time * (360 - (ability.shoot.end[ability.tag.i] - ability.shoot.start[ability.tag.i]) / ability.shoot.time * 360))); // Secretion timer\r\n      } else if (current - ability.shoot.secrete[ability.tag.i].end < ability.shoot.cooldown[ability.tag.i]) {\r\n         arc(center.x - 41, height * 9 / 10, 8, 8, -90, -90 + ((current - ability.shoot.secrete[ability.tag.i].end) / ability.shoot.cooldown[ability.tag.i] * 360)); // Shoot cooldown timer (if no hit)\r\n      }\r\n      if (ability.tag.value == true) { // Ability Activated Tooltip (only green for tag)\r\n         fill(66, 244, 176); // Green\r\n         noStroke();\r\n         ellipse(center.x - 9, height * 9 / 10 - 37, 5, 5);\r\n      }\r\n   }\r\n   translate(-org.off.x, -org.off.y);\r\n}\r\n\r\nvar getSrc = function() {\r\n   let src;\r\n   switch (state) {\r\n      case 'game':\r\n      case 'spectate':\r\n      case 'respawnMenu':\r\n      case 'pauseGameMenu':\r\n      case 'pauseSpectateMenu':\r\n         src = game;\r\n         break;\r\n      case 'title':\r\n      case 'browser':\r\n      case 'createMenu':\r\n      case 'joinMenu':\r\n      case 'spectateMenu':\r\n         src = title;\r\n         break;\r\n      case 'tutorial':\r\n      case 'pauseTutorialMenu':\r\n         src = tutorial;\r\n         break;\r\n   }\r\n   return src;\r\n};\r\n\r\nfunction move() {\r\n   let keys = '';\r\n   if (keyIsDown(Controls.left1.code) || keyIsDown(Controls.left2.code)) {\r\n      keys += 'l';\r\n   }\r\n   if (keyIsDown(Controls.up1.code) || keyIsDown(Controls.up2.code)) {\r\n      keys += 'u';\r\n   }\r\n   if (keyIsDown(Controls.right1.code) || keyIsDown(Controls.right2.code)) {\r\n      keys += 'r';\r\n   }\r\n   if (keyIsDown(Controls.down1.code) || keyIsDown(Controls.down2.code)) {\r\n      keys += 'd';\r\n   }\r\n   switch (keys) {\r\n      case 'l':\r\n         org.pos.x -= org.speed;\r\n         break;\r\n      case 'u':\r\n         org.pos.y -= org.speed;\r\n         break;\r\n      case 'r':\r\n         org.pos.x += org.speed;\r\n         break;\r\n      case 'd':\r\n         org.pos.y += org.speed;\r\n         break;\r\n      case 'lu':\r\n         org.pos.x -= org.speed * cos45;\r\n         org.pos.y -= org.speed * cos45;\r\n         break;\r\n      case 'lr':\r\n         // Net zero\r\n         break;\r\n      case 'ld':\r\n         org.pos.x -= org.speed * cos45;\r\n         org.pos.y += org.speed * cos45;\r\n         break;\r\n      case 'ur':\r\n         org.pos.x += org.speed * cos45;\r\n         org.pos.y -= org.speed * cos45;\r\n         break;\r\n      case 'ud':\r\n         // Net zero\r\n         break;\r\n      case 'rd':\r\n         org.pos.x += org.speed * cos45;\r\n         org.pos.y += org.speed * cos45;\r\n         break;\r\n      case 'lur':\r\n         org.pos.y -= org.speed; // Net up\r\n         break;\r\n      case 'lud':\r\n         org.pos.x -= org.speed; // Net left\r\n         break;\r\n      case 'lrd':\r\n         org.pos.y += org.speed; // Net down\r\n         break;\r\n      case 'urd':\r\n         org.pos.x += org.speed; // Net right\r\n         break;\r\n      case 'lurd':\r\n         // Net zero\r\n         break;\r\n   }\r\n   if (keys != '') {\r\n      org.off.x = org.pos.x - center.x;\r\n      org.off.y = org.pos.y - center.y;\r\n   }\r\n}\r\n\r\nfunction run() {\r\n   if (!org.intervals.length) { // org.intervals array must be of length 0\r\n      org.intervals.push(setInterval(() => runLoop(), _ofrequency));\r\n   }\r\n}\r\n\r\nfunction runLoop() {\r\n   // Rounds\r\n   var current = new Date();\r\n   if (game.rounds.util) {\r\n      if (game.info.host == socket.id) { // Only if player is host\r\n         if (game.rounds.waiting == true && game.rounds.delayed == false && game.info.count >= game.rounds.min) { // If waiting, not delayed, and have minimum players\r\n            socket.emit('Round Delay', game);\r\n            game.rounds.delayed = true; // game will be overwritten, but this will stop host from emitting redundantly if org.interval is called again before game is updated\r\n         } else if (game.rounds.waiting == true && game.rounds.delayed == true && current - game.rounds.delaystart >= game.rounds.delaytime - 1000 && org.ready == false) { // Only host; If 1 second left in round-begin delay\r\n            socket.emit('Force Spawn', game.info);\r\n         }\r\n      }\r\n      if (game.info.mode == 'srv') { // Survival End-Game\r\n         if (game.rounds.waiting == false && game.rounds.delayed == false && game.info.count == 1 && game.players[0] == socket.id) { // If during game and player is winner\r\n            for (let i = 0; i < game.board.list.length; i++) {\r\n               if (game.board.list[i].player == socket.id) {\r\n                  socket.emit('Round End', game.info);\r\n                  game.board.list[i].wins++;\r\n                  orderBoard(game.board.list);\r\n                  socket.emit('Board', game.board);\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n\r\n   grow(org);\r\n\r\n   // // Targeting DO NOT DELETE\r\n   // org.clickbox.left = org.x();\r\n   // org.clickbox.right = org.clickbox.left;\r\n   // org.clickbox.top = org.y();\r\n   // org.clickbox.bottom = org.clickbox.top;\r\n   // for (let i = 0; i < org.count; i++) { // Set the size of clickbox\r\n   //    if (org.cells[i].x - org.cells[i].width / 2 < org.clickbox.left) {\r\n   //       org.clickbox.left = org.cells[i].x - org.cells[i].width / 2;\r\n   //    }\r\n   //    if (org.cells[i].x + org.cells[i].width / 2 > org.clickbox.right) {\r\n   //       org.clickbox.right = org.cells[i].x + org.cells[i].width / 2;\r\n   //    }\r\n   //    if (org.cells[i].y - org.cells[i].height / 2 < org.clickbox.top) {\r\n   //       org.clickbox.top = org.cells[i].y - org.cells[i].height / 2;\r\n   //    }\r\n   //    if (org.cells[i].y + org.cells[i].height / 2 > org.clickbox.bottom) {\r\n   //       org.clickbox.bottom = org.cells[i].y + org.cells[i].height / 2;\r\n   //    }\r\n   // }\r\n   // org.clickbox.left -= org.clickbox.buffer;\r\n   // org.clickbox.right += org.clickbox.buffer;\r\n   // org.clickbox.top -= org.clickbox.buffer;\r\n   // org.clickbox.bottom += org.clickbox.buffer;\r\n   // org.clickbox.width = org.clickbox.right - org.clickbox.left;\r\n   // org.clickbox.height = org.clickbox.bottom - org.clickbox.top;\r\n   // org.clickbox.x = org.clickbox.left + org.clickbox.width / 2;\r\n   // org.clickbox.y = org.clickbox.top + org.clickbox.height / 2;\r\n\r\n   // CTF\r\n   if (game.info.mode == 'ctf') {\r\n      if (!game.flag.carried) {\r\n         if (org.pos.x - org.col > game.flag.x - game.flag.width / 2 && org.pos.x + org.col < game.flag.x + game.flag.width / 2 && org.pos.y - org.col > game.flag.y - game.flag.height / 2 && org.pos.y + org.col < game.flag.y + game.flag.height / 2) {\r\n            game.flag.carried = true;\r\n            game.flag.carrier = socket.id;\r\n            socket.emit('Flag', game);\r\n         }\r\n      }\r\n   }\r\n\r\n   socket.emit('Org', org);\r\n   if (org.count == 0) {\r\n      for (let i = 0; i < game.board.list.length; i++) {\r\n         if (game.board.list[i].player == socket.id) { // Add death to leaderboard\r\n            game.board.list[i].deaths++; // Add 1 to deaths counter\r\n            orderBoard(game.board.list); // Sort the list by kills then deaths\r\n            socket.emit('Board', game.board); // Send updated board to server\r\n         }\r\n      }\r\n      if (org.hit != org.player) { // Cannot gain kill for suicide\r\n         for (let i = 0; i < game.board.list.length; i++) {\r\n            if (game.board.list[i].player == org.hit) { // Find killer in leaderboard list\r\n               game.board.list[i].kills++;\r\n               orderBoard(game.board.list);\r\n               socket.emit('Board', game.board);\r\n               break;\r\n            }\r\n         }\r\n      }\r\n      die(true);\r\n   }\r\n}\r\n\r\nfunction grow(orG) {\r\n   let org = orG;\r\n   // Avoid double intervals\r\n   if (org.tracker.start) { // If tracker has been started\r\n      org.tracker.end = Date.now();\r\n      org.tracker.elap = org.tracker.end - org.tracker.start;\r\n   }\r\n   if (org.tracker.elap < _ofrequency * .6) {\r\n      switch (state) {\r\n         case 'game': // Only necessary in game, others states may be added\r\n         case 'pauseGameMenu':\r\n            org.clearIntervals();\r\n            org.intervals.push(setInterval(() => runLoop(), _ofrequency));\r\n            break;\r\n      }\r\n   }\r\n   let src = getSrc();\r\n   let ability;\r\n   for (let i = 0; i < src.abilities.length; i++) {\r\n      if (src.abilities[i].player == org.player) {\r\n         ability = src.abilities[i];\r\n         break;\r\n      }\r\n   }\r\n   // Birth\r\n   var regions = getRegionInfo(org);\r\n   if (ability.freeze.value == false) { // If org is not Frozen (cannot birth or die naturally)\r\n      // for (let a = 0; a < ability.stimulate.factor; a++) { // Multiply runs by factor of stimulate OLD\r\n      // if (ability.poison.value == true) {\r\n      // \tif (random(0, ability.poison.factor) >= 1) { // Divide runs by factor of poison (Runs 1 / factor)\r\n      // \t\tcontinue;\r\n      // \t}\r\n      // }\r\n      for (let i = 0; i < regions.adjacent.length; i++) { // Only Adjacent Regions Can Produce New Cells\r\n         // Don't birth new cell outside world boundary\r\n         if (src.world != undefined) {\r\n            if (src.world.type == 'rectangle') {\r\n               if (regions.adjacent[i].x - _cellwidth / 2 <= src.world.x || regions.adjacent[i].x + _cellwidth / 2 >= src.world.x + src.world.width || regions.adjacent[i].y - _cellwidth / 2 <= src.world.x || regions.adjacent[i].y + _cellwidth / 2 >= src.world.y + src.world.height) { // If new cell would be outside world boundary\r\n                  continue;\r\n               }\r\n            } else if (src.world.type == 'ellipse') {\r\n               let a = src.world.width / 2;\r\n               let b = src.world.height / 2;\r\n               let x = (regions.adjacent[i].x - _cellwidth / 2) - a;\r\n               let y = (regions.adjacent[i].y - _cellwidth / 2) - b;\r\n               if (sq(x) / sq(a) + sq(y) / sq(b) >= 1) { // If top-left corner is outside ellipse\r\n                  continue;\r\n               }\r\n               x = (regions.adjacent[i].x + _cellwidth / 2) - a;\r\n               y = (regions.adjacent[i].y - _cellwidth / 2) - b;\r\n               if (sq(x) / sq(a) + sq(y) / sq(b) >= 1) { // If top-right corner is outside ellipse\r\n                  continue;\r\n               }\r\n               x = (regions.adjacent[i].x + _cellwidth / 2) - a;\r\n               y = (regions.adjacent[i].y + _cellwidth / 2) - b;\r\n               if (sq(x) / sq(a) + sq(y) / sq(b) >= 1) { // If bottom-right corner is outside ellipse\r\n                  continue;\r\n               }\r\n               x = (regions.adjacent[i].x - _cellwidth / 2) - a;\r\n               y = (regions.adjacent[i].y + _cellwidth / 2) - b;\r\n               if (sq(x) / sq(a) + sq(y) / sq(b) >= 1) { // If bottom-left corner is outside ellipse\r\n                  continue;\r\n               }\r\n            }\r\n         }\r\n         // Don't birth new cell on top of an opponent org\r\n         var overlap = false;\r\n         for (let j = 0; j < src.orgs.length; j++) {\r\n            if (src.orgs[j].player == org.player) { // If org is player's org\r\n               continue;\r\n            }\r\n            for (let k = 0; k < src.orgs[j].count; k++) {\r\n               if (regions.adjacent[i].x + _cellwidth / 2 >= src.orgs[j].cells[k].x - _cellwidth / 2 && regions.adjacent[i].x + _cellwidth / 2 <= src.orgs[j].cells[k].x + _cellwidth / 2) { // If right side collides\r\n                  if (regions.adjacent[i].y + _cellwidth / 2 >= src.orgs[j].cells[k].y - _cellwidth / 2 && regions.adjacent[i].y + _cellwidth / 2 <= src.orgs[j].cells[k].y + _cellwidth / 2) { // If bottom side collides\r\n                     overlap = true;\r\n                  } else if (regions.adjacent[i].y - _cellwidth / 2 >= src.orgs[j].cells[k].y - _cellwidth / 2 && regions.adjacent[i].y - _cellwidth / 2 <= src.orgs[j].cells[k].y + _cellwidth / 2) { // If top side collides\r\n                     overlap = true;\r\n                  }\r\n               } else if (regions.adjacent[i].x - _cellwidth / 2 >= src.orgs[j].cells[k].x - _cellwidth / 2 && regions.adjacent[i].x - _cellwidth / 2 <= src.orgs[j].cells[k].x + _cellwidth / 2) { // If left side collides\r\n                  if (regions.adjacent[i].y + _cellwidth / 2 >= src.orgs[j].cells[k].y - _cellwidth / 2 && regions.adjacent[i].y + _cellwidth / 2 <= src.orgs[j].cells[k].y + _cellwidth / 2) { // If bottom side collides\r\n                     overlap = true;\r\n                  } else if (regions.adjacent[i].y - _cellwidth / 2 >= src.orgs[j].cells[k].y - _cellwidth / 2 && regions.adjacent[i].y - _cellwidth / 2 <= src.orgs[j].cells[k].y + _cellwidth / 2) { // If top side collides\r\n                     overlap = true;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n         if (overlap == true) {\r\n            continue;\r\n         }\r\n         // Birth new cell accordingly\r\n         if (ability.compress.value ^ ability.extend.value == 0) { // compress.value NOT XOR extend.value\r\n            org.coefficient = -27.5;\r\n            org.range = _range;\r\n         } else if (ability.compress.value == true) {\r\n            org.coefficient = -31.5;\r\n            org.range = _range - 10;\r\n         } else if (ability.extend.value == true) {\r\n            org.coefficient = -25.5;\r\n            org.range = _range + 20;\r\n         }\r\n         let chance = org.coefficient * Math.log(sqrt(sq(regions.adjacent[i].x - org.pos.x) + sq(regions.adjacent[i].y - org.pos.y)) + 1) + 100; // -27.5(ln(r + 1)) + 100\r\n         if (random(0, 100) <= chance) {\r\n            var repeat = false;\r\n            for (let j = 0; j < org.count; j++) {\r\n               if (regions.adjacent[i].x == org.cells[j].x && regions.adjacent[i].y == org.cells[j].y) {\r\n                  repeat = true;\r\n                  break;\r\n               }\r\n            }\r\n            if (repeat == false) {\r\n               org.cells.push(new Cell(regions.adjacent[i].x, regions.adjacent[i].y, org));\r\n               org.count++;\r\n            }\r\n         }\r\n      }\r\n   }\r\n\r\n   // Natural Death\r\n   if (ability.freeze.value == false) { // If org is not Frozen (cannot birth or die naturally)\r\n      if (ability.immortality.value == false) { // If org is not Immortal\r\n         for (let i = 0; i < regions.exposed.length; i++) { // Only Exposed Cells Can Die\r\n            let chance = org.coefficient * Math.log(-regions.exposed[i].d(org) + (org.range + 1)) + 100; // -27.5(ln(-(r - 51))) + 100\r\n            if (regions.exposed[i].d(org) > org.range) { // If exposed cell is outside maximum radius\r\n               for (let j = 0; j < org.count; j++) {\r\n                  if (regions.exposed[i].x == org.cells[j].x && regions.exposed[i].y == org.cells[j].y) { // Find exposed cell within org cells array\r\n                     org.cells.splice(j, 1);\r\n                     org.count--;\r\n                     regions.exposed.splice(i, 1);\r\n                     i--;\r\n                     j--;\r\n                     break;\r\n                  }\r\n               }\r\n               continue;\r\n            }\r\n            if (src.world.type == 'rectangle' && (regions.exposed[i].x < src.world.x || regions.exposed[i].x > src.world.x + src.world.width || regions.exposed[i].y < src.world.y || regions.exposed[i].y > src.world.y + src.world.height)) { // If cell is outside rectangular world\r\n               for (let j = 0; j < org.count; j++) {\r\n                  if (regions.exposed[i].x == org.cells[j].x && regions.exposed[i].y == org.cells[j].y) {\r\n                     org.cells.splice(j, 1);\r\n                     org.count--;\r\n                     regions.exposed.splice(i, 1);\r\n                     i--;\r\n                     j--;\r\n                     break;\r\n                  }\r\n               }\r\n            } else if (src.world.type == 'ellipse' && sq(regions.exposed[i].x - src.world.x - src.world.width / 2) / sq(src.world.width / 2) + sq(regions.exposed[i].y - src.world.y - src.world.height / 2) / sq(src.world.height / 2) > 1) { // If outside elliptical world\r\n               for (let j = 0; j < org.count; j++) {\r\n                  if (regions.exposed[i].x == org.cells[j].x && regions.exposed[i].y == org.cells[j].y) { // Identify cell\r\n                     org.cells.splice(j, 1);\r\n                     org.count--;\r\n                     regions.exposed.splice(i, 1);\r\n                     i--;\r\n                     j--;\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n            if (random(0, 100) <= chance) {\r\n               for (let j = 0; j < org.count; j++) {\r\n                  if (regions.exposed[i].x == org.cells[j].x && regions.exposed[i].y == org.cells[j].y) {\r\n                     org.cells.splice(j, 1);\r\n                     org.count--;\r\n                     regions.exposed.splice(i, 1);\r\n                     i--;\r\n                     j--;\r\n                     break;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n\r\n   // Abilities\r\n   for (let i = 0; i < src.orgs.length; i++) {\r\n      if ((src.orgs[i].team == org.team && typeof team == 'string') && src.orgs[i].player != socket.id) { // If is friendly org but not own org\r\n         continue; // No friendly fire but can hurt self\r\n      }\r\n      if (src.abilities[i].secrete.value == true) { // Secrete (placed in grow interval so cells will be killed on any overlap with secretion, not just initial impact)\r\n         for (let j = 0; j < org.count; j++) {\r\n            for (let k = 0; k < src.abilities[i].spore.count; k++) {\r\n               if (sqrt(sq(org.cells[j].x - src.abilities[i].spore.spores[k].x) + sq(org.cells[j].y - src.abilities[i].spore.spores[k].y)) <= src.abilities[i].secrete.radius) { // If center of cell is within secrete circle (subject to change)\r\n                  let skip = false;\r\n                  for (let l = 0; l < src.abilities.length; l++) {\r\n                     if (src.abilities[l].neutralize.value == true && sqrt(sq(org.cells[j].x - src.abilities[l].neutralize.x) + sq(org.cells[j].y - src.abilities[l].neutralize.y)) <= src.abilities[l].neutralize.radius) { // If center of cell is within neutralize circle\r\n                        skip = true;\r\n                        break;\r\n                     }\r\n                  }\r\n                  if (skip == true) {\r\n                     continue; // Acid is ineffectual when neutralized\r\n                  }\r\n                  org.hit = src.abilities[i].player;\r\n                  if (src.src === 'game' && org.hit !== org.player) { // Only for game; Only for other player hits\r\n                     for (let l = 0; l < src.teams.length; l++) { // Search teams\r\n                        if (src.teams[l].indexOf(org.hit) !== -1 && src.teams[l].indexOf(org.player) !== -1) { // If player and hitter are on same team\r\n                           skip = true;\r\n                           break;\r\n                        }\r\n                     }\r\n                  }\r\n                  if (skip == true) {\r\n                     continue; // Acid is ineffectual when neutralized\r\n                  }\r\n                  org.cells.splice(j, 1);\r\n                  org.count--;\r\n                  j--;\r\n                  break;\r\n               }\r\n            }\r\n         }\r\n      }\r\n      for (let j = 0; j < 3; j++) { // Shoot secretion (placed in grow interval so cells will be killed on any overlap with secretion, not just initial impact) (Shoot secretion is smaller than spore secretion)\r\n         if (src.abilities[i].shoot.secrete[j].value == true) {\r\n            for (let k = 0; k < org.count; k++) {\r\n               if (sqrt(sq(org.cells[k].x - src.abilities[i].shoot.spore[j].x) + sq(org.cells[k].y - src.abilities[i].shoot.spore[j].y)) <= src.abilities[i].shoot.secrete[j].radius) { // If center of cell is within shoot circle (subject to change)\r\n                  let skip = false;\r\n                  for (let l = 0; l < src.abilities.length; l++) {\r\n                     if (src.abilities[l].neutralize.value == true && sqrt(sq(org.cells[j].x - src.abilities[l].neutralize.x) + sq(org.cells[j].y - src.abilities[l].neutralize.y)) <= src.abilities[l].neutralize.radius) { // If center of cell is within neutralize circle\r\n                        skip = true;\r\n                        break;\r\n                     }\r\n                  }\r\n                  if (skip == true) {\r\n                     continue; // Acid is ineffectual when neutralized\r\n                  }\r\n                  org.hit = src.abilities[i].player;\r\n                  if (src.src === 'game' && org.hit !== org.player) { // Only for game; Only for other player hits\r\n                     for (let l = 0; l < src.teams.length; l++) { // Search teams\r\n                        if (src.teams[l].indexOf(org.hit) !== -1 && src.teams[l].indexOf(org.player) !== -1) { // If player and hitter are on same team\r\n                           skip = true;\r\n                           break;\r\n                        }\r\n                     }\r\n                  }\r\n                  if (skip == true) {\r\n                     continue; // Acid is ineffectual when neutralized\r\n                  }\r\n                  org.cells.splice(k, 1);\r\n                  org.count--;\r\n                  k--;\r\n                  // break; // Break causes cells to die one at a time (not default)\r\n               }\r\n            }\r\n         }\r\n      }\r\n      if (src.abilities[i].toxin.value == true) { // Toxin\r\n         for (let j = 0; j < org.count; j++) {\r\n            if (org.player == src.abilities[i].player) { // If is own org's toxin\r\n               continue; // Do not kill own cells\r\n            }\r\n            if (sqrt(sq(org.cells[j].x - src.abilities[i].toxin.x) + sq(org.cells[j].y - src.abilities[i].toxin.y)) <= src.abilities[i].toxin.radius) { // If center of cell is within toxin circle\r\n               let skip = false;\r\n               for (let l = 0; l < src.abilities.length; l++) {\r\n                  if (src.abilities[l].neutralize.value == true && sqrt(sq(org.cells[j].x - src.abilities[l].neutralize.x) + sq(org.cells[j].y - src.abilities[l].neutralize.y)) <= src.abilities[l].neutralize.radius) { // If center of cell is within neutralize circle\r\n                     skip = true;\r\n                     break;\r\n                  }\r\n               }\r\n               if (skip == true) {\r\n                  continue; // Acid is ineffectual when neutralized\r\n               }\r\n               org.hit = src.abilities[i].player;\r\n               if (src.src === 'game' && org.hit !== org.player) { // Only for game; Only for other player hits\r\n                  for (let l = 0; l < src.teams.length; l++) { // Search teams\r\n                     if (src.teams[l].indexOf(org.hit) !== -1 && src.teams[l].indexOf(org.player) !== -1) { // If player and hitter are on same team\r\n                        skip = true;\r\n                        break;\r\n                     }\r\n                  }\r\n               }\r\n               if (skip == true) {\r\n                  continue; // Acid is ineffectual when neutralized\r\n               }\r\n               org.cells.splice(j, 1); // Kill cell\r\n               org.count--;\r\n               j--;\r\n               // break; // Break causes cells to die one at a time (not default)\r\n            }\r\n         }\r\n      }\r\n   }\r\n\r\n   if (org.count == 0) {\r\n      org.alive = false;\r\n   } else {\r\n      org.alive = true;\r\n   }\r\n   org.tracker.start = Date.now();\r\n}\r\n\r\nfunction die(spectatE) {\r\n   socket.emit('Dead', spectatE);\r\n   org.clearIntervals();\r\n   for (let i in ability) { // Reset Ability Cooldowns\r\n      if (typeof ability[i] === 'object' && i !== 'shoot') { // Avoid reference error\r\n         if (ability[i].activated != undefined && ability[i].activated == true) { // If is a usable ability\r\n            clearTimeout(ability[i].timeout);\r\n            ability[i].value = false;\r\n            ability[i].can = true;\r\n            ability[i].cooling = false;\r\n            ability[i].start = undefined;\r\n            ability[i].end = undefined;\r\n         }\r\n      }\r\n   }\r\n   for (let i = 0; i < 3; i++) { // Reset shoots\r\n      clearTimeout(ability.shoot.timeout[i]);\r\n      ability.shoot.value[i] = false;\r\n      ability.shoot.can[i] = true;\r\n      ability.shoot.spore[i] = undefined;\r\n      ability.shoot.secrete[i] = {};\r\n      ability.shoot.start[i] = undefined;\r\n      ability.shoot.end[i] = undefined;\r\n   }\r\n   socket.emit('Ability', ability);\r\n}","var socket; // Initialize in global scope\r\nvar gamesInterval; // Initialize in global scope\r\nfunction connectSocket() {\r\n   if (DEV) {\r\n      socket = io.connect('localhost'); // Local server (Development only)\r\n   } else {\r\n      if (HEROKU) {\r\n         socket = io.connect('https://bacter.herokuapp.com/'); // Heroku Server\r\n      } else {\r\n         socket = io.connect('24.55.26.67'); // Local Server\r\n      }\r\n   }\r\n\r\n   gamesInterval = setInterval(() => {\r\n      if (state != 'game' && state != 'spectate') {\r\n         socket.emit('Games Request');\r\n      }\r\n   }, 250);\r\n\r\n   socket.on('Games', (datA) => { // datA: { games: , connections: }\r\n      games = datA.games;\r\n      connections = datA.connections;\r\n      if (state === 'browser') renderBrowser();\r\n   });\r\n\r\n   socket.on('Enter', () => run()); // Begin growth\r\n\r\n   socket.on('Force Spawn', () => {\r\n      die(false); // 'false' parameter tells server not to emit 'Spectate' back to client\r\n      for (let i = 0; i < game.spectators.length; i++) {\r\n         if (game.spectators[i] == socket.id) { // If player is spectator\r\n            socket.emit('Spectator Left', game.info); // Remove spectator from spectators array\r\n         }\r\n      }\r\n      if (state == 'pauseSpectateMenu') {\r\n         renderMenu('pauseGame', game); // Move to correct menu if on spectate menu\r\n      } else if (state == 'respawnMenu') {\r\n         renderMenu('pauseGame', game);\r\n         menus.pauseGame.submit();\r\n      }\r\n      spawn({ color: org.color, skin: org.skin, team: org.team }); // Respawn all players on round start\r\n      org.spawn = false;\r\n      org.ready = true; // org.ready ensures that org will only be forcibly respawned once\r\n   });\r\n\r\n   socket.on('Game', (gamE) => {\r\n      game = gamE;\r\n      if (ability.spore.value == true) {\r\n         ability.spore.interval();\r\n      }\r\n      for (let i = 0; i < 3; i++) {\r\n         if (ability.shoot.value[i] == true) {\r\n            ability.shoot.interval[i]();\r\n         }\r\n      }\r\n      switch (state) {\r\n         case 'game':\r\n         case 'pauseGameMenu':\r\n            {\r\n               translate(-org.off.x, -org.off.y);\r\n               renderWorld();\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderToxin(game.abilities[i]);\r\n               }\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderSecretions(game.abilities[i]);\r\n               }\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderNeutralize(game.abilities[i]);\r\n               }\r\n               renderOrgs();\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderSpores(game.abilities[i]);\r\n               }\r\n               renderUI();\r\n               renderLeaderboard();\r\n               translate(org.off.x, org.off.y);\r\n            }\r\n            renderMessages(); // Render messages outside translation\r\n            if (state == 'game') {\r\n               move(); // Move goes at the end so player does not render his movements before others\r\n            }\r\n            break;\r\n         case 'spectate':\r\n         case 'pauseSpectateMenu':\r\n         case 'respawnMenu':\r\n            {\r\n               translate(-org.off.x, -org.off.y);\r\n               renderWorld();\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderToxin(game.abilities[i]);\r\n               }\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderSecretions(game.abilities[i]);\r\n               }\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderNeutralize(game.abilities[i]);\r\n               }\r\n               renderOrgs(); // Orgs render over neutralize and toxin but under other abilities\r\n               for (let i = 0; i < game.info.count; i++) {\r\n                  renderSpores(game.abilities[i]);\r\n               }\r\n               renderLeaderboard();\r\n               translate(org.off.x, org.off.y);\r\n            }\r\n            renderMessages();\r\n            if (state == 'spectate') {\r\n               move(); // Move is after messages so everything has same offset\r\n            }\r\n            break;\r\n      }\r\n   });\r\n\r\n   socket.on('Game Ended', function(gamE) {\r\n      if (gamE.info.host != socket.id) { // Don't alert host (he already knows)\r\n         alert('The game has ended');\r\n      }\r\n      renderTitle();\r\n   });\r\n\r\n   socket.on('Spectate', () => spectate({ color: org.color, pos: org.pos, skin: org.skin, team: org.team }));\r\n\r\n   { // Abilities\r\n      socket.on('Tag', () => {\r\n         ability.tag.value = true;\r\n         clearTimeout(ability.tag.timeout);\r\n         socket.emit('Ability', ability);\r\n         if (game.info.mode == '') {\r\n            ability.tag.timeout = setTimeout(() => {\r\n               ability.tag.value = false;\r\n               socket.emit('Ability', ability);\r\n            }, ability.tag.time);\r\n         }\r\n      });\r\n\r\n      socket.on('Extend', () => {\r\n         ability.extend.value = true;\r\n         clearTimeout(ability.extend.timeout);\r\n         ability.extend.start = new Date();\r\n         socket.emit('Ability', ability);\r\n         ability.extend.timeout = setTimeout(() => { // End ability\r\n            ability.extend.value = false;\r\n            ability.extend.end = new Date();\r\n            ability.extend.cooling = true;\r\n            socket.emit('Ability', ability);\r\n         }, ability.extend.time);\r\n      });\r\n\r\n      socket.on('Compress', () => {\r\n         ability.compress.value = true;\r\n         clearTimeout(ability.compress.timeout);\r\n         socket.emit('Ability', ability);\r\n         ability.compress.timeout = setTimeout(() => {\r\n            ability.compress.value = false;\r\n            socket.emit('Ability', ability);\r\n         }, ability.compress.time);\r\n      });\r\n\r\n      // socket.on('Speed', () => { // Not updated\r\n      // \tability.speed.value = true;\r\n      // \torg.speed *= ability.speed.factor;\r\n      // \tclearTimeout(ability.speed.timeout);\r\n      // \tsocket.emit('Ability', ability);\r\n      // \tability.speed.timeout = setTimeout(() => { // End ability\r\n      // \t\torg.speed /= ability.speed.factor;\r\n      // \t\tability.speed.value = false;\r\n      // \t\tsocket.emit('Ability', ability);\r\n      // \t}, ability.speed.time);\r\n      // });\r\n\r\n      // socket.on('Slow', () => { // Not updated\r\n      // \tability.slow.value = true;\r\n      // \torg.speed /= ability.slow.factor; // Divide speed by factor\r\n      // \tclearTimeout(ability.slow.timeout);\r\n      // \tsocket.emit('Ability', ability);\r\n      // \tability.slow.timeout = setTimeout(() => { // End ability\r\n      // \t\torg.speed *= ability.slow.factor; // Multiply speed by factor to reset to original\r\n      // \t\tability.slow.value = false;\r\n      // \t\tsocket.emit('Ability', ability);\r\n      // \t}, ability.slow.time);\r\n      // });\r\n\r\n      socket.on('Immortality', () => {\r\n         ability.immortality.value = true;\r\n         clearTimeout(ability.immortality.timeout);\r\n         ability.immortality.start = new Date();\r\n         socket.emit('Ability', ability);\r\n         ability.immortality.timeout = setTimeout(() => { // End ability\r\n            ability.immortality.value = false;\r\n            ability.immortality.end = new Date();\r\n            ability.immortality.cooling = true;\r\n         }, ability.immortality.time);\r\n      });\r\n\r\n      socket.on('Freeze', () => {\r\n         ability.freeze.value = true;\r\n         clearTimeout(ability.freeze.timeout);\r\n         socket.emit('Ability', ability);\r\n         ability.freeze.timeout = setTimeout(() => { // End ability\r\n            ability.freeze.value = false;\r\n            socket.emit('Ability', ability);\r\n         }, ability.freeze.time);\r\n      });\r\n\r\n      // socket.on('Stimulate', () => {\r\n      // \tability.stimulate.value = true;\r\n      // \tclearTimeout(ability.stimulate.timeout);\r\n      // \tability.stimulate.start = new Date();\r\n      // \tsocket.emit('Ability', ability);\r\n      // \tability.stimulate.timeout = setTimeout(() => { // End ability\r\n      // \t\tability.stimulate.value = false;\r\n      // \t\tability.stimulate.end = new Date();\r\n      // \t\tability.stimulate.cooling = true;\r\n      // \t\tsocket.emit('Ability', ability);\r\n      // \t}, ability.stimulate.time);\r\n      // });\r\n\r\n      // socket.on('Poison', () => {\r\n      // \tability.poison.value = true;\r\n      // \tclearTimeout(ability.poison.timeout);\r\n      // \tsocket.emit('Ability', ability);\r\n      // \tability.poison.timeout = setTimeout(() => { // End ability\r\n      // \t\tability.poison.value = false;\r\n      // \t\tsocket.emit('Ability', ability);\r\n      // \t}, ability.poison.time);\r\n      // });\r\n\r\n      socket.on('Neutralize', () => {\r\n         ability.neutralize.value = true;\r\n         ability.neutralize.start = new Date();\r\n         clearTimeout(ability.neutralize.timeout);\r\n         ability.neutralize.x = org.x();\r\n         ability.neutralize.y = org.y();\r\n         socket.emit('Ability', ability);\r\n         ability.neutralize.timeout = setTimeout(() => {\r\n            ability.neutralize.value = false;\r\n            ability.neutralize.end = new Date();\r\n            ability.neutralize.cooling = true;\r\n            socket.emit('Ability', ability);\r\n         }, ability.neutralize.time);\r\n      });\r\n\r\n      socket.on('Toxin', () => {\r\n         ability.toxin.value = true;\r\n         ability.toxin.start = new Date();\r\n         clearTimeout(ability.toxin.timeout);\r\n         ability.toxin.x = org.x();\r\n         ability.toxin.y = org.y();\r\n         socket.emit('Ability', ability);\r\n         ability.toxin.timeout = setTimeout(() => {\r\n            ability.toxin.value = false;\r\n            ability.toxin.end = new Date();\r\n            ability.toxin.cooling = true;\r\n            socket.emit('Ability', ability);\r\n         }, ability.toxin.time);\r\n      });\r\n   }\r\n}","var title; // Initialize in global scope\r\nvar Title = function() {\r\n   state = 'title';\r\n   this.src = 'title';\r\n   // this.cnv = createCanvas(window.innerWidth, window.innerHeight);\r\n   // this.canvas = this.cnv.elt; // HTML Node is stored in p5 canvas' .elt property\r\n   // this.canvas.style.zIndex = '-1';\r\n   this.margin = _margin;\r\n   this.world = new World({ width: window.innerWidth - this.margin * 2, height: window.innerHeight - this.margin * 2, type: 'rectangle', color: 'black', x: this.margin, y: this.margin });\r\n   this.orgs = [];\r\n   this.abilities = [];\r\n   let quadrants = [];\r\n   for (let i = 0; i < _dummies; i++) {\r\n      let colors = [];\r\n      for (let j in orgColors.black) {\r\n         colors.push(orgColors.black[j]);\r\n      }\r\n      let color = random(colors);\r\n      let arr = skins.slice();\r\n      arr.push('none');\r\n      let skin = random(arr);\r\n      let xoff;\r\n      let yoff;\r\n      let quadrant;\r\n      do {\r\n         quadrant = random();\r\n         if (quadrant < .25) {\r\n            quadrant = 1;\r\n            xoff = 0;\r\n            yoff = 0;\r\n         } else if (quadrant < .5) {\r\n            quadrant = 2;\r\n            xoff = 1;\r\n            yoff = 0;\r\n         } else if (quadrant < .75) {\r\n            quadrant = 3;\r\n            xoff = 1;\r\n            yoff = 1;\r\n         } else if (quadrant < 1) {\r\n            quadrant = 4;\r\n            xoff = 0;\r\n            yoff = 1;\r\n         }\r\n         quadrants[i] = quadrant;\r\n      } while (freq(quadrants, quadrant) > floor(_dummies / 4) + 1);\r\n      let pos = {\r\n         x: random(this.world.x + _cellwidth + this.world.width / 2 * xoff, this.world.x - _cellwidth + this.world.width / 2 * (xoff + 1)), // 80 is edge buffer\r\n         y: random(this.world.y + _cellwidth + this.world.height / 2 * yoff, this.world.y - _cellwidth + this.world.height / 2 * (yoff + 1))\r\n      };\r\n      this.orgs[i] = new Org({ player: i, color: color, skin: skin, team: null, pos: pos, title: true });\r\n      this.orgs[i].cells[0] = new Cell(this.orgs[i].pos.x, this.orgs[i].pos.y, this.orgs[i]); // Title must exist to create new Cell()\r\n      this.orgs[i].count++;\r\n      this.abilities[i] = new Ability({ player: i });\r\n   }\r\n   this.menu = new TitleMenu(this.world.x + this.world.width / 2, this.world.y + this.world.height / 2);\r\n   this.interval = setInterval(() => {\r\n      { // Render\r\n         // Background\r\n         background(this.world.backdrop.r, this.world.backdrop.g, this.world.backdrop.b);\r\n\r\n         // Shadows\r\n         fill(this.world.backdrop.r - 20, this.world.backdrop.g - 20, this.world.backdrop.b - 20);\r\n         noStroke();\r\n         rect(this.world.x + this.world.width / 2 + 7, this.world.y + this.world.height / 2 + 6, this.world.width, this.world.height); // World\r\n\r\n         // World\r\n         fill(this.world.background.r, this.world.background.g, this.world.background.b);\r\n         stroke(this.world.border.color.r, this.world.border.color.g, this.world.border.color.b);\r\n         strokeWeight(1);\r\n         rect(this.world.x + this.world.width / 2, this.world.y + this.world.height / 2, this.world.width, this.world.height);\r\n\r\n         // Orgs\r\n         renderOrgs();\r\n      } { // Calculate\r\n         for (let i = 0; i < this.orgs.length; i++) {\r\n            grow(this.orgs[i]);\r\n         }\r\n      }\r\n   }, _ofrequency);\r\n   this.resize = (x, y, w, h) => {\r\n      center.x = window.innerWidth / 2;\r\n      center.y = window.innerHeight / 2;\r\n      let old_x = this.world.x - this.margin;\r\n      let old_y = this.world.y - this.margin;\r\n      for (let i = 0; i < this.orgs.length; i++) {\r\n         this.orgs[i].pos.x = (this.orgs[i].pos.x - this.margin - old_x) / this.world.width * (w - this.margin * 2) + (this.margin + x); // Reposition org correctly\r\n         this.orgs[i].pos.y = (this.orgs[i].pos.y - this.margin - old_y) / this.world.height * (h - this.margin * 2) + (this.margin + y); // Must be before new world creation so can find percentage of former world size\r\n         this.orgs[i].cells = [];\r\n         this.orgs[i].cells[0] = new Cell(this.orgs[i].pos.x, this.orgs[i].pos.y, this.orgs[i]);\r\n         this.orgs[i].count = 1;\r\n      }\r\n      this.world = new World({ width: w - this.margin * 2, height: h - this.margin * 2, type: 'rectangle', color: 'black', x: x + this.margin, y: y + this.margin });\r\n      if (state === 'title') {\r\n         renderTitle();\r\n      } else if (state === 'browser') {\r\n         renderBrowser();\r\n      }\r\n      cnv = createCanvas(window.innerWidth, window.innerHeight); // Create p5 canvas\r\n      cnv.parent('#canvascont'); // Set CanvasCont as p5 canvas parent\r\n   };\r\n};\r\n\r\nclass TitleMenu extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n   }\r\n\r\n   handleClick(btn) {\r\n      switch (btn) {\r\n         case 'host':\r\n            renderMenu('create');\r\n            break;\r\n         case 'join':\r\n            renderBrowser();\r\n            break;\r\n         case 'tutorial':\r\n            tutorial = new Tutorial();\r\n            break;\r\n      }\r\n   };\r\n\r\n   render() {\r\n      let x = center.x;\r\n      let y = center.y;\r\n      let mWidth = 170; // Menu Width\r\n      let mHeight = 150;\r\n      let bWidth = mWidth * 2 / 3; // Button Width\r\n      let bHeight = 25;\r\n      let style = {\r\n         menu: {\r\n            left: (x - mWidth / 2) + 'px',\r\n            top: (y - mHeight / 2) + 'px'\r\n         },\r\n         host: {\r\n            left: (x - bWidth / 2) + 'px',\r\n            top: (y - mHeight / 2 + 29) + 'px'\r\n         },\r\n         join: {\r\n            left: (x - bWidth / 2) + 'px',\r\n            top: (y - mHeight / 2 + 29 + bHeight * 3 / 2) + 'px'\r\n         },\r\n         tutorial: {\r\n            left: (x - bWidth / 2) + 'px',\r\n            top: (y - mHeight / 2 + 29 + bHeight * 3 / 2 * 2) + 'px'\r\n         }\r\n      };\r\n      return (\r\n         <div id='Title Menu' style={style.menu}>\r\n            <div id='Title Host Button' className='Title Menu Button' onClick={() => this.handleClick('host')} style={style.host}>Host</div>\r\n            <div id='Title Join Button' className='Title Menu Button' onClick={() => this.handleClick('join')} style={style.join}>Join</div>\r\n            <div id='Title Tutorial Button' className='Title Menu Button' onClick={() => this.handleClick('tutorial')} style={style.tutorial}>Tutorial</div>\r\n         </div>\r\n      ); // handleClick does not need to be bound if arrow function is used; without using arrow function, 'host'/'join'/'tutorial' properties could not be sent\r\n   }\r\n};\r\n\r\nfunction renderTitle() {\r\n   state = 'title';\r\n   let a = ReactDOM.render( // Title rendering placed within ReactDOM.render() so Title() can be used for title and retain this. namespace\r\n      <div id='title'>\r\n         <CanvasCont />\r\n         <TitleMenu />\r\n      </div>\r\n   , $('cont')); // TitleMenu will not retain its this. namespace\r\n}\r\n\r\nvar Shade = function() {\r\n   let style = {\r\n      position: 'fixed',\r\n      left: '0px',\r\n      top: '0px',\r\n      width: '100%',\r\n      height: '100%',\r\n      backgroundColor: 'rgb(255, 255, 255)',\r\n      opacity: '.5',\r\n      zIndex: '-1'\r\n   };\r\n   return (\r\n      <div id=\"shade\" style={style}></div>\r\n   );\r\n};","var tutorial;\r\nvar Tutorial = function() {\r\n   clearInterval(title.interval);\r\n   ReactDOM.unmountComponentAtNode($('cont'));\r\n   state = 'tutorial';\r\n   this.src = 'tutorial';\r\n   this.task = 'move';\r\n   this.taskTimeout = undefined;\r\n   this.margin = _margin;\r\n   this.world = new World({ width: window.innerWidth - this.margin * 2, height: window.innerHeight - this.margin * 2, type: 'rectangle', color: 'black', x: this.margin, y: this.margin }); { // Org\r\n      let colors = [];\r\n      for (let j in orgColors.black) {\r\n         if (j != 'sun' && j != 'sky') { // No bright colors which would obscure the crosshair in tutorial to minimize confusion\r\n            colors.push(orgColors.black[j]);\r\n         }\r\n      }\r\n      let color = random(colors);\r\n      org = new Org({ player: socket.id, color: color, skin: 'none', spectate: false, pos: { x: center.x, y: center.y }, title: false });\r\n      org.cells[0] = new Cell(org.pos.x, org.pos.y, org); // Create first cell in org\r\n      org.count++;\r\n   }\r\n   this.orgs = [org];\r\n   this.abilities = [ability];\r\n   this.ointerval = setInterval(() => {\r\n      for (let i = 0; i < this.orgs.length; i++) {\r\n         grow(this.orgs[i]);\r\n         if (org.count == 0) {\r\n            this.orgs[i].cells[0] = new Cell(org.pos.x, org.pos.y, org); // Create first cell in org\r\n            this.orgs[i].count++;\r\n         }\r\n      }\r\n   }, _ofrequency); // 70ms\r\n   this.rinterval = setInterval(() => {\r\n      { // Render\r\n         // Background\r\n         background(this.world.backdrop.r, this.world.backdrop.g, this.world.backdrop.b);\r\n\r\n         // Shadows\r\n         { // World\r\n            fill(this.world.backdrop.r - 20, this.world.backdrop.g - 20, this.world.backdrop.b - 20);\r\n            noStroke();\r\n            rect(this.world.x + this.world.width / 2 + 7, this.world.y + this.world.height / 2 + 6, this.world.width, this.world.height);\r\n         } { // Messages\r\n            if (Messages == true) {\r\n               textFont('Helvetica');\r\n               textStyle(NORMAL);\r\n               let message = getMessage();\r\n               if (message != undefined) {\r\n                  let breaks = freq(message, '\\n');\r\n                  let width = messageWidth(message);\r\n                  rect(5 + 25 + width / 2, 4 + 25 + 9 * breaks, 25 + width, 26 + 18 * breaks);\r\n               }\r\n            }\r\n\r\n         }\r\n\r\n         // World\r\n         fill(this.world.background.r, this.world.background.g, this.world.background.b);\r\n         stroke(this.world.border.color.r, this.world.border.color.g, this.world.border.color.b);\r\n         strokeWeight(1);\r\n         rect(this.world.x + this.world.width / 2, this.world.y + this.world.height / 2, this.world.width, this.world.height);\r\n\r\n         // Game\r\n         renderToxin(ability);\r\n         renderSecretions(ability);\r\n         renderNeutralize(ability);\r\n         renderOrgs();\r\n         renderSpores(ability);\r\n         if (this.task != 'move' && this.task != 'survive') {\r\n            translate(-org.off.x, -org.off.y);\r\n            renderUI();\r\n            translate(org.off.x, org.off.y);\r\n         }\r\n         noFill(); // Crosshair\r\n         stroke(this.world.border.color.r, this.world.border.color.g, this.world.border.color.b);\r\n         strokeWeight(1);\r\n         line(org.pos.x - 4, org.pos.y, org.pos.x + 4, org.pos.y);\r\n         line(org.pos.x, org.pos.y - 4, org.pos.x, org.pos.y + 4);\r\n         renderMessages(); // Render messages outside translation\r\n      } { // Calculate\r\n         if (this.stopped == false) {\r\n            if (ability.spore.value == true) {\r\n               ability.spore.interval();\r\n            }\r\n            for (let i = 0; i < 3; i++) {\r\n               if (ability.shoot.value[i] == true) {\r\n                  ability.shoot.interval[i]();\r\n               }\r\n            }\r\n            if (state == 'tutorial') {\r\n               move();\r\n            }\r\n         }\r\n         this.detect();\r\n      }\r\n   }, _rfrequency); // 40ms\r\n   this.clear = function() {\r\n      clearInterval(this.ointerval);\r\n      clearInterval(this.rinterval);\r\n   };\r\n   this.stopped = false;\r\n   this.stopdate = undefined;\r\n   this.stop = function() {\r\n      this.stopped = true;\r\n      this.stopdate = new Date();\r\n      clearInterval(this.ointerval);\r\n   };\r\n   this.resize = function(x, y, w, h) {\r\n      center.x = window.innerWidth / 2;\r\n      center.y = window.innerHeight / 2;\r\n      let old_x = this.world.x - this.margin;\r\n      let old_y = this.world.y - this.margin;\r\n      for (let i = 0; i < this.orgs.length; i++) {\r\n         this.orgs[i].pos.x = (this.orgs[i].pos.x - this.margin - old_x) / this.world.width * (w - this.margin * 2) + (this.margin + x); // Reposition org correctly\r\n         this.orgs[i].pos.y = (this.orgs[i].pos.y - this.margin - old_y) / this.world.height * (h - this.margin * 2) + (this.margin + y); // Must be before new world creation so can find percentage of former world size\r\n         this.orgs[i].cells = [];\r\n         this.orgs[i].cells[0] = new Cell(this.orgs[i].pos.x, this.orgs[i].pos.y, this.orgs[i]);\r\n         this.orgs[i].count = 1;\r\n      }\r\n      this.world = new World({ width: w - this.margin * 2, height: h - this.margin * 2, type: 'rectangle', color: 'black', x: x + this.margin, y: y + this.margin });\r\n   };\r\n   this.detect = function() {\r\n      switch (this.task) {\r\n         case 'move':\r\n            {\r\n               if (keyIsDown(Controls.left1.code) || keyIsDown(Controls.left2.code) || keyIsDown(Controls.up1.code) || keyIsDown(Controls.up2.code) || keyIsDown(Controls.right1.code) || keyIsDown(Controls.right2.code) || keyIsDown(Controls.down1.code) || keyIsDown(Controls.down2.code)) { // If a directional key is pressed\r\n                  this.task = 'fullscreen';\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        this.task = 'survive';\r\n                     }, 3500);\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n         case 'survive':\r\n            {\r\n               if (this.taskTimeout == undefined) {\r\n                  this.taskTimeout = setTimeout(() => {\r\n                     this.taskTimeout = undefined;\r\n                     this.task = 'extend';\r\n                     ability.extend.activated = true;\r\n                     ability.extend.can = true;\r\n                     socket.emit('Ability', ability);\r\n                  }, 4500);\r\n               }\r\n               break;\r\n            }\r\n         case 'extend':\r\n            {\r\n               if (keyIsDown(Controls.ability1.code)) {\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        ability.extend.activated = false;\r\n                        ability.extend.can = false;\r\n                        this.task = 'immortality';\r\n                        ability.immortality.activated = true;\r\n                        ability.immortality.can = true;\r\n                        socket.emit('Ability', ability);\r\n                     }, ability.extend.time);\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n         case 'immortality':\r\n            {\r\n               if (keyIsDown(Controls.ability2.code)) {\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        ability.immortality.activated = false;\r\n                        ability.immortality.can = false;\r\n                        this.task = 'neutralize';\r\n                        ability.neutralize.activated = true;\r\n                        ability.neutralize.can = true;\r\n                        socket.emit('Ability', ability);\r\n                     }, ability.immortality.time);\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n         case 'neutralize':\r\n            {\r\n               if (keyIsDown(Controls.ability3.code)) {\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        ability.neutralize.activated = false;\r\n                        ability.neutralize.can = false;\r\n                        this.task = 'shoot';\r\n                        ability.compress.activated = true;\r\n                        ability.compress.can = true;\r\n                        ability.freeze.activated = true;\r\n                        ability.freeze.can = true;\r\n                        socket.emit('Ability', ability);\r\n                     }, ability.neutralize.time);\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n         case 'shoot':\r\n            {\r\n               if (this.taskTimeout == undefined) {\r\n                  this.taskTimeout = setTimeout(() => {\r\n                     this.taskTimeout = undefined;\r\n                     ability.freeze.activated = false;\r\n                     ability.freeze.can = false;\r\n                     this.task = 'compress';\r\n                     ability.compress.activated = true; // Redundancy\r\n                     ability.compress.can = true; // Redundancy\r\n                  }, 10000);\r\n               }\r\n               break;\r\n            }\r\n         case 'compress':\r\n            {\r\n               if (this.orgs.length == 1) {\r\n                  let colors = [];\r\n                  for (let j in orgColors.black) {\r\n                     if (j != 'sun' && j != 'lime')\r\n                        colors.push(orgColors.black[j]);\r\n                  }\r\n                  let color = random(colors);\r\n                  let pos;\r\n                  do {\r\n                     pos = { x: random(this.world.width), y: random(this.world.height) };\r\n                  } while (sqrt(sq(pos.x - org.pos.x) + sq(pos.y - org.pos.y)) < _range + 30); // _range + 20 is maximum extend range\r\n                  this.orgs.push(new Org({ player: 'bot' + 1, color: color, skin: 'none', spectate: false, pos: pos, title: false }));\r\n                  this.orgs[1].cells[0] = new Cell(this.orgs[1].pos.x, this.orgs[1].pos.y, this.orgs[1]); // Create first cell in org\r\n                  this.orgs[1].count++;\r\n                  this.abilities[1] = new Ability({ player: 'bot' + 1 });\r\n               }\r\n               if (ability.compress.applied == true) {\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        ability.compress.activated = false;\r\n                        ability.compress.can = false;\r\n                        ability.freeze.activated = true;\r\n                        ability.freeze.can = true;\r\n                        this.task = 'freeze';\r\n                     }, ability.compress.time);\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n         case 'freeze':\r\n            {\r\n               if (ability.freeze.applied == true) {\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        ability.freeze.activated = false;\r\n                        ability.freeze.can = false;\r\n                        ability.toxin.activated = true;\r\n                        ability.toxin.can = true;\r\n                        this.task = 'toxin';\r\n                     }, ability.freeze.time);\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n         case 'toxin':\r\n            {\r\n               if (keyIsDown(Controls.ability3.code)) {\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        ability.toxin.activated = false;\r\n                        ability.toxin.can = false; // All ability can values are reset to true after task change by cooldown; not a problem at the moment; can = false is useless at the moment\r\n                        this.task = 'spore';\r\n                        ability.spore.activated = true;\r\n                        ability.spore.can = true;\r\n                        ability.secrete.activated = true; // .can = false\r\n                        socket.emit('Ability', ability);\r\n                     }, ability.toxin.time);\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n         case 'spore':\r\n            {\r\n               let current = new Date();\r\n               if (ability.secrete.value == true) {\r\n                  if (this.stopped == true) {\r\n                     this.stopped = false;\r\n                     this.ointerval = setInterval(() => { // Restart\r\n                        for (let i = 0; i < this.orgs.length; i++) {\r\n                           grow(this.orgs[i]);\r\n                           if (org.count == 0) {\r\n                              this.orgs[i].cells[0] = new Cell(org.pos.x, org.pos.y, org); // Create first cell in org\r\n                              this.orgs[i].count++;\r\n                           }\r\n                        }\r\n                     }, _ofrequency); // 70ms\r\n                     ability.spore.end = new Date();\r\n                     ability.secrete.start = new Date();\r\n                  }\r\n                  if (this.taskTimeout == undefined) {\r\n                     this.taskTimeout = setTimeout(() => {\r\n                        this.taskTimeout = undefined;\r\n                        ability.spore.activated = false;\r\n                        ability.spore.can = false;\r\n                        ability.secrete.activated = false;\r\n                        ability.secrete.can = false;\r\n                        this.task = 'done';\r\n                     }, ability.secrete.time);\r\n                  }\r\n               } else if (ability.spore.value == true && current - ability.spore.start >= ability.spore.time / 2) {\r\n                  if (this.stopped == false) {\r\n                     clearInterval(ability.spore.interval);\r\n                     clearTimeout(ability.spore.timeout);\r\n                     this.stop();\r\n                  }\r\n               }\r\n               break;\r\n            }\r\n      }\r\n   };\r\n};","var World = function(datA) { // datA: { width: , height: , type: , color: , x: , y: }\r\n   let data = datA;\r\n   this.host = socket.id; // Cannot call game.info.host since game is not fully constructed yet; World() can only be called by host, so socket.id is ok\r\n   this.width = data.width;\r\n   this.height = data.height;\r\n   if (data.x != undefined) { // Coordinates are for top left corner\r\n      this.x = data.x;\r\n   } else {\r\n      this.x = 0;\r\n   }\r\n   if (data.y != undefined) {\r\n      this.y = data.y;\r\n   } else {\r\n      this.y = 0;\r\n   }\r\n   this.type = data.type\r\n   this.color = data.color;\r\n   for (let i in worldColors) {\r\n      if (i == this.color) {\r\n         this.background = worldColors[i];\r\n         break;\r\n      }\r\n   }\r\n   this.interval = undefined;\r\n   this.border = {\r\n      color: undefined,\r\n      weight: 1\r\n   };\r\n   this.backdrop = { r: 70, g: 70, b: 70 };\r\n   this.border.weight = 1;\r\n   if (this.color == 'black') {\r\n      this.border.color = { r: 255, g: 255, b: 255 };\r\n   } else if (this.color == 'white') {\r\n      this.border.color = { r: 0, g: 0, b: 0 };\r\n   }\r\n};\r\n\r\nfunction renderWorld() {\r\n   // Background\r\n   background(game.world.backdrop.r, game.world.backdrop.g, game.world.backdrop.b);\r\n\r\n   // Shadows\r\n   fill(game.world.backdrop.r - 20, game.world.backdrop.g - 20, game.world.backdrop.b - 20);\r\n   noStroke();\r\n   { // World\r\n      if (game.world.type == 'rectangle') { // World\r\n         rect(game.world.x + game.world.width / 2 + 7, game.world.y + game.world.height / 2 + 6, game.world.width, game.world.height);\r\n      } else if (game.world.type == 'ellipse') {\r\n         ellipse(game.world.x + game.world.width / 2 + 5, game.world.y + game.world.height / 2 + 4, game.world.width / 2, game.world.height / 2);\r\n      }\r\n   }\r\n   { // Leaderboard\r\n      translate(org.off.x, org.off.y); // Shadows in renderWorld() so it will render behind world\r\n      rectMode(CORNER);\r\n      game.board.y = game.board.marginTop; // Leaderboard Head\r\n      switch (game.info.mode) {\r\n         case 'ffa':\r\n            game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth) - game.board.marginRight;\r\n            rect(game.board.x + 4, game.board.y + 3, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth, game.board.rowHeight);\r\n            game.board.count = min(game.board.show, game.board.list.length);\r\n            break;\r\n         case 'skm':\r\n            game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth) - game.board.marginRight;\r\n            rect(game.board.x + 4, game.board.y + 3, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth, game.board.rowHeight);\r\n            game.board.count = game.teams.length;\r\n            break;\r\n         case 'srv':\r\n            game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth) - game.board.marginRight;\r\n            rect(game.board.x + 4, game.board.y + 3, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.rowHeight);\r\n            game.board.count = min(game.board.show, game.board.list.length);\r\n            break;\r\n         case 'ctf':\r\n            game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth) - game.board.marginRight;\r\n            rect(game.board.x + 4, game.board.y + 3, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.rowHeight);\r\n            game.board.count = game.teams.length;\r\n            break;\r\n         case 'inf':\r\n            game.board.x = width - (game.board.nameWidth + game.board.oneWidth) - game.board.marginRight;\r\n            rect(game.board.x + 4, game.board.y + 3, game.board.nameWidth + game.board.oneWidth, game.board.rowHeight);\r\n            game.board.count = min(game.board.show, game.board.list.length);\r\n            break;\r\n         case 'kth':\r\n            game.board.x = width - (game.board.nameWidth + game.board.oneWidth + game.board.twoWidth) - game.board.marginRight;\r\n            rect(game.board.x + 4, game.board.y + 3, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.rowHeight);\r\n            game.board.count = min(game.board.show, game.board.list.length);\r\n            break;\r\n      }\r\n      var a = 0;\r\n      for (let i = 0; i < game.board.count; i++) { // Leaderboard Body\r\n         if (game.info.mode != 'skm' && game.info.mode != 'ctf') { // If not a team mode\r\n            var spectator = false;\r\n            for (let j = 0; j < game.spectators.length; j++) {\r\n               if (game.board.list[i].player == game.spectators[j]) {\r\n                  spectator = true;\r\n                  break;\r\n               }\r\n            }\r\n            if (spectator == true) {\r\n               if (i < game.board.count) {\r\n                  if (game.board.count < game.info.count) {\r\n                     game.board.count++; // Extend leaderboard length to include the next player\r\n                     i++; // Do not render leaderboard status if player is a spectator\r\n                  } else {\r\n                     continue;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n         switch (game.info.mode) {\r\n            case 'ffa':\r\n               rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth, game.board.rowHeight);\r\n               break;\r\n            case 'skm':\r\n               rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth + game.board.threeWidth, game.board.rowHeight);\r\n               break;\r\n            case 'srv':\r\n               rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.rowHeight);\r\n               break;\r\n            case 'ctf':\r\n               rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.rowHeight);\r\n               break;\r\n            case 'inf':\r\n               rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth, game.board.rowHeight);\r\n               break;\r\n            case 'kth':\r\n               rect(game.board.x + 4, game.board.y + 3 + (a + 1) * game.board.rowHeight, game.board.nameWidth + game.board.oneWidth + game.board.twoWidth, game.board.rowHeight);\r\n               break;\r\n         }\r\n         a++;\r\n      }\r\n      translate(-org.off.x, -org.off.y);\r\n      rectMode(CENTER);\r\n   } { // Messages\r\n      translate(org.off.x, org.off.y);\r\n      if (Messages == true) {\r\n         textFont('Helvetica');\r\n         textStyle(NORMAL);\r\n         let message = getMessage();\r\n         if (message != undefined) {\r\n            let breaks = freq(message, '\\n');\r\n            let width = messageWidth(message);\r\n            rect(5 + 25 + width / 2, 4 + 25 + 9 * breaks, 25 + width, 26 + 18 * breaks);\r\n         }\r\n      }\r\n      translate(-org.off.x, -org.off.y);\r\n   }\r\n\r\n   // World\r\n   fill(game.world.background.r, game.world.background.g, game.world.background.b);\r\n   stroke(game.world.border.color.r, game.world.border.color.g, game.world.border.color.b);\r\n   strokeWeight(game.world.border.weight);\r\n   if (game.world.type == 'rectangle') {\r\n      rect(game.world.x + game.world.width / 2, game.world.y + game.world.height / 2, game.world.width, game.world.height); // World border\r\n   } else if (game.world.type == 'ellipse') {\r\n      ellipse(game.world.x + game.world.width / 2, game.world.y + game.world.height / 2, game.world.width / 2, game.world.height / 2); // World border\r\n   }\r\n\r\n   // CTF\r\n   if (game.info.mode == 'ctf') {\r\n      // Bases\r\n      for (let i = 1; i < game.teams.length + 1; i++) {\r\n         let color = teamColorDef[teamColors[i - 1]];\r\n         stroke(orgColors[game.world.color][color].r, orgColors[game.world.color][color].g, orgColors[game.world.color][color].b);\r\n         strokeWeight(3);\r\n         let bin = i.toString(2); // Convert i to binary string\r\n         if (bin.length < 2) {\r\n            bin = '0' + bin; // Add zero to front to form equivalent two-length binary number\r\n         }\r\n         let x = game.world.x + (game.world.width * parseInt(bin[bin.length - 1]));\r\n         let y = game.world.y + (game.world.height * parseInt(bin[bin.length - 2]));\r\n         let theta;\r\n         if (bin == '01') {\r\n            theta = 270;\r\n         } else if (bin == '10') {\r\n            theta = 90;\r\n         } else if (bin == '11') {\r\n            theta = 180;\r\n         } else if (bin == '100') {\r\n            theta = 0;\r\n         }\r\n         let l = 150;\r\n         if (game.world.type == 'rectangle') {\r\n            arc(x, y, l, l, -theta + 1, -theta + 89); // -1 to avoid world border overlap with a degree cushion either side\r\n         } else if (game.world.type == 'ellipse') {\r\n            let r = game.world.width / 2;\r\n            let h = x + cos(-theta + 45) * r * (root2 - 1); // l = r(root2 - 1); length from circle to square corner\r\n            let k = y + sin(-theta + 45) * r * (root2 - 1); // yoff = l*sin(-theta + 45); -theta + 45 gives angle to center\r\n            let a = game.world.x + r; // a is world center x\r\n            let b = game.world.y + r; // b is world center y\r\n            let diffs = [];\r\n            let points = [ /*{ p: Number, q: Number }*/ ];\r\n            for (let j = 0; j < 720; j++) {\r\n               let alpha = j;\r\n               let p = h + l * cos(alpha);\r\n               let q = k + l * sin(alpha);\r\n               let d = abs(sqrt(sq(p - a) + sq(q - b)) - r); // Calculate distance of point on base circle to world circle\r\n               diffs.push(d); // Store all distances to array\r\n               points.push({ p: p, q: q }); // Store all points to array\r\n            }\r\n            let point = points[diffs.indexOf(min(diffs))]; // Find closest point to world circle (points and diffs are analogous)\r\n            let phi = atan(abs(point.q - k) / abs(point.p - h));\r\n            if (phi > 45) {\r\n               phi = 90 - phi;\r\n            }\r\n            arc(h, k, l, l, -theta - phi + 1, -theta + 90 + phi - 1); // -1 to avoid world border overlap\r\n         }\r\n      }\r\n      // Flag\r\n      noFill();\r\n      stroke(game.world.border.color.r, game.world.border.color.g, game.world.border.color.b);\r\n      strokeWeight(2);\r\n      line(game.flag.x - game.flag.width / 2, game.flag.y - game.flag.height / 2, game.flag.x - game.flag.width / 2, game.flag.y + game.flag.height / 2);\r\n      fill(game.flag.color.r, game.flag.color.g, game.flag.color.b);\r\n      strokeWeight(1);\r\n      triangle(game.flag.x - game.flag.width / 2, game.flag.y - game.flag.height / 2, game.flag.x - game.flag.width / 2, game.flag.y, game.flag.x + game.flag.width / 2, game.flag.y - game.flag.height / 4);\r\n   }\r\n}"]}